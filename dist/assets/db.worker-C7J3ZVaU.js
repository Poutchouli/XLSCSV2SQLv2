var cr=Object.defineProperty;var nn=_e=>{throw TypeError(_e)};var _r=(_e,oe,Ee)=>oe in _e?cr(_e,oe,{enumerable:!0,configurable:!0,writable:!0,value:Ee}):_e[oe]=Ee;var rn=(_e,oe,Ee)=>_r(_e,typeof oe!="symbol"?oe+"":oe,Ee),Gt=(_e,oe,Ee)=>oe.has(_e)||nn("Cannot "+Ee);var X=(_e,oe,Ee)=>(Gt(_e,oe,"read from private field"),Ee?Ee.call(_e):oe.get(_e)),ft=(_e,oe,Ee)=>oe.has(_e)?nn("Cannot add the same private member more than once"):oe instanceof WeakSet?oe.add(_e):oe.set(_e,Ee),bt=(_e,oe,Ee,i)=>(Gt(_e,oe,"write to private field"),i?i.call(_e,Ee):oe.set(_e,Ee),Ee),zt=(_e,oe,Ee)=>(Gt(_e,oe,"access private method"),Ee);var Kt=(()=>{var _e=import.meta.url;return function(oe={}){var Ee,i=oe,Be,Ne,Xe=new Promise((e,t)=>{Be=e,Ne=t}),it=typeof window=="object",dt=typeof importScripts=="function";typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string"&&process.type!="renderer";const ue=globalThis.sqlite3InitModuleState||Object.assign(Object.create(null),{debugModule:()=>{}});delete globalThis.sqlite3InitModuleState,ue.debugModule("globalThis.location =",globalThis.location),i.locateFile=(function(e,t){return new URL(e,import.meta.url).href}).bind(ue);var ot=Object.assign({},i),yt="./this.program",Ge="";function At(e){return i.locateFile?i.locateFile(e,Ge):Ge+e}var qt,wt;(it||dt)&&(dt?Ge=self.location.href:typeof document<"u"&&document.currentScript&&(Ge=document.currentScript.src),_e&&(Ge=_e),Ge.startsWith("blob:")?Ge="":Ge=Ge.substr(0,Ge.replace(/[?#].*/,"").lastIndexOf("/")+1),dt&&(wt=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),qt=e=>fetch(e,{credentials:"same-origin"}).then(t=>t.ok?t.arrayBuffer():Promise.reject(new Error(t.status+" : "+t.url))));var pt=i.print||console.log.bind(console),ct=i.printErr||console.error.bind(console);Object.assign(i,ot),ot=null,i.arguments&&i.arguments,i.thisProgram&&(yt=i.thisProgram);var Tt=i.wasmBinary,Et,Dt=!1,Ye,at,Pe,S,T,W;function te(){var e=Et.buffer;i.HEAP8=Ye=new Int8Array(e),i.HEAP16=Pe=new Int16Array(e),i.HEAPU8=at=new Uint8Array(e),i.HEAPU16=new Uint16Array(e),i.HEAP32=S=new Int32Array(e),i.HEAPU32=T=new Uint32Array(e),i.HEAPF32=new Float32Array(e),i.HEAPF64=new Float64Array(e),i.HEAP64=W=new BigInt64Array(e),i.HEAPU64=new BigUint64Array(e)}if(i.wasmMemory)Et=i.wasmMemory;else{var ne=i.INITIAL_MEMORY||16777216;Et=new WebAssembly.Memory({initial:ne/65536,maximum:32768})}te();var ve=[],We=[],lt=[];function _t(){var e=i.preRun;e&&(typeof e=="function"&&(e=[e]),e.forEach(pe)),ge(ve)}function Ae(){!i.noFSInit&&!l.initialized&&l.init(),l.ignorePermissions=!1,ge(We)}function Me(){var e=i.postRun;e&&(typeof e=="function"&&(e=[e]),e.forEach(we)),ge(lt)}function pe(e){ve.unshift(e)}function Ze(e){We.unshift(e)}function we(e){lt.unshift(e)}var qe=0,se=null;function Ke(e){return e}function je(e){var t;qe++,(t=i.monitorRunDependencies)==null||t.call(i,qe)}function He(e){var n;if(qe--,(n=i.monitorRunDependencies)==null||n.call(i,qe),qe==0&&se){var t=se;se=null,t()}}function rt(e){var n;(n=i.onAbort)==null||n.call(i,e),e="Aborted("+e+")",ct(e),Dt=!0,e+=". Build with -sASSERTIONS for more info.";var t=new WebAssembly.RuntimeError(e);throw Ne(t),t}var Ie="data:application/octet-stream;base64,",Oe=e=>e.startsWith(Ie);function Ue(){if(i.locateFile){var e="sqlite3.wasm";return Oe(e)?e:At(e)}return new URL("/assets/sqlite3-Ubkxdgq9.wasm",import.meta.url).href}var fe;function De(e){if(e==fe&&Tt)return new Uint8Array(Tt);if(wt)return wt(e);throw"both async and sync fetching of the wasm failed"}function Ve(e){return Tt?Promise.resolve().then(()=>De(e)):qt(e).then(t=>new Uint8Array(t),()=>De(e))}function Le(e,t,n){return Ve(e).then(r=>WebAssembly.instantiate(r,t)).then(n,r=>{ct(`failed to asynchronously prepare wasm: ${r}`),rt(r)})}function Ce(e,t,n,r){return!e&&typeof WebAssembly.instantiateStreaming=="function"&&!Oe(t)&&typeof fetch=="function"?fetch(t,{credentials:"same-origin"}).then(s=>{var o=WebAssembly.instantiateStreaming(s,n);return o.then(r,function(d){return ct(`wasm streaming compile failed: ${d}`),ct("falling back to ArrayBuffer instantiation"),Le(t,n,r)})}):Le(t,n,r)}function ke(){return{env:Xt,wasi_snapshot_preview1:Xt}}function ht(){var e=ke();function t(r,s){return p=r.exports,Ze(p.__wasm_call_ctors),He(),p}je();function n(r){t(r.instance)}if(i.instantiateWasm)try{return i.instantiateWasm(e,t)}catch(r){ct(`Module.instantiateWasm callback failed with error: ${r}`),Ne(r)}return fe??(fe=Ue()),Ce(Tt,fe,e,n).catch(Ne),{}}var ge=e=>{e.forEach(t=>t(i))};i.noExitRuntime;var ce={isAbs:e=>e.charAt(0)==="/",splitPath:e=>{var t=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;return t.exec(e).slice(1)},normalizeArray:(e,t)=>{for(var n=0,r=e.length-1;r>=0;r--){var s=e[r];s==="."?e.splice(r,1):s===".."?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n;n--)e.unshift("..");return e},normalize:e=>{var t=ce.isAbs(e),n=e.substr(-1)==="/";return e=ce.normalizeArray(e.split("/").filter(r=>!!r),!t).join("/"),!e&&!t&&(e="."),e&&n&&(e+="/"),(t?"/":"")+e},dirname:e=>{var t=ce.splitPath(e),n=t[0],r=t[1];return!n&&!r?".":(r&&(r=r.substr(0,r.length-1)),n+r)},basename:e=>{if(e==="/")return"/";e=ce.normalize(e),e=e.replace(/\/$/,"");var t=e.lastIndexOf("/");return t===-1?e:e.substr(t+1)},join:(...e)=>ce.normalize(e.join("/")),join2:(e,t)=>ce.normalize(e+"/"+t)},vt=()=>{if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function")return e=>crypto.getRandomValues(e);rt("initRandomDevice")},It=e=>(It=vt())(e),Je={resolve:(...e)=>{for(var t="",n=!1,r=e.length-1;r>=-1&&!n;r--){var s=r>=0?e[r]:l.cwd();if(typeof s!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!s)return"";t=s+"/"+t,n=ce.isAbs(s)}return t=ce.normalizeArray(t.split("/").filter(o=>!!o),!n).join("/"),(n?"/":"")+t||"."},relative:(e,t)=>{e=Je.resolve(e).substr(1),t=Je.resolve(t).substr(1);function n(M){for(var $=0;$<M.length&&M[$]==="";$++);for(var J=M.length-1;J>=0&&M[J]==="";J--);return $>J?[]:M.slice($,J-$+1)}for(var r=n(e.split("/")),s=n(t.split("/")),o=Math.min(r.length,s.length),d=o,m=0;m<o;m++)if(r[m]!==s[m]){d=m;break}for(var D=[],m=d;m<r.length;m++)D.push("..");return D=D.concat(s.slice(d)),D.join("/")}},Ot=typeof TextDecoder<"u"?new TextDecoder:void 0,ze=(e,t=0,n=NaN)=>{for(var r=t+n,s=t;e[s]&&!(s>=r);)++s;if(s-t>16&&e.buffer&&Ot)return Ot.decode(e.subarray(t,s));for(var o="";t<s;){var d=e[t++];if(!(d&128)){o+=String.fromCharCode(d);continue}var m=e[t++]&63;if((d&224)==192){o+=String.fromCharCode((d&31)<<6|m);continue}var D=e[t++]&63;if((d&240)==224?d=(d&15)<<12|m<<6|D:d=(d&7)<<18|m<<12|D<<6|e[t++]&63,d<65536)o+=String.fromCharCode(d);else{var M=d-65536;o+=String.fromCharCode(55296|M>>10,56320|M&1023)}}return o},ut=[],Qe=e=>{for(var t=0,n=0;n<e.length;++n){var r=e.charCodeAt(n);r<=127?t++:r<=2047?t+=2:r>=55296&&r<=57343?(t+=4,++n):t+=3}return t},et=(e,t,n,r)=>{if(!(r>0))return 0;for(var s=n,o=n+r-1,d=0;d<e.length;++d){var m=e.charCodeAt(d);if(m>=55296&&m<=57343){var D=e.charCodeAt(++d);m=65536+((m&1023)<<10)|D&1023}if(m<=127){if(n>=o)break;t[n++]=m}else if(m<=2047){if(n+1>=o)break;t[n++]=192|m>>6,t[n++]=128|m&63}else if(m<=65535){if(n+2>=o)break;t[n++]=224|m>>12,t[n++]=128|m>>6&63,t[n++]=128|m&63}else{if(n+3>=o)break;t[n++]=240|m>>18,t[n++]=128|m>>12&63,t[n++]=128|m>>6&63,t[n++]=128|m&63}}return t[n]=0,n-s};function gt(e,t,n){var r=Qe(e)+1,s=new Array(r),o=et(e,s,0,s.length);return s.length=o,s}var Nt=()=>{if(!ut.length){var e=null;if(typeof window<"u"&&typeof window.prompt=="function"&&(e=window.prompt("Input: "),e!==null&&(e+=`
`)),!e)return null;ut=gt(e)}return ut.shift()},xt={ttys:[],init(){},shutdown(){},register(e,t){xt.ttys[e]={input:[],output:[],ops:t},l.registerDevice(e,xt.stream_ops)},stream_ops:{open(e){var t=xt.ttys[e.node.rdev];if(!t)throw new l.ErrnoError(43);e.tty=t,e.seekable=!1},close(e){e.tty.ops.fsync(e.tty)},fsync(e){e.tty.ops.fsync(e.tty)},read(e,t,n,r,s){if(!e.tty||!e.tty.ops.get_char)throw new l.ErrnoError(60);for(var o=0,d=0;d<r;d++){var m;try{m=e.tty.ops.get_char(e.tty)}catch{throw new l.ErrnoError(29)}if(m===void 0&&o===0)throw new l.ErrnoError(6);if(m==null)break;o++,t[n+d]=m}return o&&(e.node.timestamp=Date.now()),o},write(e,t,n,r,s){if(!e.tty||!e.tty.ops.put_char)throw new l.ErrnoError(60);try{for(var o=0;o<r;o++)e.tty.ops.put_char(e.tty,t[n+o])}catch{throw new l.ErrnoError(29)}return r&&(e.node.timestamp=Date.now()),o}},default_tty_ops:{get_char(e){return Nt()},put_char(e,t){t===null||t===10?(pt(ze(e.output)),e.output=[]):t!=0&&e.output.push(t)},fsync(e){e.output&&e.output.length>0&&(pt(ze(e.output)),e.output=[])},ioctl_tcgets(e){return{c_iflag:25856,c_oflag:5,c_cflag:191,c_lflag:35387,c_cc:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},ioctl_tcsets(e,t,n){return 0},ioctl_tiocgwinsz(e){return[24,80]}},default_tty1_ops:{put_char(e,t){t===null||t===10?(ct(ze(e.output)),e.output=[]):t!=0&&e.output.push(t)},fsync(e){e.output&&e.output.length>0&&(ct(ze(e.output)),e.output=[])}}},Ft=(e,t)=>{at.fill(0,e,e+t)},mt=(e,t)=>Math.ceil(e/t)*t,Pt=e=>{e=mt(e,65536);var t=Yt(65536,e);return t&&Ft(t,e),t},he={ops_table:null,mount(e){return he.createNode(null,"/",16895,0)},createNode(e,t,n,r){if(l.isBlkdev(n)||l.isFIFO(n))throw new l.ErrnoError(63);he.ops_table||(he.ops_table={dir:{node:{getattr:he.node_ops.getattr,setattr:he.node_ops.setattr,lookup:he.node_ops.lookup,mknod:he.node_ops.mknod,rename:he.node_ops.rename,unlink:he.node_ops.unlink,rmdir:he.node_ops.rmdir,readdir:he.node_ops.readdir,symlink:he.node_ops.symlink},stream:{llseek:he.stream_ops.llseek}},file:{node:{getattr:he.node_ops.getattr,setattr:he.node_ops.setattr},stream:{llseek:he.stream_ops.llseek,read:he.stream_ops.read,write:he.stream_ops.write,allocate:he.stream_ops.allocate,mmap:he.stream_ops.mmap,msync:he.stream_ops.msync}},link:{node:{getattr:he.node_ops.getattr,setattr:he.node_ops.setattr,readlink:he.node_ops.readlink},stream:{}},chrdev:{node:{getattr:he.node_ops.getattr,setattr:he.node_ops.setattr},stream:l.chrdev_stream_ops}});var s=l.createNode(e,t,n,r);return l.isDir(s.mode)?(s.node_ops=he.ops_table.dir.node,s.stream_ops=he.ops_table.dir.stream,s.contents={}):l.isFile(s.mode)?(s.node_ops=he.ops_table.file.node,s.stream_ops=he.ops_table.file.stream,s.usedBytes=0,s.contents=null):l.isLink(s.mode)?(s.node_ops=he.ops_table.link.node,s.stream_ops=he.ops_table.link.stream):l.isChrdev(s.mode)&&(s.node_ops=he.ops_table.chrdev.node,s.stream_ops=he.ops_table.chrdev.stream),s.timestamp=Date.now(),e&&(e.contents[t]=s,e.timestamp=s.timestamp),s},getFileDataAsTypedArray(e){return e.contents?e.contents.subarray?e.contents.subarray(0,e.usedBytes):new Uint8Array(e.contents):new Uint8Array(0)},expandFileStorage(e,t){var n=e.contents?e.contents.length:0;if(!(n>=t)){var r=1024*1024;t=Math.max(t,n*(n<r?2:1.125)>>>0),n!=0&&(t=Math.max(t,256));var s=e.contents;e.contents=new Uint8Array(t),e.usedBytes>0&&e.contents.set(s.subarray(0,e.usedBytes),0)}},resizeFileStorage(e,t){if(e.usedBytes!=t)if(t==0)e.contents=null,e.usedBytes=0;else{var n=e.contents;e.contents=new Uint8Array(t),n&&e.contents.set(n.subarray(0,Math.min(t,e.usedBytes))),e.usedBytes=t}},node_ops:{getattr(e){var t={};return t.dev=l.isChrdev(e.mode)?e.id:1,t.ino=e.id,t.mode=e.mode,t.nlink=1,t.uid=0,t.gid=0,t.rdev=e.rdev,l.isDir(e.mode)?t.size=4096:l.isFile(e.mode)?t.size=e.usedBytes:l.isLink(e.mode)?t.size=e.link.length:t.size=0,t.atime=new Date(e.timestamp),t.mtime=new Date(e.timestamp),t.ctime=new Date(e.timestamp),t.blksize=4096,t.blocks=Math.ceil(t.size/t.blksize),t},setattr(e,t){t.mode!==void 0&&(e.mode=t.mode),t.timestamp!==void 0&&(e.timestamp=t.timestamp),t.size!==void 0&&he.resizeFileStorage(e,t.size)},lookup(e,t){throw l.genericErrors[44]},mknod(e,t,n,r){return he.createNode(e,t,n,r)},rename(e,t,n){if(l.isDir(e.mode)){var r;try{r=l.lookupNode(t,n)}catch{}if(r)for(var s in r.contents)throw new l.ErrnoError(55)}delete e.parent.contents[e.name],e.parent.timestamp=Date.now(),e.name=n,t.contents[n]=e,t.timestamp=e.parent.timestamp},unlink(e,t){delete e.contents[t],e.timestamp=Date.now()},rmdir(e,t){var n=l.lookupNode(e,t);for(var r in n.contents)throw new l.ErrnoError(55);delete e.contents[t],e.timestamp=Date.now()},readdir(e){var t=[".",".."];for(var n of Object.keys(e.contents))t.push(n);return t},symlink(e,t,n){var r=he.createNode(e,t,41471,0);return r.link=n,r},readlink(e){if(!l.isLink(e.mode))throw new l.ErrnoError(28);return e.link}},stream_ops:{read(e,t,n,r,s){var o=e.node.contents;if(s>=e.node.usedBytes)return 0;var d=Math.min(e.node.usedBytes-s,r);if(d>8&&o.subarray)t.set(o.subarray(s,s+d),n);else for(var m=0;m<d;m++)t[n+m]=o[s+m];return d},write(e,t,n,r,s,o){if(t.buffer===Ye.buffer&&(o=!1),!r)return 0;var d=e.node;if(d.timestamp=Date.now(),t.subarray&&(!d.contents||d.contents.subarray)){if(o)return d.contents=t.subarray(n,n+r),d.usedBytes=r,r;if(d.usedBytes===0&&s===0)return d.contents=t.slice(n,n+r),d.usedBytes=r,r;if(s+r<=d.usedBytes)return d.contents.set(t.subarray(n,n+r),s),r}if(he.expandFileStorage(d,s+r),d.contents.subarray&&t.subarray)d.contents.set(t.subarray(n,n+r),s);else for(var m=0;m<r;m++)d.contents[s+m]=t[n+m];return d.usedBytes=Math.max(d.usedBytes,s+r),r},llseek(e,t,n){var r=t;if(n===1?r+=e.position:n===2&&l.isFile(e.node.mode)&&(r+=e.node.usedBytes),r<0)throw new l.ErrnoError(28);return r},allocate(e,t,n){he.expandFileStorage(e.node,t+n),e.node.usedBytes=Math.max(e.node.usedBytes,t+n)},mmap(e,t,n,r,s){if(!l.isFile(e.node.mode))throw new l.ErrnoError(43);var o,d,m=e.node.contents;if(!(s&2)&&m&&m.buffer===Ye.buffer)d=!1,o=m.byteOffset;else{if(d=!0,o=Pt(t),!o)throw new l.ErrnoError(48);m&&((n>0||n+t<m.length)&&(m.subarray?m=m.subarray(n,n+t):m=Array.prototype.slice.call(m,n,n+t)),Ye.set(m,o))}return{ptr:o,allocated:d}},msync(e,t,n,r,s){return he.stream_ops.write(e,t,0,r,n,!1),0}}},on=(e,t,n,r)=>{var s=`al ${e}`;qt(e).then(o=>{t(new Uint8Array(o)),s&&He()},o=>{if(n)n();else throw`Loading data file "${e}" failed.`}),s&&je()},an=(e,t,n,r,s,o)=>{l.createDataFile(e,t,n,r,s,o)},ln=i.preloadPlugins||[],cn=(e,t,n,r)=>{typeof Browser<"u"&&Browser.init();var s=!1;return ln.forEach(o=>{s||o.canHandle(t)&&(o.handle(e,t,n,r),s=!0)}),s},_n=(e,t,n,r,s,o,d,m,D,M)=>{var $=t?Je.resolve(ce.join2(e,t)):e;function J(C){function I(j){M==null||M(),m||an(e,t,j,r,s,D),o==null||o(),He()}cn(C,$,I,()=>{d==null||d(),He()})||I(C)}je(),typeof n=="string"?on(n,J,d):J(n)},un=e=>{var t={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},n=t[e];if(typeof n>"u")throw new Error(`Unknown file open mode: ${e}`);return n},Ht=(e,t)=>{var n=0;return e&&(n|=365),t&&(n|=146),n},l={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:class{constructor(e){this.name="ErrnoError",this.errno=e}},genericErrors:{},filesystems:null,syncFSRequests:0,readFiles:{},FSStream:class{constructor(){this.shared={}}get object(){return this.node}set object(e){this.node=e}get isRead(){return(this.flags&2097155)!==1}get isWrite(){return(this.flags&2097155)!==0}get isAppend(){return this.flags&1024}get flags(){return this.shared.flags}set flags(e){this.shared.flags=e}get position(){return this.shared.position}set position(e){this.shared.position=e}},FSNode:class{constructor(e,t,n,r){e||(e=this),this.parent=e,this.mount=e.mount,this.mounted=null,this.id=l.nextInode++,this.name=t,this.mode=n,this.node_ops={},this.stream_ops={},this.rdev=r,this.readMode=365,this.writeMode=146}get read(){return(this.mode&this.readMode)===this.readMode}set read(e){e?this.mode|=this.readMode:this.mode&=~this.readMode}get write(){return(this.mode&this.writeMode)===this.writeMode}set write(e){e?this.mode|=this.writeMode:this.mode&=~this.writeMode}get isFolder(){return l.isDir(this.mode)}get isDevice(){return l.isChrdev(this.mode)}},lookupPath(e,t={}){if(e=Je.resolve(e),!e)return{path:"",node:null};var n={follow_mount:!0,recurse_count:0};if(t=Object.assign(n,t),t.recurse_count>8)throw new l.ErrnoError(32);for(var r=e.split("/").filter(J=>!!J),s=l.root,o="/",d=0;d<r.length;d++){var m=d===r.length-1;if(m&&t.parent)break;if(s=l.lookupNode(s,r[d]),o=ce.join2(o,r[d]),l.isMountpoint(s)&&(!m||m&&t.follow_mount)&&(s=s.mounted.root),!m||t.follow)for(var D=0;l.isLink(s.mode);){var M=l.readlink(o);o=Je.resolve(ce.dirname(o),M);var $=l.lookupPath(o,{recurse_count:t.recurse_count+1});if(s=$.node,D++>40)throw new l.ErrnoError(32)}}return{path:o,node:s}},getPath(e){for(var t;;){if(l.isRoot(e)){var n=e.mount.mountpoint;return t?n[n.length-1]!=="/"?`${n}/${t}`:n+t:n}t=t?`${e.name}/${t}`:e.name,e=e.parent}},hashName(e,t){for(var n=0,r=0;r<t.length;r++)n=(n<<5)-n+t.charCodeAt(r)|0;return(e+n>>>0)%l.nameTable.length},hashAddNode(e){var t=l.hashName(e.parent.id,e.name);e.name_next=l.nameTable[t],l.nameTable[t]=e},hashRemoveNode(e){var t=l.hashName(e.parent.id,e.name);if(l.nameTable[t]===e)l.nameTable[t]=e.name_next;else for(var n=l.nameTable[t];n;){if(n.name_next===e){n.name_next=e.name_next;break}n=n.name_next}},lookupNode(e,t){var n=l.mayLookup(e);if(n)throw new l.ErrnoError(n);for(var r=l.hashName(e.id,t),s=l.nameTable[r];s;s=s.name_next){var o=s.name;if(s.parent.id===e.id&&o===t)return s}return l.lookup(e,t)},createNode(e,t,n,r){var s=new l.FSNode(e,t,n,r);return l.hashAddNode(s),s},destroyNode(e){l.hashRemoveNode(e)},isRoot(e){return e===e.parent},isMountpoint(e){return!!e.mounted},isFile(e){return(e&61440)===32768},isDir(e){return(e&61440)===16384},isLink(e){return(e&61440)===40960},isChrdev(e){return(e&61440)===8192},isBlkdev(e){return(e&61440)===24576},isFIFO(e){return(e&61440)===4096},isSocket(e){return(e&49152)===49152},flagsToPermissionString(e){var t=["r","w","rw"][e&3];return e&512&&(t+="w"),t},nodePermissions(e,t){return l.ignorePermissions?0:t.includes("r")&&!(e.mode&292)||t.includes("w")&&!(e.mode&146)||t.includes("x")&&!(e.mode&73)?2:0},mayLookup(e){if(!l.isDir(e.mode))return 54;var t=l.nodePermissions(e,"x");return t||(e.node_ops.lookup?0:2)},mayCreate(e,t){try{var n=l.lookupNode(e,t);return 20}catch{}return l.nodePermissions(e,"wx")},mayDelete(e,t,n){var r;try{r=l.lookupNode(e,t)}catch(o){return o.errno}var s=l.nodePermissions(e,"wx");if(s)return s;if(n){if(!l.isDir(r.mode))return 54;if(l.isRoot(r)||l.getPath(r)===l.cwd())return 10}else if(l.isDir(r.mode))return 31;return 0},mayOpen(e,t){return e?l.isLink(e.mode)?32:l.isDir(e.mode)&&(l.flagsToPermissionString(t)!=="r"||t&512)?31:l.nodePermissions(e,l.flagsToPermissionString(t)):44},MAX_OPEN_FDS:4096,nextfd(){for(var e=0;e<=l.MAX_OPEN_FDS;e++)if(!l.streams[e])return e;throw new l.ErrnoError(33)},getStreamChecked(e){var t=l.getStream(e);if(!t)throw new l.ErrnoError(8);return t},getStream:e=>l.streams[e],createStream(e,t=-1){return e=Object.assign(new l.FSStream,e),t==-1&&(t=l.nextfd()),e.fd=t,l.streams[t]=e,e},closeStream(e){l.streams[e]=null},dupStream(e,t=-1){var r,s;var n=l.createStream(e,t);return(s=(r=n.stream_ops)==null?void 0:r.dup)==null||s.call(r,n),n},chrdev_stream_ops:{open(e){var n,r;var t=l.getDevice(e.node.rdev);e.stream_ops=t.stream_ops,(r=(n=e.stream_ops).open)==null||r.call(n,e)},llseek(){throw new l.ErrnoError(70)}},major:e=>e>>8,minor:e=>e&255,makedev:(e,t)=>e<<8|t,registerDevice(e,t){l.devices[e]={stream_ops:t}},getDevice:e=>l.devices[e],getMounts(e){for(var t=[],n=[e];n.length;){var r=n.pop();t.push(r),n.push(...r.mounts)}return t},syncfs(e,t){typeof e=="function"&&(t=e,e=!1),l.syncFSRequests++,l.syncFSRequests>1&&ct(`warning: ${l.syncFSRequests} FS.syncfs operations in flight at once, probably just doing extra work`);var n=l.getMounts(l.root.mount),r=0;function s(d){return l.syncFSRequests--,t(d)}function o(d){if(d)return o.errored?void 0:(o.errored=!0,s(d));++r>=n.length&&s(null)}n.forEach(d=>{if(!d.type.syncfs)return o(null);d.type.syncfs(d,e,o)})},mount(e,t,n){var r=n==="/",s=!n,o;if(r&&l.root)throw new l.ErrnoError(10);if(!r&&!s){var d=l.lookupPath(n,{follow_mount:!1});if(n=d.path,o=d.node,l.isMountpoint(o))throw new l.ErrnoError(10);if(!l.isDir(o.mode))throw new l.ErrnoError(54)}var m={type:e,opts:t,mountpoint:n,mounts:[]},D=e.mount(m);return D.mount=m,m.root=D,r?l.root=D:o&&(o.mounted=m,o.mount&&o.mount.mounts.push(m)),D},unmount(e){var t=l.lookupPath(e,{follow_mount:!1});if(!l.isMountpoint(t.node))throw new l.ErrnoError(28);var n=t.node,r=n.mounted,s=l.getMounts(r);Object.keys(l.nameTable).forEach(d=>{for(var m=l.nameTable[d];m;){var D=m.name_next;s.includes(m.mount)&&l.destroyNode(m),m=D}}),n.mounted=null;var o=n.mount.mounts.indexOf(r);n.mount.mounts.splice(o,1)},lookup(e,t){return e.node_ops.lookup(e,t)},mknod(e,t,n){var r=l.lookupPath(e,{parent:!0}),s=r.node,o=ce.basename(e);if(!o||o==="."||o==="..")throw new l.ErrnoError(28);var d=l.mayCreate(s,o);if(d)throw new l.ErrnoError(d);if(!s.node_ops.mknod)throw new l.ErrnoError(63);return s.node_ops.mknod(s,o,t,n)},create(e,t){return t=t!==void 0?t:438,t&=4095,t|=32768,l.mknod(e,t,0)},mkdir(e,t){return t=t!==void 0?t:511,t&=1023,t|=16384,l.mknod(e,t,0)},mkdirTree(e,t){for(var n=e.split("/"),r="",s=0;s<n.length;++s)if(n[s]){r+="/"+n[s];try{l.mkdir(r,t)}catch(o){if(o.errno!=20)throw o}}},mkdev(e,t,n){return typeof n>"u"&&(n=t,t=438),t|=8192,l.mknod(e,t,n)},symlink(e,t){if(!Je.resolve(e))throw new l.ErrnoError(44);var n=l.lookupPath(t,{parent:!0}),r=n.node;if(!r)throw new l.ErrnoError(44);var s=ce.basename(t),o=l.mayCreate(r,s);if(o)throw new l.ErrnoError(o);if(!r.node_ops.symlink)throw new l.ErrnoError(63);return r.node_ops.symlink(r,s,e)},rename(e,t){var n=ce.dirname(e),r=ce.dirname(t),s=ce.basename(e),o=ce.basename(t),d,m,D;if(d=l.lookupPath(e,{parent:!0}),m=d.node,d=l.lookupPath(t,{parent:!0}),D=d.node,!m||!D)throw new l.ErrnoError(44);if(m.mount!==D.mount)throw new l.ErrnoError(75);var M=l.lookupNode(m,s),$=Je.relative(e,r);if($.charAt(0)!==".")throw new l.ErrnoError(28);if($=Je.relative(t,n),$.charAt(0)!==".")throw new l.ErrnoError(55);var J;try{J=l.lookupNode(D,o)}catch{}if(M!==J){var C=l.isDir(M.mode),I=l.mayDelete(m,s,C);if(I)throw new l.ErrnoError(I);if(I=J?l.mayDelete(D,o,C):l.mayCreate(D,o),I)throw new l.ErrnoError(I);if(!m.node_ops.rename)throw new l.ErrnoError(63);if(l.isMountpoint(M)||J&&l.isMountpoint(J))throw new l.ErrnoError(10);if(D!==m&&(I=l.nodePermissions(m,"w"),I))throw new l.ErrnoError(I);l.hashRemoveNode(M);try{m.node_ops.rename(M,D,o),M.parent=D}catch(j){throw j}finally{l.hashAddNode(M)}}},rmdir(e){var t=l.lookupPath(e,{parent:!0}),n=t.node,r=ce.basename(e),s=l.lookupNode(n,r),o=l.mayDelete(n,r,!0);if(o)throw new l.ErrnoError(o);if(!n.node_ops.rmdir)throw new l.ErrnoError(63);if(l.isMountpoint(s))throw new l.ErrnoError(10);n.node_ops.rmdir(n,r),l.destroyNode(s)},readdir(e){var t=l.lookupPath(e,{follow:!0}),n=t.node;if(!n.node_ops.readdir)throw new l.ErrnoError(54);return n.node_ops.readdir(n)},unlink(e){var t=l.lookupPath(e,{parent:!0}),n=t.node;if(!n)throw new l.ErrnoError(44);var r=ce.basename(e),s=l.lookupNode(n,r),o=l.mayDelete(n,r,!1);if(o)throw new l.ErrnoError(o);if(!n.node_ops.unlink)throw new l.ErrnoError(63);if(l.isMountpoint(s))throw new l.ErrnoError(10);n.node_ops.unlink(n,r),l.destroyNode(s)},readlink(e){var t=l.lookupPath(e),n=t.node;if(!n)throw new l.ErrnoError(44);if(!n.node_ops.readlink)throw new l.ErrnoError(28);return Je.resolve(l.getPath(n.parent),n.node_ops.readlink(n))},stat(e,t){var n=l.lookupPath(e,{follow:!t}),r=n.node;if(!r)throw new l.ErrnoError(44);if(!r.node_ops.getattr)throw new l.ErrnoError(63);return r.node_ops.getattr(r)},lstat(e){return l.stat(e,!0)},chmod(e,t,n){var r;if(typeof e=="string"){var s=l.lookupPath(e,{follow:!n});r=s.node}else r=e;if(!r.node_ops.setattr)throw new l.ErrnoError(63);r.node_ops.setattr(r,{mode:t&4095|r.mode&-4096,timestamp:Date.now()})},lchmod(e,t){l.chmod(e,t,!0)},fchmod(e,t){var n=l.getStreamChecked(e);l.chmod(n.node,t)},chown(e,t,n,r){var s;if(typeof e=="string"){var o=l.lookupPath(e,{follow:!r});s=o.node}else s=e;if(!s.node_ops.setattr)throw new l.ErrnoError(63);s.node_ops.setattr(s,{timestamp:Date.now()})},lchown(e,t,n){l.chown(e,t,n,!0)},fchown(e,t,n){var r=l.getStreamChecked(e);l.chown(r.node,t,n)},truncate(e,t){if(t<0)throw new l.ErrnoError(28);var n;if(typeof e=="string"){var r=l.lookupPath(e,{follow:!0});n=r.node}else n=e;if(!n.node_ops.setattr)throw new l.ErrnoError(63);if(l.isDir(n.mode))throw new l.ErrnoError(31);if(!l.isFile(n.mode))throw new l.ErrnoError(28);var s=l.nodePermissions(n,"w");if(s)throw new l.ErrnoError(s);n.node_ops.setattr(n,{size:t,timestamp:Date.now()})},ftruncate(e,t){var n=l.getStreamChecked(e);if(!(n.flags&2097155))throw new l.ErrnoError(28);l.truncate(n.node,t)},utime(e,t,n){var r=l.lookupPath(e,{follow:!0}),s=r.node;s.node_ops.setattr(s,{timestamp:Math.max(t,n)})},open(e,t,n){if(e==="")throw new l.ErrnoError(44);t=typeof t=="string"?un(t):t,t&64?(n=typeof n>"u"?438:n,n=n&4095|32768):n=0;var r;if(typeof e=="object")r=e;else{e=ce.normalize(e);try{var s=l.lookupPath(e,{follow:!(t&131072)});r=s.node}catch{}}var o=!1;if(t&64)if(r){if(t&128)throw new l.ErrnoError(20)}else r=l.mknod(e,n,0),o=!0;if(!r)throw new l.ErrnoError(44);if(l.isChrdev(r.mode)&&(t&=-513),t&65536&&!l.isDir(r.mode))throw new l.ErrnoError(54);if(!o){var d=l.mayOpen(r,t);if(d)throw new l.ErrnoError(d)}t&512&&!o&&l.truncate(r,0),t&=-131713;var m=l.createStream({node:r,path:l.getPath(r),flags:t,seekable:!0,position:0,stream_ops:r.stream_ops,ungotten:[],error:!1});return m.stream_ops.open&&m.stream_ops.open(m),i.logReadFiles&&!(t&1)&&(e in l.readFiles||(l.readFiles[e]=1)),m},close(e){if(l.isClosed(e))throw new l.ErrnoError(8);e.getdents&&(e.getdents=null);try{e.stream_ops.close&&e.stream_ops.close(e)}catch(t){throw t}finally{l.closeStream(e.fd)}e.fd=null},isClosed(e){return e.fd===null},llseek(e,t,n){if(l.isClosed(e))throw new l.ErrnoError(8);if(!e.seekable||!e.stream_ops.llseek)throw new l.ErrnoError(70);if(n!=0&&n!=1&&n!=2)throw new l.ErrnoError(28);return e.position=e.stream_ops.llseek(e,t,n),e.ungotten=[],e.position},read(e,t,n,r,s){if(r<0||s<0)throw new l.ErrnoError(28);if(l.isClosed(e))throw new l.ErrnoError(8);if((e.flags&2097155)===1)throw new l.ErrnoError(8);if(l.isDir(e.node.mode))throw new l.ErrnoError(31);if(!e.stream_ops.read)throw new l.ErrnoError(28);var o=typeof s<"u";if(!o)s=e.position;else if(!e.seekable)throw new l.ErrnoError(70);var d=e.stream_ops.read(e,t,n,r,s);return o||(e.position+=d),d},write(e,t,n,r,s,o){if(r<0||s<0)throw new l.ErrnoError(28);if(l.isClosed(e))throw new l.ErrnoError(8);if(!(e.flags&2097155))throw new l.ErrnoError(8);if(l.isDir(e.node.mode))throw new l.ErrnoError(31);if(!e.stream_ops.write)throw new l.ErrnoError(28);e.seekable&&e.flags&1024&&l.llseek(e,0,2);var d=typeof s<"u";if(!d)s=e.position;else if(!e.seekable)throw new l.ErrnoError(70);var m=e.stream_ops.write(e,t,n,r,s,o);return d||(e.position+=m),m},allocate(e,t,n){if(l.isClosed(e))throw new l.ErrnoError(8);if(t<0||n<=0)throw new l.ErrnoError(28);if(!(e.flags&2097155))throw new l.ErrnoError(8);if(!l.isFile(e.node.mode)&&!l.isDir(e.node.mode))throw new l.ErrnoError(43);if(!e.stream_ops.allocate)throw new l.ErrnoError(138);e.stream_ops.allocate(e,t,n)},mmap(e,t,n,r,s){if(r&2&&!(s&2)&&(e.flags&2097155)!==2)throw new l.ErrnoError(2);if((e.flags&2097155)===1)throw new l.ErrnoError(2);if(!e.stream_ops.mmap)throw new l.ErrnoError(43);if(!t)throw new l.ErrnoError(28);return e.stream_ops.mmap(e,t,n,r,s)},msync(e,t,n,r,s){return e.stream_ops.msync?e.stream_ops.msync(e,t,n,r,s):0},ioctl(e,t,n){if(!e.stream_ops.ioctl)throw new l.ErrnoError(59);return e.stream_ops.ioctl(e,t,n)},readFile(e,t={}){if(t.flags=t.flags||0,t.encoding=t.encoding||"binary",t.encoding!=="utf8"&&t.encoding!=="binary")throw new Error(`Invalid encoding type "${t.encoding}"`);var n,r=l.open(e,t.flags),s=l.stat(e),o=s.size,d=new Uint8Array(o);return l.read(r,d,0,o,0),t.encoding==="utf8"?n=ze(d):t.encoding==="binary"&&(n=d),l.close(r),n},writeFile(e,t,n={}){n.flags=n.flags||577;var r=l.open(e,n.flags,n.mode);if(typeof t=="string"){var s=new Uint8Array(Qe(t)+1),o=et(t,s,0,s.length);l.write(r,s,0,o,void 0,n.canOwn)}else if(ArrayBuffer.isView(t))l.write(r,t,0,t.byteLength,void 0,n.canOwn);else throw new Error("Unsupported data type");l.close(r)},cwd:()=>l.currentPath,chdir(e){var t=l.lookupPath(e,{follow:!0});if(t.node===null)throw new l.ErrnoError(44);if(!l.isDir(t.node.mode))throw new l.ErrnoError(54);var n=l.nodePermissions(t.node,"x");if(n)throw new l.ErrnoError(n);l.currentPath=t.path},createDefaultDirectories(){l.mkdir("/tmp"),l.mkdir("/home"),l.mkdir("/home/web_user")},createDefaultDevices(){l.mkdir("/dev"),l.registerDevice(l.makedev(1,3),{read:()=>0,write:(r,s,o,d,m)=>d}),l.mkdev("/dev/null",l.makedev(1,3)),xt.register(l.makedev(5,0),xt.default_tty_ops),xt.register(l.makedev(6,0),xt.default_tty1_ops),l.mkdev("/dev/tty",l.makedev(5,0)),l.mkdev("/dev/tty1",l.makedev(6,0));var e=new Uint8Array(1024),t=0,n=()=>(t===0&&(t=It(e).byteLength),e[--t]);l.createDevice("/dev","random",n),l.createDevice("/dev","urandom",n),l.mkdir("/dev/shm"),l.mkdir("/dev/shm/tmp")},createSpecialDirectories(){l.mkdir("/proc");var e=l.mkdir("/proc/self");l.mkdir("/proc/self/fd"),l.mount({mount(){var t=l.createNode(e,"fd",16895,73);return t.node_ops={lookup(n,r){var s=+r,o=l.getStreamChecked(s),d={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>o.path}};return d.parent=d,d}},t}},{},"/proc/self/fd")},createStandardStreams(e,t,n){e?l.createDevice("/dev","stdin",e):l.symlink("/dev/tty","/dev/stdin"),t?l.createDevice("/dev","stdout",null,t):l.symlink("/dev/tty","/dev/stdout"),n?l.createDevice("/dev","stderr",null,n):l.symlink("/dev/tty1","/dev/stderr"),l.open("/dev/stdin",0),l.open("/dev/stdout",1),l.open("/dev/stderr",1)},staticInit(){[44].forEach(e=>{l.genericErrors[e]=new l.ErrnoError(e),l.genericErrors[e].stack="<generic error, no stack>"}),l.nameTable=new Array(4096),l.mount(he,{},"/"),l.createDefaultDirectories(),l.createDefaultDevices(),l.createSpecialDirectories(),l.filesystems={MEMFS:he}},init(e,t,n){l.initialized=!0,e??(e=i.stdin),t??(t=i.stdout),n??(n=i.stderr),l.createStandardStreams(e,t,n)},quit(){l.initialized=!1;for(var e=0;e<l.streams.length;e++){var t=l.streams[e];t&&l.close(t)}},findObject(e,t){var n=l.analyzePath(e,t);return n.exists?n.object:null},analyzePath(e,t){try{var n=l.lookupPath(e,{follow:!t});e=n.path}catch{}var r={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var n=l.lookupPath(e,{parent:!0});r.parentExists=!0,r.parentPath=n.path,r.parentObject=n.node,r.name=ce.basename(e),n=l.lookupPath(e,{follow:!t}),r.exists=!0,r.path=n.path,r.object=n.node,r.name=n.node.name,r.isRoot=n.path==="/"}catch(s){r.error=s.errno}return r},createPath(e,t,n,r){e=typeof e=="string"?e:l.getPath(e);for(var s=t.split("/").reverse();s.length;){var o=s.pop();if(o){var d=ce.join2(e,o);try{l.mkdir(d)}catch{}e=d}}return d},createFile(e,t,n,r,s){var o=ce.join2(typeof e=="string"?e:l.getPath(e),t),d=Ht(r,s);return l.create(o,d)},createDataFile(e,t,n,r,s,o){var d=t;e&&(e=typeof e=="string"?e:l.getPath(e),d=t?ce.join2(e,t):e);var m=Ht(r,s),D=l.create(d,m);if(n){if(typeof n=="string"){for(var M=new Array(n.length),$=0,J=n.length;$<J;++$)M[$]=n.charCodeAt($);n=M}l.chmod(D,m|146);var C=l.open(D,577);l.write(C,n,0,n.length,0,o),l.close(C),l.chmod(D,m)}},createDevice(e,t,n,r){var m;var s=ce.join2(typeof e=="string"?e:l.getPath(e),t),o=Ht(!!n,!!r);(m=l.createDevice).major??(m.major=64);var d=l.makedev(l.createDevice.major++,0);return l.registerDevice(d,{open(D){D.seekable=!1},close(D){var M;(M=r==null?void 0:r.buffer)!=null&&M.length&&r(10)},read(D,M,$,J,C){for(var I=0,j=0;j<J;j++){var q;try{q=n()}catch{throw new l.ErrnoError(29)}if(q===void 0&&I===0)throw new l.ErrnoError(6);if(q==null)break;I++,M[$+j]=q}return I&&(D.node.timestamp=Date.now()),I},write(D,M,$,J,C){for(var I=0;I<J;I++)try{r(M[$+I])}catch{throw new l.ErrnoError(29)}return J&&(D.node.timestamp=Date.now()),I}}),l.mkdev(s,o,d)},forceLoadFile(e){if(e.isDevice||e.isFolder||e.link||e.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");try{e.contents=wt(e.url),e.usedBytes=e.contents.length}catch{throw new l.ErrnoError(29)}},createLazyFile(e,t,n,r,s){class o{constructor(){this.lengthKnown=!1,this.chunks=[]}get(I){if(!(I>this.length-1||I<0)){var j=I%this.chunkSize,q=I/this.chunkSize|0;return this.getter(q)[j]}}setDataGetter(I){this.getter=I}cacheLength(){var I=new XMLHttpRequest;if(I.open("HEAD",n,!1),I.send(null),!(I.status>=200&&I.status<300||I.status===304))throw new Error("Couldn't load "+n+". Status: "+I.status);var j=Number(I.getResponseHeader("Content-length")),q,E=(q=I.getResponseHeader("Accept-Ranges"))&&q==="bytes",F=(q=I.getResponseHeader("Content-Encoding"))&&q==="gzip",L=1024*1024;E||(L=j);var N=(U,V)=>{if(U>V)throw new Error("invalid range ("+U+", "+V+") or no bytes requested!");if(V>j-1)throw new Error("only "+j+" bytes available! programmer error!");var c=new XMLHttpRequest;if(c.open("GET",n,!1),j!==L&&c.setRequestHeader("Range","bytes="+U+"-"+V),c.responseType="arraybuffer",c.overrideMimeType&&c.overrideMimeType("text/plain; charset=x-user-defined"),c.send(null),!(c.status>=200&&c.status<300||c.status===304))throw new Error("Couldn't load "+n+". Status: "+c.status);return c.response!==void 0?new Uint8Array(c.response||[]):gt(c.responseText||"")},A=this;A.setDataGetter(U=>{var V=U*L,c=(U+1)*L-1;if(c=Math.min(c,j-1),typeof A.chunks[U]>"u"&&(A.chunks[U]=N(V,c)),typeof A.chunks[U]>"u")throw new Error("doXHR failed!");return A.chunks[U]}),(F||!j)&&(L=j=1,j=this.getter(0).length,L=j,pt("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=j,this._chunkSize=L,this.lengthKnown=!0}get length(){return this.lengthKnown||this.cacheLength(),this._length}get chunkSize(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}if(typeof XMLHttpRequest<"u"){if(!dt)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var d=new o,m={isDevice:!1,contents:d}}else var m={isDevice:!1,url:n};var D=l.createFile(e,t,m,r,s);m.contents?D.contents=m.contents:m.url&&(D.contents=null,D.url=m.url),Object.defineProperties(D,{usedBytes:{get:function(){return this.contents.length}}});var M={},$=Object.keys(D.stream_ops);$.forEach(C=>{var I=D.stream_ops[C];M[C]=(...j)=>(l.forceLoadFile(D),I(...j))});function J(C,I,j,q,E){var F=C.node.contents;if(E>=F.length)return 0;var L=Math.min(F.length-E,q);if(F.slice)for(var N=0;N<L;N++)I[j+N]=F[E+N];else for(var N=0;N<L;N++)I[j+N]=F.get(E+N);return L}return M.read=(C,I,j,q,E)=>(l.forceLoadFile(D),J(C,I,j,q,E)),M.mmap=(C,I,j,q,E)=>{l.forceLoadFile(D);var F=Pt(I);if(!F)throw new l.ErrnoError(48);return J(C,Ye,F,I,j),{ptr:F,allocated:!0}},D.stream_ops=M,D}},fn=(e,t)=>e?ze(at,e,t):"",xe={DEFAULT_POLLMASK:5,calculateAt(e,t,n){if(ce.isAbs(t))return t;var r;if(e===-100)r=l.cwd();else{var s=xe.getStreamFromFD(e);r=s.path}if(t.length==0){if(!n)throw new l.ErrnoError(44);return r}return ce.join2(r,t)},doStat(e,t,n){var r=e(t);S[n>>2]=r.dev,S[n+4>>2]=r.mode,T[n+8>>2]=r.nlink,S[n+12>>2]=r.uid,S[n+16>>2]=r.gid,S[n+20>>2]=r.rdev,W[n+24>>3]=BigInt(r.size),S[n+32>>2]=4096,S[n+36>>2]=r.blocks;var s=r.atime.getTime(),o=r.mtime.getTime(),d=r.ctime.getTime();return W[n+40>>3]=BigInt(Math.floor(s/1e3)),T[n+48>>2]=s%1e3*1e3*1e3,W[n+56>>3]=BigInt(Math.floor(o/1e3)),T[n+64>>2]=o%1e3*1e3*1e3,W[n+72>>3]=BigInt(Math.floor(d/1e3)),T[n+80>>2]=d%1e3*1e3*1e3,W[n+88>>3]=BigInt(r.ino),0},doMsync(e,t,n,r,s){if(!l.isFile(t.node.mode))throw new l.ErrnoError(43);if(r&2)return 0;var o=at.slice(e,e+n);l.msync(t,o,s,n,r)},getStreamFromFD(e){var t=l.getStreamChecked(e);return t},varargs:void 0,getStr(e){var t=fn(e);return t}};function dn(e,t){try{return e=xe.getStr(e),l.chmod(e,t),0}catch(n){if(typeof l>"u"||n.name!=="ErrnoError")throw n;return-n.errno}}function pn(e,t,n,r){try{if(t=xe.getStr(t),t=xe.calculateAt(e,t),n&-8)return-28;var s=l.lookupPath(t,{follow:!0}),o=s.node;if(!o)return-44;var d="";return n&4&&(d+="r"),n&2&&(d+="w"),n&1&&(d+="x"),d&&l.nodePermissions(o,d)?-2:0}catch(m){if(typeof l>"u"||m.name!=="ErrnoError")throw m;return-m.errno}}function hn(e,t){try{return l.fchmod(e,t),0}catch(n){if(typeof l>"u"||n.name!=="ErrnoError")throw n;return-n.errno}}function mn(e,t,n){try{return l.fchown(e,t,n),0}catch(r){if(typeof l>"u"||r.name!=="ErrnoError")throw r;return-r.errno}}function Ut(){var e=S[+xe.varargs>>2];return xe.varargs+=4,e}var Ct=Ut;function gn(e,t,n){xe.varargs=n;try{var r=xe.getStreamFromFD(e);switch(t){case 0:{var s=Ut();if(s<0)return-28;for(;l.streams[s];)s++;var o;return o=l.dupStream(r,s),o.fd}case 1:case 2:return 0;case 3:return r.flags;case 4:{var s=Ut();return r.flags|=s,0}case 12:{var s=Ct(),d=0;return Pe[s+d>>1]=2,0}case 13:case 14:return 0}return-28}catch(m){if(typeof l>"u"||m.name!=="ErrnoError")throw m;return-m.errno}}function bn(e,t){try{var n=xe.getStreamFromFD(e);return xe.doStat(l.stat,n.path,t)}catch(r){if(typeof l>"u"||r.name!=="ErrnoError")throw r;return-r.errno}}var yn=9007199254740992,qn=-9007199254740992,Mt=e=>e<qn||e>yn?NaN:Number(e);function wn(e,t){t=Mt(t);try{return isNaN(t)?61:(l.ftruncate(e,t),0)}catch(n){if(typeof l>"u"||n.name!=="ErrnoError")throw n;return-n.errno}}var Rt=(e,t,n)=>et(e,at,t,n);function En(e,t){try{if(t===0)return-28;var n=l.cwd(),r=Qe(n)+1;return t<r?-68:(Rt(n,e,t),r)}catch(s){if(typeof l>"u"||s.name!=="ErrnoError")throw s;return-s.errno}}function vn(e,t,n){xe.varargs=n;try{var r=xe.getStreamFromFD(e);switch(t){case 21509:return r.tty?0:-59;case 21505:{if(!r.tty)return-59;if(r.tty.ops.ioctl_tcgets){var s=r.tty.ops.ioctl_tcgets(r),o=Ct();S[o>>2]=s.c_iflag||0,S[o+4>>2]=s.c_oflag||0,S[o+8>>2]=s.c_cflag||0,S[o+12>>2]=s.c_lflag||0;for(var d=0;d<32;d++)Ye[o+d+17]=s.c_cc[d]||0;return 0}return 0}case 21510:case 21511:case 21512:return r.tty?0:-59;case 21506:case 21507:case 21508:{if(!r.tty)return-59;if(r.tty.ops.ioctl_tcsets){for(var o=Ct(),m=S[o>>2],D=S[o+4>>2],M=S[o+8>>2],$=S[o+12>>2],J=[],d=0;d<32;d++)J.push(Ye[o+d+17]);return r.tty.ops.ioctl_tcsets(r.tty,t,{c_iflag:m,c_oflag:D,c_cflag:M,c_lflag:$,c_cc:J})}return 0}case 21519:{if(!r.tty)return-59;var o=Ct();return S[o>>2]=0,0}case 21520:return r.tty?-28:-59;case 21531:{var o=Ct();return l.ioctl(r,t,o)}case 21523:{if(!r.tty)return-59;if(r.tty.ops.ioctl_tiocgwinsz){var C=r.tty.ops.ioctl_tiocgwinsz(r.tty),o=Ct();Pe[o>>1]=C[0],Pe[o+2>>1]=C[1]}return 0}case 21524:return r.tty?0:-59;case 21515:return r.tty?0:-59;default:return-28}}catch(I){if(typeof l>"u"||I.name!=="ErrnoError")throw I;return-I.errno}}function xn(e,t){try{return e=xe.getStr(e),xe.doStat(l.lstat,e,t)}catch(n){if(typeof l>"u"||n.name!=="ErrnoError")throw n;return-n.errno}}function Sn(e,t,n){try{return t=xe.getStr(t),t=xe.calculateAt(e,t),t=ce.normalize(t),t[t.length-1]==="/"&&(t=t.substr(0,t.length-1)),l.mkdir(t,n,0),0}catch(r){if(typeof l>"u"||r.name!=="ErrnoError")throw r;return-r.errno}}function An(e,t,n,r){try{t=xe.getStr(t);var s=r&256,o=r&4096;return r=r&-6401,t=xe.calculateAt(e,t,o),xe.doStat(s?l.lstat:l.stat,t,n)}catch(d){if(typeof l>"u"||d.name!=="ErrnoError")throw d;return-d.errno}}function In(e,t,n,r){xe.varargs=r;try{t=xe.getStr(t),t=xe.calculateAt(e,t);var s=r?Ut():0;return l.open(t,n,s).fd}catch(o){if(typeof l>"u"||o.name!=="ErrnoError")throw o;return-o.errno}}function kn(e,t,n,r){try{if(t=xe.getStr(t),t=xe.calculateAt(e,t),r<=0)return-28;var s=l.readlink(t),o=Math.min(r,Qe(s)),d=Ye[n+o];return Rt(s,n,r+1),Ye[n+o]=d,o}catch(m){if(typeof l>"u"||m.name!=="ErrnoError")throw m;return-m.errno}}function Tn(e){try{return e=xe.getStr(e),l.rmdir(e),0}catch(t){if(typeof l>"u"||t.name!=="ErrnoError")throw t;return-t.errno}}function On(e,t){try{return e=xe.getStr(e),xe.doStat(l.stat,e,t)}catch(n){if(typeof l>"u"||n.name!=="ErrnoError")throw n;return-n.errno}}function Fn(e,t,n){try{return t=xe.getStr(t),t=xe.calculateAt(e,t),n===0?l.unlink(t):n===512?l.rmdir(t):rt("Invalid flags passed to unlinkat"),0}catch(r){if(typeof l>"u"||r.name!=="ErrnoError")throw r;return-r.errno}}var Jt=e=>T[e>>2]+S[e+4>>2]*4294967296;function Pn(e,t,n,r){try{t=xe.getStr(t),t=xe.calculateAt(e,t,!0);var s=Date.now(),o,d;if(!n)o=s,d=s;else{var m=Jt(n),D=S[n+8>>2];D==1073741823?o=s:D==1073741822?o=-1:o=m*1e3+D/1e6,n+=16,m=Jt(n),D=S[n+8>>2],D==1073741823?d=s:D==1073741822?d=-1:d=m*1e3+D/1e6}return(d!=-1||o!=-1)&&l.utime(t,o,d),0}catch(M){if(typeof l>"u"||M.name!=="ErrnoError")throw M;return-M.errno}}var Ln=1,Cn=()=>Ln,Rn=e=>e%4===0&&(e%100!==0||e%400===0),Dn=[0,31,60,91,121,152,182,213,244,274,305,335],Nn=[0,31,59,90,120,151,181,212,243,273,304,334],Mn=e=>{var t=Rn(e.getFullYear()),n=t?Dn:Nn,r=n[e.getMonth()]+e.getDate()-1;return r};function jn(e,t){e=Mt(e);var n=new Date(e*1e3);S[t>>2]=n.getSeconds(),S[t+4>>2]=n.getMinutes(),S[t+8>>2]=n.getHours(),S[t+12>>2]=n.getDate(),S[t+16>>2]=n.getMonth(),S[t+20>>2]=n.getFullYear()-1900,S[t+24>>2]=n.getDay();var r=Mn(n)|0;S[t+28>>2]=r,S[t+36>>2]=-(n.getTimezoneOffset()*60);var s=new Date(n.getFullYear(),0,1),o=new Date(n.getFullYear(),6,1).getTimezoneOffset(),d=s.getTimezoneOffset(),m=(o!=d&&n.getTimezoneOffset()==Math.min(d,o))|0;S[t+32>>2]=m}function Un(e,t,n,r,s,o,d){s=Mt(s);try{if(isNaN(s))return 61;var m=xe.getStreamFromFD(r),D=l.mmap(m,e,s,t,n),M=D.ptr;return S[o>>2]=D.allocated,T[d>>2]=M,0}catch($){if(typeof l>"u"||$.name!=="ErrnoError")throw $;return-$.errno}}function Bn(e,t,n,r,s,o){o=Mt(o);try{var d=xe.getStreamFromFD(s);n&2&&xe.doMsync(e,d,t,r,o)}catch(m){if(typeof l>"u"||m.name!=="ErrnoError")throw m;return-m.errno}}var zn=(e,t,n,r)=>{var s=new Date().getFullYear(),o=new Date(s,0,1),d=new Date(s,6,1),m=o.getTimezoneOffset(),D=d.getTimezoneOffset(),M=Math.max(m,D);T[e>>2]=M*60,S[t>>2]=+(m!=D);var $=I=>{var j=I>=0?"-":"+",q=Math.abs(I),E=String(Math.floor(q/60)).padStart(2,"0"),F=String(q%60).padStart(2,"0");return`UTC${j}${E}${F}`},J=$(m),C=$(D);D<m?(Rt(J,n,17),Rt(C,r,17)):(Rt(J,r,17),Rt(C,n,17))},Qn=()=>Date.now(),Wn=()=>performance.now(),Hn=()=>2147483648,Vn=e=>{var t=Et.buffer,n=(e-t.byteLength+65535)/65536|0;try{return Et.grow(n),te(),1}catch{}},$n=e=>{var t=at.length;e>>>=0;var n=Hn();if(e>n)return!1;for(var r=1;r<=4;r*=2){var s=t*(1+.2/r);s=Math.min(s,e+100663296);var o=Math.min(n,mt(Math.max(e,s),65536)),d=Vn(o);if(d)return!0}return!1},Vt={},Gn=()=>yt||"./this.program",jt=()=>{if(!jt.strings){var e=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:e,_:Gn()};for(var n in Vt)Vt[n]===void 0?delete t[n]:t[n]=Vt[n];var r=[];for(var n in t)r.push(`${n}=${t[n]}`);jt.strings=r}return jt.strings},Kn=(e,t)=>{for(var n=0;n<e.length;++n)Ye[t++]=e.charCodeAt(n);Ye[t]=0},Jn=(e,t)=>{var n=0;return jt().forEach((r,s)=>{var o=t+n;T[e+s*4>>2]=o,Kn(r,o),n+=r.length+1}),0},Xn=(e,t)=>{var n=jt();T[e>>2]=n.length;var r=0;return n.forEach(s=>r+=s.length+1),T[t>>2]=r,0};function Yn(e){try{var t=xe.getStreamFromFD(e);return l.close(t),0}catch(n){if(typeof l>"u"||n.name!=="ErrnoError")throw n;return n.errno}}function Zn(e,t){try{var n=0,r=0,s=0,o=xe.getStreamFromFD(e),d=o.tty?2:l.isDir(o.mode)?3:l.isLink(o.mode)?7:4;return Ye[t]=d,Pe[t+2>>1]=s,W[t+8>>3]=BigInt(n),W[t+16>>3]=BigInt(r),0}catch(m){if(typeof l>"u"||m.name!=="ErrnoError")throw m;return m.errno}}var er=(e,t,n,r)=>{for(var s=0,o=0;o<n;o++){var d=T[t>>2],m=T[t+4>>2];t+=8;var D=l.read(e,Ye,d,m,r);if(D<0)return-1;if(s+=D,D<m)break}return s};function tr(e,t,n,r){try{var s=xe.getStreamFromFD(e),o=er(s,t,n);return T[r>>2]=o,0}catch(d){if(typeof l>"u"||d.name!=="ErrnoError")throw d;return d.errno}}function nr(e,t,n,r){t=Mt(t);try{if(isNaN(t))return 61;var s=xe.getStreamFromFD(e);return l.llseek(s,t,n),W[r>>3]=BigInt(s.position),s.getdents&&t===0&&n===0&&(s.getdents=null),0}catch(o){if(typeof l>"u"||o.name!=="ErrnoError")throw o;return o.errno}}function rr(e){var n;try{var t=xe.getStreamFromFD(e);return(n=t.stream_ops)!=null&&n.fsync?t.stream_ops.fsync(t):0}catch(r){if(typeof l>"u"||r.name!=="ErrnoError")throw r;return r.errno}}var sr=(e,t,n,r)=>{for(var s=0,o=0;o<n;o++){var d=T[t>>2],m=T[t+4>>2];t+=8;var D=l.write(e,Ye,d,m,r);if(D<0)return-1;if(s+=D,D<m)break}return s};function ir(e,t,n,r){try{var s=xe.getStreamFromFD(e),o=sr(s,t,n);return T[r>>2]=o,0}catch(d){if(typeof l>"u"||d.name!=="ErrnoError")throw d;return d.errno}}l.createPreloadedFile=_n,l.staticInit();var Xt={__syscall_chmod:dn,__syscall_faccessat:pn,__syscall_fchmod:hn,__syscall_fchown32:mn,__syscall_fcntl64:gn,__syscall_fstat64:bn,__syscall_ftruncate64:wn,__syscall_getcwd:En,__syscall_ioctl:vn,__syscall_lstat64:xn,__syscall_mkdirat:Sn,__syscall_newfstatat:An,__syscall_openat:In,__syscall_readlinkat:kn,__syscall_rmdir:Tn,__syscall_stat64:On,__syscall_unlinkat:Fn,__syscall_utimensat:Pn,_emscripten_get_now_is_monotonic:Cn,_localtime_js:jn,_mmap_js:Un,_munmap_js:Bn,_tzset_js:zn,emscripten_date_now:Qn,emscripten_get_now:Wn,emscripten_resize_heap:$n,environ_get:Jn,environ_sizes_get:Xn,fd_close:Yn,fd_fdstat_get:Zn,fd_read:tr,fd_seek:nr,fd_sync:rr,fd_write:ir,memory:Et},p=ht();i._sqlite3_status64=(e,t,n,r)=>(i._sqlite3_status64=p.sqlite3_status64)(e,t,n,r),i._sqlite3_status=(e,t,n,r)=>(i._sqlite3_status=p.sqlite3_status)(e,t,n,r),i._sqlite3_db_status=(e,t,n,r,s)=>(i._sqlite3_db_status=p.sqlite3_db_status)(e,t,n,r,s),i._sqlite3_msize=e=>(i._sqlite3_msize=p.sqlite3_msize)(e),i._sqlite3_vfs_find=e=>(i._sqlite3_vfs_find=p.sqlite3_vfs_find)(e),i._sqlite3_initialize=()=>(i._sqlite3_initialize=p.sqlite3_initialize)(),i._sqlite3_malloc=e=>(i._sqlite3_malloc=p.sqlite3_malloc)(e),i._sqlite3_free=e=>(i._sqlite3_free=p.sqlite3_free)(e),i._sqlite3_vfs_register=(e,t)=>(i._sqlite3_vfs_register=p.sqlite3_vfs_register)(e,t),i._sqlite3_vfs_unregister=e=>(i._sqlite3_vfs_unregister=p.sqlite3_vfs_unregister)(e),i._sqlite3_malloc64=e=>(i._sqlite3_malloc64=p.sqlite3_malloc64)(e),i._sqlite3_realloc=(e,t)=>(i._sqlite3_realloc=p.sqlite3_realloc)(e,t),i._sqlite3_realloc64=(e,t)=>(i._sqlite3_realloc64=p.sqlite3_realloc64)(e,t),i._sqlite3_value_text=e=>(i._sqlite3_value_text=p.sqlite3_value_text)(e),i._sqlite3_randomness=(e,t)=>(i._sqlite3_randomness=p.sqlite3_randomness)(e,t),i._sqlite3_stricmp=(e,t)=>(i._sqlite3_stricmp=p.sqlite3_stricmp)(e,t),i._sqlite3_strnicmp=(e,t,n)=>(i._sqlite3_strnicmp=p.sqlite3_strnicmp)(e,t,n),i._sqlite3_uri_parameter=(e,t)=>(i._sqlite3_uri_parameter=p.sqlite3_uri_parameter)(e,t),i._sqlite3_uri_boolean=(e,t,n)=>(i._sqlite3_uri_boolean=p.sqlite3_uri_boolean)(e,t,n),i._sqlite3_serialize=(e,t,n,r)=>(i._sqlite3_serialize=p.sqlite3_serialize)(e,t,n,r),i._sqlite3_prepare_v2=(e,t,n,r,s)=>(i._sqlite3_prepare_v2=p.sqlite3_prepare_v2)(e,t,n,r,s),i._sqlite3_step=e=>(i._sqlite3_step=p.sqlite3_step)(e),i._sqlite3_column_int64=(e,t)=>(i._sqlite3_column_int64=p.sqlite3_column_int64)(e,t),i._sqlite3_reset=e=>(i._sqlite3_reset=p.sqlite3_reset)(e),i._sqlite3_exec=(e,t,n,r,s)=>(i._sqlite3_exec=p.sqlite3_exec)(e,t,n,r,s),i._sqlite3_column_int=(e,t)=>(i._sqlite3_column_int=p.sqlite3_column_int)(e,t),i._sqlite3_finalize=e=>(i._sqlite3_finalize=p.sqlite3_finalize)(e),i._sqlite3_file_control=(e,t,n,r)=>(i._sqlite3_file_control=p.sqlite3_file_control)(e,t,n,r),i._sqlite3_column_name=(e,t)=>(i._sqlite3_column_name=p.sqlite3_column_name)(e,t),i._sqlite3_column_text=(e,t)=>(i._sqlite3_column_text=p.sqlite3_column_text)(e,t),i._sqlite3_column_type=(e,t)=>(i._sqlite3_column_type=p.sqlite3_column_type)(e,t),i._sqlite3_errmsg=e=>(i._sqlite3_errmsg=p.sqlite3_errmsg)(e),i._sqlite3_deserialize=(e,t,n,r,s,o)=>(i._sqlite3_deserialize=p.sqlite3_deserialize)(e,t,n,r,s,o),i._sqlite3_clear_bindings=e=>(i._sqlite3_clear_bindings=p.sqlite3_clear_bindings)(e),i._sqlite3_value_blob=e=>(i._sqlite3_value_blob=p.sqlite3_value_blob)(e),i._sqlite3_value_bytes=e=>(i._sqlite3_value_bytes=p.sqlite3_value_bytes)(e),i._sqlite3_value_double=e=>(i._sqlite3_value_double=p.sqlite3_value_double)(e),i._sqlite3_value_int=e=>(i._sqlite3_value_int=p.sqlite3_value_int)(e),i._sqlite3_value_int64=e=>(i._sqlite3_value_int64=p.sqlite3_value_int64)(e),i._sqlite3_value_subtype=e=>(i._sqlite3_value_subtype=p.sqlite3_value_subtype)(e),i._sqlite3_value_pointer=(e,t)=>(i._sqlite3_value_pointer=p.sqlite3_value_pointer)(e,t),i._sqlite3_value_type=e=>(i._sqlite3_value_type=p.sqlite3_value_type)(e),i._sqlite3_value_nochange=e=>(i._sqlite3_value_nochange=p.sqlite3_value_nochange)(e),i._sqlite3_value_frombind=e=>(i._sqlite3_value_frombind=p.sqlite3_value_frombind)(e),i._sqlite3_value_dup=e=>(i._sqlite3_value_dup=p.sqlite3_value_dup)(e),i._sqlite3_value_free=e=>(i._sqlite3_value_free=p.sqlite3_value_free)(e),i._sqlite3_result_blob=(e,t,n,r)=>(i._sqlite3_result_blob=p.sqlite3_result_blob)(e,t,n,r),i._sqlite3_result_error_toobig=e=>(i._sqlite3_result_error_toobig=p.sqlite3_result_error_toobig)(e),i._sqlite3_result_error_nomem=e=>(i._sqlite3_result_error_nomem=p.sqlite3_result_error_nomem)(e),i._sqlite3_result_double=(e,t)=>(i._sqlite3_result_double=p.sqlite3_result_double)(e,t),i._sqlite3_result_error=(e,t,n)=>(i._sqlite3_result_error=p.sqlite3_result_error)(e,t,n),i._sqlite3_result_int=(e,t)=>(i._sqlite3_result_int=p.sqlite3_result_int)(e,t),i._sqlite3_result_int64=(e,t)=>(i._sqlite3_result_int64=p.sqlite3_result_int64)(e,t),i._sqlite3_result_null=e=>(i._sqlite3_result_null=p.sqlite3_result_null)(e),i._sqlite3_result_pointer=(e,t,n,r)=>(i._sqlite3_result_pointer=p.sqlite3_result_pointer)(e,t,n,r),i._sqlite3_result_subtype=(e,t)=>(i._sqlite3_result_subtype=p.sqlite3_result_subtype)(e,t),i._sqlite3_result_text=(e,t,n,r)=>(i._sqlite3_result_text=p.sqlite3_result_text)(e,t,n,r),i._sqlite3_result_zeroblob=(e,t)=>(i._sqlite3_result_zeroblob=p.sqlite3_result_zeroblob)(e,t),i._sqlite3_result_zeroblob64=(e,t)=>(i._sqlite3_result_zeroblob64=p.sqlite3_result_zeroblob64)(e,t),i._sqlite3_result_error_code=(e,t)=>(i._sqlite3_result_error_code=p.sqlite3_result_error_code)(e,t),i._sqlite3_user_data=e=>(i._sqlite3_user_data=p.sqlite3_user_data)(e),i._sqlite3_context_db_handle=e=>(i._sqlite3_context_db_handle=p.sqlite3_context_db_handle)(e),i._sqlite3_vtab_nochange=e=>(i._sqlite3_vtab_nochange=p.sqlite3_vtab_nochange)(e),i._sqlite3_vtab_in_first=(e,t)=>(i._sqlite3_vtab_in_first=p.sqlite3_vtab_in_first)(e,t),i._sqlite3_vtab_in_next=(e,t)=>(i._sqlite3_vtab_in_next=p.sqlite3_vtab_in_next)(e,t),i._sqlite3_aggregate_context=(e,t)=>(i._sqlite3_aggregate_context=p.sqlite3_aggregate_context)(e,t),i._sqlite3_get_auxdata=(e,t)=>(i._sqlite3_get_auxdata=p.sqlite3_get_auxdata)(e,t),i._sqlite3_set_auxdata=(e,t,n,r)=>(i._sqlite3_set_auxdata=p.sqlite3_set_auxdata)(e,t,n,r),i._sqlite3_column_count=e=>(i._sqlite3_column_count=p.sqlite3_column_count)(e),i._sqlite3_data_count=e=>(i._sqlite3_data_count=p.sqlite3_data_count)(e),i._sqlite3_column_blob=(e,t)=>(i._sqlite3_column_blob=p.sqlite3_column_blob)(e,t),i._sqlite3_column_bytes=(e,t)=>(i._sqlite3_column_bytes=p.sqlite3_column_bytes)(e,t),i._sqlite3_column_double=(e,t)=>(i._sqlite3_column_double=p.sqlite3_column_double)(e,t),i._sqlite3_column_value=(e,t)=>(i._sqlite3_column_value=p.sqlite3_column_value)(e,t),i._sqlite3_column_decltype=(e,t)=>(i._sqlite3_column_decltype=p.sqlite3_column_decltype)(e,t),i._sqlite3_bind_blob=(e,t,n,r,s)=>(i._sqlite3_bind_blob=p.sqlite3_bind_blob)(e,t,n,r,s),i._sqlite3_bind_double=(e,t,n)=>(i._sqlite3_bind_double=p.sqlite3_bind_double)(e,t,n),i._sqlite3_bind_int=(e,t,n)=>(i._sqlite3_bind_int=p.sqlite3_bind_int)(e,t,n),i._sqlite3_bind_int64=(e,t,n)=>(i._sqlite3_bind_int64=p.sqlite3_bind_int64)(e,t,n),i._sqlite3_bind_null=(e,t)=>(i._sqlite3_bind_null=p.sqlite3_bind_null)(e,t),i._sqlite3_bind_pointer=(e,t,n,r,s)=>(i._sqlite3_bind_pointer=p.sqlite3_bind_pointer)(e,t,n,r,s),i._sqlite3_bind_text=(e,t,n,r,s)=>(i._sqlite3_bind_text=p.sqlite3_bind_text)(e,t,n,r,s),i._sqlite3_bind_parameter_count=e=>(i._sqlite3_bind_parameter_count=p.sqlite3_bind_parameter_count)(e),i._sqlite3_bind_parameter_name=(e,t)=>(i._sqlite3_bind_parameter_name=p.sqlite3_bind_parameter_name)(e,t),i._sqlite3_bind_parameter_index=(e,t)=>(i._sqlite3_bind_parameter_index=p.sqlite3_bind_parameter_index)(e,t),i._sqlite3_db_handle=e=>(i._sqlite3_db_handle=p.sqlite3_db_handle)(e),i._sqlite3_stmt_readonly=e=>(i._sqlite3_stmt_readonly=p.sqlite3_stmt_readonly)(e),i._sqlite3_stmt_isexplain=e=>(i._sqlite3_stmt_isexplain=p.sqlite3_stmt_isexplain)(e),i._sqlite3_stmt_explain=(e,t)=>(i._sqlite3_stmt_explain=p.sqlite3_stmt_explain)(e,t),i._sqlite3_stmt_busy=e=>(i._sqlite3_stmt_busy=p.sqlite3_stmt_busy)(e),i._sqlite3_stmt_status=(e,t,n)=>(i._sqlite3_stmt_status=p.sqlite3_stmt_status)(e,t,n),i._sqlite3_sql=e=>(i._sqlite3_sql=p.sqlite3_sql)(e),i._sqlite3_expanded_sql=e=>(i._sqlite3_expanded_sql=p.sqlite3_expanded_sql)(e),i._sqlite3_preupdate_old=(e,t,n)=>(i._sqlite3_preupdate_old=p.sqlite3_preupdate_old)(e,t,n),i._sqlite3_preupdate_count=e=>(i._sqlite3_preupdate_count=p.sqlite3_preupdate_count)(e),i._sqlite3_preupdate_depth=e=>(i._sqlite3_preupdate_depth=p.sqlite3_preupdate_depth)(e),i._sqlite3_preupdate_blobwrite=e=>(i._sqlite3_preupdate_blobwrite=p.sqlite3_preupdate_blobwrite)(e),i._sqlite3_preupdate_new=(e,t,n)=>(i._sqlite3_preupdate_new=p.sqlite3_preupdate_new)(e,t,n),i._sqlite3_value_numeric_type=e=>(i._sqlite3_value_numeric_type=p.sqlite3_value_numeric_type)(e),i._sqlite3_set_authorizer=(e,t,n)=>(i._sqlite3_set_authorizer=p.sqlite3_set_authorizer)(e,t,n),i._sqlite3_strglob=(e,t)=>(i._sqlite3_strglob=p.sqlite3_strglob)(e,t),i._sqlite3_strlike=(e,t,n)=>(i._sqlite3_strlike=p.sqlite3_strlike)(e,t,n),i._sqlite3_auto_extension=e=>(i._sqlite3_auto_extension=p.sqlite3_auto_extension)(e),i._sqlite3_cancel_auto_extension=e=>(i._sqlite3_cancel_auto_extension=p.sqlite3_cancel_auto_extension)(e),i._sqlite3_reset_auto_extension=()=>(i._sqlite3_reset_auto_extension=p.sqlite3_reset_auto_extension)(),i._sqlite3_prepare_v3=(e,t,n,r,s,o)=>(i._sqlite3_prepare_v3=p.sqlite3_prepare_v3)(e,t,n,r,s,o),i._sqlite3_create_module=(e,t,n,r)=>(i._sqlite3_create_module=p.sqlite3_create_module)(e,t,n,r),i._sqlite3_create_module_v2=(e,t,n,r,s)=>(i._sqlite3_create_module_v2=p.sqlite3_create_module_v2)(e,t,n,r,s),i._sqlite3_drop_modules=(e,t)=>(i._sqlite3_drop_modules=p.sqlite3_drop_modules)(e,t),i._sqlite3_declare_vtab=(e,t)=>(i._sqlite3_declare_vtab=p.sqlite3_declare_vtab)(e,t),i._sqlite3_vtab_on_conflict=e=>(i._sqlite3_vtab_on_conflict=p.sqlite3_vtab_on_conflict)(e),i._sqlite3_vtab_collation=(e,t)=>(i._sqlite3_vtab_collation=p.sqlite3_vtab_collation)(e,t),i._sqlite3_vtab_in=(e,t,n)=>(i._sqlite3_vtab_in=p.sqlite3_vtab_in)(e,t,n),i._sqlite3_vtab_rhs_value=(e,t,n)=>(i._sqlite3_vtab_rhs_value=p.sqlite3_vtab_rhs_value)(e,t,n),i._sqlite3_vtab_distinct=e=>(i._sqlite3_vtab_distinct=p.sqlite3_vtab_distinct)(e),i._sqlite3_keyword_name=(e,t,n)=>(i._sqlite3_keyword_name=p.sqlite3_keyword_name)(e,t,n),i._sqlite3_keyword_count=()=>(i._sqlite3_keyword_count=p.sqlite3_keyword_count)(),i._sqlite3_keyword_check=(e,t)=>(i._sqlite3_keyword_check=p.sqlite3_keyword_check)(e,t),i._sqlite3_complete=e=>(i._sqlite3_complete=p.sqlite3_complete)(e),i._sqlite3_libversion=()=>(i._sqlite3_libversion=p.sqlite3_libversion)(),i._sqlite3_libversion_number=()=>(i._sqlite3_libversion_number=p.sqlite3_libversion_number)(),i._sqlite3_shutdown=()=>(i._sqlite3_shutdown=p.sqlite3_shutdown)(),i._sqlite3_last_insert_rowid=e=>(i._sqlite3_last_insert_rowid=p.sqlite3_last_insert_rowid)(e),i._sqlite3_set_last_insert_rowid=(e,t)=>(i._sqlite3_set_last_insert_rowid=p.sqlite3_set_last_insert_rowid)(e,t),i._sqlite3_changes64=e=>(i._sqlite3_changes64=p.sqlite3_changes64)(e),i._sqlite3_changes=e=>(i._sqlite3_changes=p.sqlite3_changes)(e),i._sqlite3_total_changes64=e=>(i._sqlite3_total_changes64=p.sqlite3_total_changes64)(e),i._sqlite3_total_changes=e=>(i._sqlite3_total_changes=p.sqlite3_total_changes)(e),i._sqlite3_txn_state=(e,t)=>(i._sqlite3_txn_state=p.sqlite3_txn_state)(e,t),i._sqlite3_close_v2=e=>(i._sqlite3_close_v2=p.sqlite3_close_v2)(e),i._sqlite3_busy_handler=(e,t,n)=>(i._sqlite3_busy_handler=p.sqlite3_busy_handler)(e,t,n),i._sqlite3_progress_handler=(e,t,n,r)=>(i._sqlite3_progress_handler=p.sqlite3_progress_handler)(e,t,n,r),i._sqlite3_busy_timeout=(e,t)=>(i._sqlite3_busy_timeout=p.sqlite3_busy_timeout)(e,t),i._sqlite3_interrupt=e=>(i._sqlite3_interrupt=p.sqlite3_interrupt)(e),i._sqlite3_is_interrupted=e=>(i._sqlite3_is_interrupted=p.sqlite3_is_interrupted)(e),i._sqlite3_create_function=(e,t,n,r,s,o,d,m)=>(i._sqlite3_create_function=p.sqlite3_create_function)(e,t,n,r,s,o,d,m),i._sqlite3_create_function_v2=(e,t,n,r,s,o,d,m,D)=>(i._sqlite3_create_function_v2=p.sqlite3_create_function_v2)(e,t,n,r,s,o,d,m,D),i._sqlite3_create_window_function=(e,t,n,r,s,o,d,m,D,M)=>(i._sqlite3_create_window_function=p.sqlite3_create_window_function)(e,t,n,r,s,o,d,m,D,M),i._sqlite3_overload_function=(e,t,n)=>(i._sqlite3_overload_function=p.sqlite3_overload_function)(e,t,n),i._sqlite3_trace_v2=(e,t,n,r)=>(i._sqlite3_trace_v2=p.sqlite3_trace_v2)(e,t,n,r),i._sqlite3_commit_hook=(e,t,n)=>(i._sqlite3_commit_hook=p.sqlite3_commit_hook)(e,t,n),i._sqlite3_update_hook=(e,t,n)=>(i._sqlite3_update_hook=p.sqlite3_update_hook)(e,t,n),i._sqlite3_rollback_hook=(e,t,n)=>(i._sqlite3_rollback_hook=p.sqlite3_rollback_hook)(e,t,n),i._sqlite3_preupdate_hook=(e,t,n)=>(i._sqlite3_preupdate_hook=p.sqlite3_preupdate_hook)(e,t,n),i._sqlite3_error_offset=e=>(i._sqlite3_error_offset=p.sqlite3_error_offset)(e),i._sqlite3_errcode=e=>(i._sqlite3_errcode=p.sqlite3_errcode)(e),i._sqlite3_extended_errcode=e=>(i._sqlite3_extended_errcode=p.sqlite3_extended_errcode)(e),i._sqlite3_errstr=e=>(i._sqlite3_errstr=p.sqlite3_errstr)(e),i._sqlite3_limit=(e,t,n)=>(i._sqlite3_limit=p.sqlite3_limit)(e,t,n),i._sqlite3_open=(e,t)=>(i._sqlite3_open=p.sqlite3_open)(e,t),i._sqlite3_open_v2=(e,t,n,r)=>(i._sqlite3_open_v2=p.sqlite3_open_v2)(e,t,n,r),i._sqlite3_create_collation=(e,t,n,r,s)=>(i._sqlite3_create_collation=p.sqlite3_create_collation)(e,t,n,r,s),i._sqlite3_create_collation_v2=(e,t,n,r,s,o)=>(i._sqlite3_create_collation_v2=p.sqlite3_create_collation_v2)(e,t,n,r,s,o),i._sqlite3_collation_needed=(e,t,n)=>(i._sqlite3_collation_needed=p.sqlite3_collation_needed)(e,t,n),i._sqlite3_get_autocommit=e=>(i._sqlite3_get_autocommit=p.sqlite3_get_autocommit)(e),i._sqlite3_table_column_metadata=(e,t,n,r,s,o,d,m,D)=>(i._sqlite3_table_column_metadata=p.sqlite3_table_column_metadata)(e,t,n,r,s,o,d,m,D),i._sqlite3_extended_result_codes=(e,t)=>(i._sqlite3_extended_result_codes=p.sqlite3_extended_result_codes)(e,t),i._sqlite3_uri_key=(e,t)=>(i._sqlite3_uri_key=p.sqlite3_uri_key)(e,t),i._sqlite3_uri_int64=(e,t,n)=>(i._sqlite3_uri_int64=p.sqlite3_uri_int64)(e,t,n),i._sqlite3_db_name=(e,t)=>(i._sqlite3_db_name=p.sqlite3_db_name)(e,t),i._sqlite3_db_filename=(e,t)=>(i._sqlite3_db_filename=p.sqlite3_db_filename)(e,t),i._sqlite3_db_readonly=(e,t)=>(i._sqlite3_db_readonly=p.sqlite3_db_readonly)(e,t),i._sqlite3_compileoption_used=e=>(i._sqlite3_compileoption_used=p.sqlite3_compileoption_used)(e),i._sqlite3_compileoption_get=e=>(i._sqlite3_compileoption_get=p.sqlite3_compileoption_get)(e),i._sqlite3session_diff=(e,t,n,r)=>(i._sqlite3session_diff=p.sqlite3session_diff)(e,t,n,r),i._sqlite3session_attach=(e,t)=>(i._sqlite3session_attach=p.sqlite3session_attach)(e,t),i._sqlite3session_create=(e,t,n)=>(i._sqlite3session_create=p.sqlite3session_create)(e,t,n),i._sqlite3session_delete=e=>(i._sqlite3session_delete=p.sqlite3session_delete)(e),i._sqlite3session_table_filter=(e,t,n)=>(i._sqlite3session_table_filter=p.sqlite3session_table_filter)(e,t,n),i._sqlite3session_changeset=(e,t,n)=>(i._sqlite3session_changeset=p.sqlite3session_changeset)(e,t,n),i._sqlite3session_changeset_strm=(e,t,n)=>(i._sqlite3session_changeset_strm=p.sqlite3session_changeset_strm)(e,t,n),i._sqlite3session_patchset_strm=(e,t,n)=>(i._sqlite3session_patchset_strm=p.sqlite3session_patchset_strm)(e,t,n),i._sqlite3session_patchset=(e,t,n)=>(i._sqlite3session_patchset=p.sqlite3session_patchset)(e,t,n),i._sqlite3session_enable=(e,t)=>(i._sqlite3session_enable=p.sqlite3session_enable)(e,t),i._sqlite3session_indirect=(e,t)=>(i._sqlite3session_indirect=p.sqlite3session_indirect)(e,t),i._sqlite3session_isempty=e=>(i._sqlite3session_isempty=p.sqlite3session_isempty)(e),i._sqlite3session_memory_used=e=>(i._sqlite3session_memory_used=p.sqlite3session_memory_used)(e),i._sqlite3session_object_config=(e,t,n)=>(i._sqlite3session_object_config=p.sqlite3session_object_config)(e,t,n),i._sqlite3session_changeset_size=e=>(i._sqlite3session_changeset_size=p.sqlite3session_changeset_size)(e),i._sqlite3changeset_start=(e,t,n)=>(i._sqlite3changeset_start=p.sqlite3changeset_start)(e,t,n),i._sqlite3changeset_start_v2=(e,t,n,r)=>(i._sqlite3changeset_start_v2=p.sqlite3changeset_start_v2)(e,t,n,r),i._sqlite3changeset_start_strm=(e,t,n)=>(i._sqlite3changeset_start_strm=p.sqlite3changeset_start_strm)(e,t,n),i._sqlite3changeset_start_v2_strm=(e,t,n,r)=>(i._sqlite3changeset_start_v2_strm=p.sqlite3changeset_start_v2_strm)(e,t,n,r),i._sqlite3changeset_next=e=>(i._sqlite3changeset_next=p.sqlite3changeset_next)(e),i._sqlite3changeset_op=(e,t,n,r,s)=>(i._sqlite3changeset_op=p.sqlite3changeset_op)(e,t,n,r,s),i._sqlite3changeset_pk=(e,t,n)=>(i._sqlite3changeset_pk=p.sqlite3changeset_pk)(e,t,n),i._sqlite3changeset_old=(e,t,n)=>(i._sqlite3changeset_old=p.sqlite3changeset_old)(e,t,n),i._sqlite3changeset_new=(e,t,n)=>(i._sqlite3changeset_new=p.sqlite3changeset_new)(e,t,n),i._sqlite3changeset_conflict=(e,t,n)=>(i._sqlite3changeset_conflict=p.sqlite3changeset_conflict)(e,t,n),i._sqlite3changeset_fk_conflicts=(e,t)=>(i._sqlite3changeset_fk_conflicts=p.sqlite3changeset_fk_conflicts)(e,t),i._sqlite3changeset_finalize=e=>(i._sqlite3changeset_finalize=p.sqlite3changeset_finalize)(e),i._sqlite3changeset_invert=(e,t,n,r)=>(i._sqlite3changeset_invert=p.sqlite3changeset_invert)(e,t,n,r),i._sqlite3changeset_invert_strm=(e,t,n,r)=>(i._sqlite3changeset_invert_strm=p.sqlite3changeset_invert_strm)(e,t,n,r),i._sqlite3changeset_apply_v2=(e,t,n,r,s,o,d,m,D)=>(i._sqlite3changeset_apply_v2=p.sqlite3changeset_apply_v2)(e,t,n,r,s,o,d,m,D),i._sqlite3changeset_apply=(e,t,n,r,s,o)=>(i._sqlite3changeset_apply=p.sqlite3changeset_apply)(e,t,n,r,s,o),i._sqlite3changeset_apply_v2_strm=(e,t,n,r,s,o,d,m,D)=>(i._sqlite3changeset_apply_v2_strm=p.sqlite3changeset_apply_v2_strm)(e,t,n,r,s,o,d,m,D),i._sqlite3changeset_apply_strm=(e,t,n,r,s,o)=>(i._sqlite3changeset_apply_strm=p.sqlite3changeset_apply_strm)(e,t,n,r,s,o),i._sqlite3changegroup_new=e=>(i._sqlite3changegroup_new=p.sqlite3changegroup_new)(e),i._sqlite3changegroup_add=(e,t,n)=>(i._sqlite3changegroup_add=p.sqlite3changegroup_add)(e,t,n),i._sqlite3changegroup_output=(e,t,n)=>(i._sqlite3changegroup_output=p.sqlite3changegroup_output)(e,t,n),i._sqlite3changegroup_add_strm=(e,t,n)=>(i._sqlite3changegroup_add_strm=p.sqlite3changegroup_add_strm)(e,t,n),i._sqlite3changegroup_output_strm=(e,t,n)=>(i._sqlite3changegroup_output_strm=p.sqlite3changegroup_output_strm)(e,t,n),i._sqlite3changegroup_delete=e=>(i._sqlite3changegroup_delete=p.sqlite3changegroup_delete)(e),i._sqlite3changeset_concat=(e,t,n,r,s,o)=>(i._sqlite3changeset_concat=p.sqlite3changeset_concat)(e,t,n,r,s,o),i._sqlite3changeset_concat_strm=(e,t,n,r,s,o)=>(i._sqlite3changeset_concat_strm=p.sqlite3changeset_concat_strm)(e,t,n,r,s,o),i._sqlite3session_config=(e,t)=>(i._sqlite3session_config=p.sqlite3session_config)(e,t),i._sqlite3_sourceid=()=>(i._sqlite3_sourceid=p.sqlite3_sourceid)(),i._sqlite3__wasm_pstack_ptr=()=>(i._sqlite3__wasm_pstack_ptr=p.sqlite3__wasm_pstack_ptr)(),i._sqlite3__wasm_pstack_restore=e=>(i._sqlite3__wasm_pstack_restore=p.sqlite3__wasm_pstack_restore)(e),i._sqlite3__wasm_pstack_alloc=e=>(i._sqlite3__wasm_pstack_alloc=p.sqlite3__wasm_pstack_alloc)(e),i._sqlite3__wasm_pstack_remaining=()=>(i._sqlite3__wasm_pstack_remaining=p.sqlite3__wasm_pstack_remaining)(),i._sqlite3__wasm_pstack_quota=()=>(i._sqlite3__wasm_pstack_quota=p.sqlite3__wasm_pstack_quota)(),i._sqlite3__wasm_db_error=(e,t,n)=>(i._sqlite3__wasm_db_error=p.sqlite3__wasm_db_error)(e,t,n),i._sqlite3__wasm_test_struct=e=>(i._sqlite3__wasm_test_struct=p.sqlite3__wasm_test_struct)(e),i._sqlite3__wasm_enum_json=()=>(i._sqlite3__wasm_enum_json=p.sqlite3__wasm_enum_json)(),i._sqlite3__wasm_vfs_unlink=(e,t)=>(i._sqlite3__wasm_vfs_unlink=p.sqlite3__wasm_vfs_unlink)(e,t),i._sqlite3__wasm_db_vfs=(e,t)=>(i._sqlite3__wasm_db_vfs=p.sqlite3__wasm_db_vfs)(e,t),i._sqlite3__wasm_db_reset=e=>(i._sqlite3__wasm_db_reset=p.sqlite3__wasm_db_reset)(e),i._sqlite3__wasm_db_export_chunked=(e,t)=>(i._sqlite3__wasm_db_export_chunked=p.sqlite3__wasm_db_export_chunked)(e,t),i._sqlite3__wasm_db_serialize=(e,t,n,r,s)=>(i._sqlite3__wasm_db_serialize=p.sqlite3__wasm_db_serialize)(e,t,n,r,s),i._sqlite3__wasm_vfs_create_file=(e,t,n,r)=>(i._sqlite3__wasm_vfs_create_file=p.sqlite3__wasm_vfs_create_file)(e,t,n,r),i._sqlite3__wasm_posix_create_file=(e,t,n)=>(i._sqlite3__wasm_posix_create_file=p.sqlite3__wasm_posix_create_file)(e,t,n),i._sqlite3__wasm_kvvfsMakeKeyOnPstack=(e,t)=>(i._sqlite3__wasm_kvvfsMakeKeyOnPstack=p.sqlite3__wasm_kvvfsMakeKeyOnPstack)(e,t),i._sqlite3__wasm_kvvfs_methods=()=>(i._sqlite3__wasm_kvvfs_methods=p.sqlite3__wasm_kvvfs_methods)(),i._sqlite3__wasm_vtab_config=(e,t,n)=>(i._sqlite3__wasm_vtab_config=p.sqlite3__wasm_vtab_config)(e,t,n),i._sqlite3__wasm_db_config_ip=(e,t,n,r)=>(i._sqlite3__wasm_db_config_ip=p.sqlite3__wasm_db_config_ip)(e,t,n,r),i._sqlite3__wasm_db_config_pii=(e,t,n,r,s)=>(i._sqlite3__wasm_db_config_pii=p.sqlite3__wasm_db_config_pii)(e,t,n,r,s),i._sqlite3__wasm_db_config_s=(e,t,n)=>(i._sqlite3__wasm_db_config_s=p.sqlite3__wasm_db_config_s)(e,t,n),i._sqlite3__wasm_config_i=(e,t)=>(i._sqlite3__wasm_config_i=p.sqlite3__wasm_config_i)(e,t),i._sqlite3__wasm_config_ii=(e,t,n)=>(i._sqlite3__wasm_config_ii=p.sqlite3__wasm_config_ii)(e,t,n),i._sqlite3__wasm_config_j=(e,t)=>(i._sqlite3__wasm_config_j=p.sqlite3__wasm_config_j)(e,t),i._sqlite3__wasm_qfmt_token=(e,t)=>(i._sqlite3__wasm_qfmt_token=p.sqlite3__wasm_qfmt_token)(e,t),i._sqlite3__wasm_init_wasmfs=e=>(i._sqlite3__wasm_init_wasmfs=p.sqlite3__wasm_init_wasmfs)(e),i._sqlite3__wasm_test_intptr=e=>(i._sqlite3__wasm_test_intptr=p.sqlite3__wasm_test_intptr)(e),i._sqlite3__wasm_test_voidptr=e=>(i._sqlite3__wasm_test_voidptr=p.sqlite3__wasm_test_voidptr)(e),i._sqlite3__wasm_test_int64_max=()=>(i._sqlite3__wasm_test_int64_max=p.sqlite3__wasm_test_int64_max)(),i._sqlite3__wasm_test_int64_min=()=>(i._sqlite3__wasm_test_int64_min=p.sqlite3__wasm_test_int64_min)(),i._sqlite3__wasm_test_int64_times2=e=>(i._sqlite3__wasm_test_int64_times2=p.sqlite3__wasm_test_int64_times2)(e),i._sqlite3__wasm_test_int64_minmax=(e,t)=>(i._sqlite3__wasm_test_int64_minmax=p.sqlite3__wasm_test_int64_minmax)(e,t),i._sqlite3__wasm_test_int64ptr=e=>(i._sqlite3__wasm_test_int64ptr=p.sqlite3__wasm_test_int64ptr)(e),i._sqlite3__wasm_test_stack_overflow=e=>(i._sqlite3__wasm_test_stack_overflow=p.sqlite3__wasm_test_stack_overflow)(e),i._sqlite3__wasm_test_str_hello=e=>(i._sqlite3__wasm_test_str_hello=p.sqlite3__wasm_test_str_hello)(e),i._sqlite3__wasm_SQLTester_strglob=(e,t)=>(i._sqlite3__wasm_SQLTester_strglob=p.sqlite3__wasm_SQLTester_strglob)(e,t),i._malloc=e=>(i._malloc=p.malloc)(e),i._free=e=>(i._free=p.free)(e),i._realloc=(e,t)=>(i._realloc=p.realloc)(e,t);var Yt=(e,t)=>(Yt=p.emscripten_builtin_memalign)(e,t);i.wasmMemory=Et;var Bt,Zt;se=function e(){Bt||en(),Bt||(se=e)};function en(){if(qe>0||!Zt&&(Zt=1,_t(),qe>0))return;function e(){var t;Bt||(Bt=1,i.calledRun=1,!Dt&&(Ae(),Be(i),(t=i.onRuntimeInitialized)==null||t.call(i),Me()))}i.setStatus?(i.setStatus("Running..."),setTimeout(()=>{setTimeout(()=>i.setStatus(""),1),e()},1)):e()}if(i.preInit)for(typeof i.preInit=="function"&&(i.preInit=[i.preInit]);i.preInit.length>0;)i.preInit.pop()();return en(),i.runSQLite3PostLoadInit=function(e){if(globalThis.sqlite3ApiBootstrap=function t(n=globalThis.sqlite3ApiConfig||t.defaultConfig){if(t.sqlite3)return(t.sqlite3.config||console).warn("sqlite3ApiBootstrap() called multiple times.","Config and external initializers are ignored on calls after the first."),t.sqlite3;const r=Object.assign(Object.create(null),{exports:void 0,memory:void 0,bigIntEnabled:typeof i<"u"&&i.HEAPU64?!0:!!globalThis.BigInt64Array,debug:console.debug.bind(console),warn:console.warn.bind(console),error:console.error.bind(console),log:console.log.bind(console),wasmfsOpfsDir:"/opfs",useStdAlloc:!1},n||{});Object.assign(r,{allocExportName:r.useStdAlloc?"malloc":"sqlite3_malloc",deallocExportName:r.useStdAlloc?"free":"sqlite3_free",reallocExportName:r.useStdAlloc?"realloc":"sqlite3_realloc"},r),["exports","memory","wasmfsOpfsDir"].forEach(a=>{typeof r[a]=="function"&&(r[a]=r[a]())}),delete globalThis.sqlite3ApiConfig,delete t.defaultConfig;const s=Object.create(null),o=Object.create(null),d=a=>s.sqlite3_js_rc_str&&s.sqlite3_js_rc_str(a)||"Unknown result code #"+a,m=a=>typeof a=="number"&&a===(a|0);class D extends Error{constructor(..._){let b;if(_.length)if(m(_[0]))if(b=_[0],_.length===1)super(d(_[0]));else{const y=d(b);typeof _[1]=="object"?super(y,_[1]):(_[0]=y+":",super(_.join(" ")))}else _.length===2&&typeof _[1]=="object"?super(..._):super(_.join(" "));this.resultCode=b||s.SQLITE_ERROR,this.name="SQLite3Error"}}D.toss=(...a)=>{throw new D(...a)};const M=D.toss;r.wasmfsOpfsDir&&!/^\/[^/]+$/.test(r.wasmfsOpfsDir)&&M("config.wasmfsOpfsDir must be falsy or in the form '/dir-name'.");const $=a=>typeof a!="bigint"&&a===(a|0)&&a<=2147483647&&a>=-2147483648,J=function a(_){return a._max||(a._max=BigInt("0x7fffffffffffffff"),a._min=~a._max),_>=a._min&&_<=a._max},C=a=>a>=-0x7fffffffn-1n&&a<=0x7fffffffn,I=function a(_){return a._min||(a._min=Number.MIN_SAFE_INTEGER,a._max=Number.MAX_SAFE_INTEGER),_>=a._min&&_<=a._max},j=a=>a&&a.constructor&&$(a.constructor.BYTES_PER_ELEMENT)?a:!1,q=typeof SharedArrayBuffer>"u"?function(){}:SharedArrayBuffer,E=a=>a.buffer instanceof q,F=(a,_,b)=>E(a)?a.slice(_,b):a.subarray(_,b),L=a=>a&&(a instanceof Uint8Array||a instanceof Int8Array||a instanceof ArrayBuffer),N=a=>a&&(a instanceof Uint8Array||a instanceof Int8Array||a instanceof ArrayBuffer),A=a=>L(a)||M("Value is not of a supported TypedArray type."),U=new TextDecoder("utf-8"),V=function(a,_,b){return U.decode(F(a,_,b))},c=function(a){return N(a)?V(a instanceof ArrayBuffer?new Uint8Array(a):a):Array.isArray(a)?a.join(""):(o.isPtr(a)&&(a=o.cstrToJs(a)),a)};class h extends Error{constructor(..._){_.length===2&&typeof _[1]=="object"?super(..._):_.length?super(_.join(" ")):super("Allocation failed."),this.resultCode=s.SQLITE_NOMEM,this.name="WasmAllocError"}}h.toss=(...a)=>{throw new h(...a)},Object.assign(s,{sqlite3_bind_blob:void 0,sqlite3_bind_text:void 0,sqlite3_create_function_v2:(a,_,b,y,B,Z,ie,be,me)=>{},sqlite3_create_function:(a,_,b,y,B,Z,ie,be)=>{},sqlite3_create_window_function:(a,_,b,y,B,Z,ie,be,me,de)=>{},sqlite3_prepare_v3:(a,_,b,y,B,Z)=>{},sqlite3_prepare_v2:(a,_,b,y,B)=>{},sqlite3_exec:(a,_,b,y,B)=>{},sqlite3_randomness:(a,_)=>{}});const w={affirmBindableTypedArray:A,flexibleString:c,bigIntFits32:C,bigIntFits64:J,bigIntFitsDouble:I,isBindableTypedArray:L,isInt32:$,isSQLableTypedArray:N,isTypedArray:j,typedArrayToString:V,isUIThread:()=>globalThis.window===globalThis&&!!globalThis.document,isSharedTypedArray:E,toss:function(...a){throw new Error(a.join(" "))},toss3:M,typedArrayPart:F,affirmDbHeader:function(a){a instanceof ArrayBuffer&&(a=new Uint8Array(a));const _="SQLite format 3";_.length>a.byteLength&&M("Input does not contain an SQLite3 database header.");for(let b=0;b<_.length;++b)_.charCodeAt(b)!==a[b]&&M("Input does not contain an SQLite3 database header.")},affirmIsDb:function(a){a instanceof ArrayBuffer&&(a=new Uint8Array(a));const _=a.byteLength;(_<512||_%512!==0)&&M("Byte array size",_,"is invalid for an SQLite3 db."),w.affirmDbHeader(a)}};Object.assign(o,{ptrSizeof:r.wasmPtrSizeof||4,ptrIR:r.wasmPtrIR||"i32",bigIntEnabled:!!r.bigIntEnabled,exports:r.exports||M("Missing API config.exports (WASM module exports)."),memory:r.memory||r.exports.memory||M("API config object requires a WebAssembly.Memory object","in either config.exports.memory (exported)","or config.memory (imported)."),alloc:void 0,realloc:void 0,dealloc:void 0}),o.allocFromTypedArray=function(a){a instanceof ArrayBuffer&&(a=new Uint8Array(a)),A(a);const _=o.alloc(a.byteLength||1);return o.heapForSize(a.constructor).set(a.byteLength?a:[0],_),_};{const a=r.allocExportName,_=r.deallocExportName,b=r.reallocExportName;for(const y of[a,_,b])o.exports[y]instanceof Function||M("Missing required exports[",y,"] function.");o.alloc=function y(B){return y.impl(B)||h.toss("Failed to allocate",B," bytes.")},o.alloc.impl=o.exports[a],o.realloc=function y(B,Z){const ie=y.impl(B,Z);return Z?ie||h.toss("Failed to reallocate",Z," bytes."):0},o.realloc.impl=o.exports[b],o.dealloc=o.exports[_]}o.compileOptionUsed=function a(_){if(arguments.length){if(Array.isArray(_)){const b={};return _.forEach(y=>{b[y]=s.sqlite3_compileoption_used(y)}),b}else if(typeof _=="object")return Object.keys(_).forEach(b=>{_[b]=s.sqlite3_compileoption_used(b)}),_}else{if(a._result)return a._result;a._opt||(a._rx=/^([^=]+)=(.+)/,a._rxInt=/^-?\d+$/,a._opt=function(ie,be){const me=a._rx.exec(ie);be[0]=me?me[1]:ie,be[1]=me?a._rxInt.test(me[2])?+me[2]:me[2]:!0});const b={},y=[0,0];let B=0,Z;for(;Z=s.sqlite3_compileoption_get(B++);)a._opt(Z,y),b[y[0]]=y[1];return a._result=b}return typeof _=="string"?!!s.sqlite3_compileoption_used(_):!1},o.pstack=Object.assign(Object.create(null),{restore:o.exports.sqlite3__wasm_pstack_restore,alloc:function(a){return typeof a=="string"&&!(a=o.sizeofIR(a))&&h.toss("Invalid value for pstack.alloc(",arguments[0],")"),o.exports.sqlite3__wasm_pstack_alloc(a)||h.toss("Could not allocate",a,"bytes from the pstack.")},allocChunks:function(a,_){typeof _=="string"&&!(_=o.sizeofIR(_))&&h.toss("Invalid size value for allocChunks(",arguments[1],")");const b=o.pstack.alloc(a*_),y=[];let B=0,Z=0;for(;B<a;++B,Z+=_)y.push(b+Z);return y},allocPtr:(a=1,_=!0)=>a===1?o.pstack.alloc(_?8:o.ptrSizeof):o.pstack.allocChunks(a,_?8:o.ptrSizeof),call:function(a){const _=o.pstack.pointer;try{return a(g)}finally{o.pstack.restore(_)}}}),Object.defineProperties(o.pstack,{pointer:{configurable:!1,iterable:!0,writeable:!1,get:o.exports.sqlite3__wasm_pstack_ptr},quota:{configurable:!1,iterable:!0,writeable:!1,get:o.exports.sqlite3__wasm_pstack_quota},remaining:{configurable:!1,iterable:!0,writeable:!1,get:o.exports.sqlite3__wasm_pstack_remaining}}),s.sqlite3_randomness=(...a)=>{if(a.length===1&&w.isTypedArray(a[0])&&a[0].BYTES_PER_ELEMENT===1){const _=a[0];if(_.byteLength===0)return o.exports.sqlite3_randomness(0,0),_;const b=o.pstack.pointer;try{let y=_.byteLength,B=0;const Z=o.exports.sqlite3_randomness,ie=o.heap8u(),be=y<512?y:512,me=o.pstack.alloc(be);do{const de=y>be?be:y;Z(de,me),_.set(F(ie,me,me+de),B),y-=de,B+=de}while(y>0)}catch(y){console.error("Highly unexpected (and ignored!) exception in sqlite3_randomness():",y)}finally{o.pstack.restore(b)}return _}o.exports.sqlite3_randomness(...a)};let H;if(s.sqlite3_wasmfs_opfs_dir=function(){if(H!==void 0)return H;const a=r.wasmfsOpfsDir;if(!a||!globalThis.FileSystemHandle||!globalThis.FileSystemDirectoryHandle||!globalThis.FileSystemFileHandle)return H="";try{return a&&o.xCallWrapped("sqlite3__wasm_init_wasmfs","i32",["string"],a)===0?H=a:H=""}catch{return H=""}},s.sqlite3_wasmfs_filename_is_persistent=function(a){const _=s.sqlite3_wasmfs_opfs_dir();return _&&a?a.startsWith(_+"/"):!1},s.sqlite3_js_db_uses_vfs=function(a,_,b=0){try{const y=s.sqlite3_vfs_find(_);return y?a?y===s.sqlite3_js_db_vfs(a,b)?y:!1:y===s.sqlite3_vfs_find(0)?y:!1:!1}catch{return!1}},s.sqlite3_js_vfs_list=function(){const a=[];let _=s.sqlite3_vfs_find(0);for(;_;){const b=new s.sqlite3_vfs(_);a.push(o.cstrToJs(b.$zName)),_=b.$pNext,b.dispose()}return a},s.sqlite3_js_db_export=function(a,_=0){a=o.xWrap.testConvertArg("sqlite3*",a),a||M("Invalid sqlite3* argument."),o.bigIntEnabled||M("BigInt64 support is not enabled.");const b=o.scopedAllocPush();let y;try{const B=o.scopedAlloc(8+o.ptrSizeof),Z=B+8,ie=_?o.isPtr(_)?_:o.scopedAllocCString(""+_):0;let be=o.exports.sqlite3__wasm_db_serialize(a,ie,Z,B,0);be&&M("Database serialization failed with code",g.capi.sqlite3_js_rc_str(be)),y=o.peekPtr(Z);const me=o.peek(B,"i64");return be=me?o.heap8u().slice(y,y+Number(me)):new Uint8Array,be}finally{y&&o.exports.sqlite3_free(y),o.scopedAllocPop(b)}},s.sqlite3_js_db_vfs=(a,_=0)=>w.sqlite3__wasm_db_vfs(a,_),s.sqlite3_js_aggregate_context=(a,_)=>s.sqlite3_aggregate_context(a,_)||(_?h.toss("Cannot allocate",_,"bytes for sqlite3_aggregate_context()"):0),s.sqlite3_js_posix_create_file=function(a,_,b){let y;_&&o.isPtr(_)?y=_:_ instanceof ArrayBuffer||_ instanceof Uint8Array?(y=o.allocFromTypedArray(_),(arguments.length<3||!w.isInt32(b)||b<0)&&(b=_.byteLength)):D.toss("Invalid 2nd argument for sqlite3_js_posix_create_file().");try{(!w.isInt32(b)||b<0)&&D.toss("Invalid 3rd argument for sqlite3_js_posix_create_file().");const B=w.sqlite3__wasm_posix_create_file(a,y,b);B&&D.toss("Creation of file failed with sqlite3 result code",s.sqlite3_js_rc_str(B))}finally{o.dealloc(y)}},s.sqlite3_js_vfs_create_file=function(a,_,b,y){r.warn("sqlite3_js_vfs_create_file() is deprecated and","should be avoided because it can lead to C-level crashes.","See its documentation for alternative options.");let B;b?(o.isPtr(b)?B=b:b instanceof ArrayBuffer&&(b=new Uint8Array(b)),b instanceof Uint8Array?(B=o.allocFromTypedArray(b),(arguments.length<4||!w.isInt32(y)||y<0)&&(y=b.byteLength)):D.toss("Invalid 3rd argument type for sqlite3_js_vfs_create_file().")):B=0,(!w.isInt32(y)||y<0)&&(o.dealloc(B),D.toss("Invalid 4th argument for sqlite3_js_vfs_create_file()."));try{const Z=w.sqlite3__wasm_vfs_create_file(a,_,B,y);Z&&D.toss("Creation of file failed with sqlite3 result code",s.sqlite3_js_rc_str(Z))}finally{o.dealloc(B)}},s.sqlite3_js_sql_to_string=a=>{if(typeof a=="string")return a;const _=c(v);return _===v?void 0:_},w.isUIThread()){const a=function(_){const b=Object.create(null);return b.prefix="kvvfs-"+_,b.stores=[],(_==="session"||_==="")&&b.stores.push(globalThis.sessionStorage),(_==="local"||_==="")&&b.stores.push(globalThis.localStorage),b};s.sqlite3_js_kvvfs_clear=function(_=""){let b=0;const y=a(_);return y.stores.forEach(B=>{const Z=[];let ie;for(ie=0;ie<B.length;++ie){const be=B.key(ie);be.startsWith(y.prefix)&&Z.push(be)}Z.forEach(be=>B.removeItem(be)),b+=Z.length}),b},s.sqlite3_js_kvvfs_size=function(_=""){let b=0;const y=a(_);return y.stores.forEach(B=>{let Z;for(Z=0;Z<B.length;++Z){const ie=B.key(Z);ie.startsWith(y.prefix)&&(b+=ie.length,b+=B.getItem(ie).length)}}),b*2}}s.sqlite3_db_config=(function(a,_,...b){switch(_){case s.SQLITE_DBCONFIG_ENABLE_FKEY:case s.SQLITE_DBCONFIG_ENABLE_TRIGGER:case s.SQLITE_DBCONFIG_ENABLE_FTS3_TOKENIZER:case s.SQLITE_DBCONFIG_ENABLE_LOAD_EXTENSION:case s.SQLITE_DBCONFIG_NO_CKPT_ON_CLOSE:case s.SQLITE_DBCONFIG_ENABLE_QPSG:case s.SQLITE_DBCONFIG_TRIGGER_EQP:case s.SQLITE_DBCONFIG_RESET_DATABASE:case s.SQLITE_DBCONFIG_DEFENSIVE:case s.SQLITE_DBCONFIG_WRITABLE_SCHEMA:case s.SQLITE_DBCONFIG_LEGACY_ALTER_TABLE:case s.SQLITE_DBCONFIG_DQS_DML:case s.SQLITE_DBCONFIG_DQS_DDL:case s.SQLITE_DBCONFIG_ENABLE_VIEW:case s.SQLITE_DBCONFIG_LEGACY_FILE_FORMAT:case s.SQLITE_DBCONFIG_TRUSTED_SCHEMA:case s.SQLITE_DBCONFIG_STMT_SCANSTATUS:case s.SQLITE_DBCONFIG_REVERSE_SCANORDER:case s.SQLITE_DBCONFIG_ENABLE_ATTACH_CREATE:case s.SQLITE_DBCONFIG_ENABLE_ATTACH_WRITE:case s.SQLITE_DBCONFIG_ENABLE_COMMENTS:return this.ip||(this.ip=o.xWrap("sqlite3__wasm_db_config_ip","int",["sqlite3*","int","int","*"])),this.ip(a,_,b[0],b[1]||0);case s.SQLITE_DBCONFIG_LOOKASIDE:return this.pii||(this.pii=o.xWrap("sqlite3__wasm_db_config_pii","int",["sqlite3*","int","*","int","int"])),this.pii(a,_,b[0],b[1],b[2]);case s.SQLITE_DBCONFIG_MAINDBNAME:return this.s||(this.s=o.xWrap("sqlite3__wasm_db_config_s","int",["sqlite3*","int","string:static"])),this.s(a,_,b[0]);default:return s.SQLITE_MISUSE}}).bind(Object.create(null)),s.sqlite3_value_to_js=function(a,_=!0){let b;const y=s.sqlite3_value_type(a);switch(y){case s.SQLITE_INTEGER:o.bigIntEnabled?(b=s.sqlite3_value_int64(a),w.bigIntFitsDouble(b)&&(b=Number(b))):b=s.sqlite3_value_double(a);break;case s.SQLITE_FLOAT:b=s.sqlite3_value_double(a);break;case s.SQLITE_TEXT:b=s.sqlite3_value_text(a);break;case s.SQLITE_BLOB:{const B=s.sqlite3_value_bytes(a),Z=s.sqlite3_value_blob(a);B&&!Z&&g.WasmAllocError.toss("Cannot allocate memory for blob argument of",B,"byte(s)"),b=B?o.heap8u().slice(Z,Z+Number(B)):null;break}case s.SQLITE_NULL:b=null;break;default:_&&M(s.SQLITE_MISMATCH,"Unhandled sqlite3_value_type():",y),b=void 0}return b},s.sqlite3_values_to_js=function(a,_,b=!0){let y;const B=[];for(y=0;y<a;++y)B.push(s.sqlite3_value_to_js(o.peekPtr(_+o.ptrSizeof*y),b));return B},s.sqlite3_result_error_js=function(a,_){_ instanceof h?s.sqlite3_result_error_nomem(a):s.sqlite3_result_error(a,""+_,-1)},s.sqlite3_result_js=function(a,_){if(_ instanceof Error){s.sqlite3_result_error_js(a,_);return}try{switch(typeof _){case"undefined":break;case"boolean":s.sqlite3_result_int(a,_?1:0);break;case"bigint":w.bigIntFits32(_)?s.sqlite3_result_int(a,Number(_)):w.bigIntFitsDouble(_)?s.sqlite3_result_double(a,Number(_)):o.bigIntEnabled?w.bigIntFits64(_)?s.sqlite3_result_int64(a,_):M("BigInt value",_.toString(),"is too BigInt for int64."):M("BigInt value",_.toString(),"is too BigInt.");break;case"number":{let b;w.isInt32(_)?b=s.sqlite3_result_int:o.bigIntEnabled&&Number.isInteger(_)&&w.bigIntFits64(BigInt(_))?b=s.sqlite3_result_int64:b=s.sqlite3_result_double,b(a,_);break}case"string":{const[b,y]=o.allocCString(_,!0);s.sqlite3_result_text(a,b,y,s.SQLITE_WASM_DEALLOC);break}case"object":if(_===null){s.sqlite3_result_null(a);break}else if(w.isBindableTypedArray(_)){const b=o.allocFromTypedArray(_);s.sqlite3_result_blob(a,b,_.byteLength,s.SQLITE_WASM_DEALLOC);break}default:M("Don't not how to handle this UDF result value:",typeof _,_)}}catch(b){s.sqlite3_result_error_js(a,b)}},s.sqlite3_column_js=function(a,_,b=!0){const y=s.sqlite3_column_value(a,_);return y===0?void 0:s.sqlite3_value_to_js(y,b)};const f=(function(a,_,b){b=s[b],this.ptr?o.pokePtr(this.ptr,0):this.ptr=o.allocPtr();const y=b(a,_,this.ptr);if(y)return D.toss(y,arguments[2]+"() failed with code "+y);const B=o.peekPtr(this.ptr);return B?s.sqlite3_value_to_js(B,!0):void 0}).bind(Object.create(null));s.sqlite3_preupdate_new_js=(a,_)=>f(a,_,"sqlite3_preupdate_new"),s.sqlite3_preupdate_old_js=(a,_)=>f(a,_,"sqlite3_preupdate_old"),s.sqlite3changeset_new_js=(a,_)=>f(a,_,"sqlite3changeset_new"),s.sqlite3changeset_old_js=(a,_)=>f(a,_,"sqlite3changeset_old");const g={WasmAllocError:h,SQLite3Error:D,capi:s,util:w,wasm:o,config:r,version:Object.create(null),client:void 0,asyncPostInit:async function a(){if(a.isReady instanceof Promise)return a.isReady;let _=t.initializersAsync;delete t.initializersAsync;const b=async()=>(g.__isUnderTest||(delete g.util,delete g.StructBinder),g),y=Z=>{throw r.error("an async sqlite3 initializer failed:",Z),Z};if(!_||!_.length)return a.isReady=b().catch(y);_=_.map(Z=>Z instanceof Function?async ie=>Z(g):Z),_.push(b);let B=Promise.resolve(g);for(;_.length;)B=B.then(_.shift());return a.isReady=B.catch(y)},scriptInfo:void 0};try{t.initializers.forEach(a=>{a(g)})}catch(a){throw console.error("sqlite3 bootstrap initializer threw:",a),a}return delete t.initializers,t.sqlite3=g,g},globalThis.sqlite3ApiBootstrap.initializers=[],globalThis.sqlite3ApiBootstrap.initializersAsync=[],globalThis.sqlite3ApiBootstrap.defaultConfig=Object.create(null),globalThis.sqlite3ApiBootstrap.sqlite3=void 0,globalThis.WhWasmUtilInstaller=function(t){t.bigIntEnabled===void 0&&(t.bigIntEnabled=!!globalThis.BigInt64Array);const n=(...c)=>{throw new Error(c.join(" "))};t.exports||Object.defineProperty(t,"exports",{enumerable:!0,configurable:!0,get:()=>t.instance&&t.instance.exports});const r=t.pointerIR||"i32",s=t.ptrSizeof=r==="i32"?4:r==="i64"?8:n("Unhandled ptrSizeof:",r),o=Object.create(null);o.heapSize=0,o.memory=null,o.freeFuncIndexes=[],o.scopedAlloc=[],o.utf8Decoder=new TextDecoder,o.utf8Encoder=new TextEncoder("utf-8"),t.sizeofIR=c=>{switch(c){case"i8":return 1;case"i16":return 2;case"i32":case"f32":case"float":return 4;case"i64":case"f64":case"double":return 8;case"*":return s;default:return(""+c).endsWith("*")?s:void 0}};const d=function(){if(!o.memory)o.memory=t.memory instanceof WebAssembly.Memory?t.memory:t.exports.memory;else if(o.heapSize===o.memory.buffer.byteLength)return o;const c=o.memory.buffer;return o.HEAP8=new Int8Array(c),o.HEAP8U=new Uint8Array(c),o.HEAP16=new Int16Array(c),o.HEAP16U=new Uint16Array(c),o.HEAP32=new Int32Array(c),o.HEAP32U=new Uint32Array(c),t.bigIntEnabled&&(o.HEAP64=new BigInt64Array(c),o.HEAP64U=new BigUint64Array(c)),o.HEAP32F=new Float32Array(c),o.HEAP64F=new Float64Array(c),o.heapSize=c.byteLength,o};t.heap8=()=>d().HEAP8,t.heap8u=()=>d().HEAP8U,t.heap16=()=>d().HEAP16,t.heap16u=()=>d().HEAP16U,t.heap32=()=>d().HEAP32,t.heap32u=()=>d().HEAP32U,t.heapForSize=function(c,h=!0){const w=o.memory&&o.heapSize===o.memory.buffer.byteLength?o:d();switch(c){case Int8Array:return w.HEAP8;case Uint8Array:return w.HEAP8U;case Int16Array:return w.HEAP16;case Uint16Array:return w.HEAP16U;case Int32Array:return w.HEAP32;case Uint32Array:return w.HEAP32U;case 8:return h?w.HEAP8U:w.HEAP8;case 16:return h?w.HEAP16U:w.HEAP16;case 32:return h?w.HEAP32U:w.HEAP32;case 64:if(w.HEAP64)return h?w.HEAP64U:w.HEAP64;break;default:if(t.bigIntEnabled){if(c===globalThis.BigUint64Array)return w.HEAP64U;if(c===globalThis.BigInt64Array)return w.HEAP64;break}}n("Invalid heapForSize() size: expecting 8, 16, 32,","or (if BigInt is enabled) 64.")},t.functionTable=function(){return t.exports.__indirect_function_table},t.functionEntry=function(c){const h=t.functionTable();return c<h.length?h.get(c):void 0},t.jsFuncToWasm=function c(h,w){if(c._||(c._={sigTypes:Object.assign(Object.create(null),{i:"i32",p:"i32",P:"i32",s:"i32",j:"i64",f:"f32",d:"f64"}),typeCodes:Object.assign(Object.create(null),{f64:124,f32:125,i64:126,i32:127}),uleb128Encode:function(g,a,_){_<128?g[a](_):g[a](_%128|128,_>>7)},rxJSig:/^(\w)\((\w*)\)$/,sigParams:function(g){const a=c._.rxJSig.exec(g);return a?a[2]:g.substr(1)},letterType:g=>c._.sigTypes[g]||n("Invalid signature letter:",g),pushSigType:(g,a)=>g.push(c._.typeCodes[c._.letterType(a)])}),typeof h=="string"){const g=w;w=h,h=g}const H=c._.sigParams(w),f=[1,96];c._.uleb128Encode(f,"push",H.length);for(const g of H)c._.pushSigType(f,g);return w[0]==="v"?f.push(0):(f.push(1),c._.pushSigType(f,w[0])),c._.uleb128Encode(f,"unshift",f.length),f.unshift(0,97,115,109,1,0,0,0,1),f.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0),new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array(f)),{e:{f:h}}).exports.f};const m=function(h,w,H){if(H&&!o.scopedAlloc.length&&n("No scopedAllocPush() scope is active."),typeof h=="string"){const _=w;w=h,h=_}(typeof w!="string"||!(h instanceof Function))&&n("Invalid arguments: expecting (function,signature) or (signature,function).");const f=t.functionTable(),g=f.length;let a;for(;o.freeFuncIndexes.length&&(a=o.freeFuncIndexes.pop(),f.get(a));){a=null;continue}a||(a=g,f.grow(1));try{return f.set(a,h),H&&o.scopedAlloc[o.scopedAlloc.length-1].push(a),a}catch(_){if(!(_ instanceof TypeError))throw a===g&&o.freeFuncIndexes.push(g),_}try{const _=t.jsFuncToWasm(h,w);f.set(a,_),H&&o.scopedAlloc[o.scopedAlloc.length-1].push(a)}catch(_){throw a===g&&o.freeFuncIndexes.push(g),_}return a};t.installFunction=(c,h)=>m(c,h,!1),t.scopedInstallFunction=(c,h)=>m(c,h,!0),t.uninstallFunction=function(c){if(!c&&c!==0)return;const h=o.freeFuncIndexes,w=t.functionTable();h.push(c);const H=w.get(c);return w.set(c,null),H},t.peek=function(h,w="i8"){w.endsWith("*")&&(w=r);const H=o.memory&&o.heapSize===o.memory.buffer.byteLength?o:d(),f=Array.isArray(h)?[]:void 0;let g;do{switch(f&&(h=arguments[0].shift()),w){case"i1":case"i8":g=H.HEAP8[h>>0];break;case"i16":g=H.HEAP16[h>>1];break;case"i32":g=H.HEAP32[h>>2];break;case"float":case"f32":g=H.HEAP32F[h>>2];break;case"double":case"f64":g=Number(H.HEAP64F[h>>3]);break;case"i64":if(t.bigIntEnabled){g=BigInt(H.HEAP64[h>>3]);break}default:n("Invalid type for peek():",w)}f&&f.push(g)}while(f&&arguments[0].length);return f||g},t.poke=function(c,h,w="i8"){w.endsWith("*")&&(w=r);const H=o.memory&&o.heapSize===o.memory.buffer.byteLength?o:d();for(const f of Array.isArray(c)?c:[c])switch(w){case"i1":case"i8":H.HEAP8[f>>0]=h;continue;case"i16":H.HEAP16[f>>1]=h;continue;case"i32":H.HEAP32[f>>2]=h;continue;case"float":case"f32":H.HEAP32F[f>>2]=h;continue;case"double":case"f64":H.HEAP64F[f>>3]=h;continue;case"i64":if(H.HEAP64){H.HEAP64[f>>3]=BigInt(h);continue}default:n("Invalid type for poke(): "+w)}return this},t.peekPtr=(...c)=>t.peek(c.length===1?c[0]:c,r),t.pokePtr=(c,h=0)=>t.poke(c,h,r),t.peek8=(...c)=>t.peek(c.length===1?c[0]:c,"i8"),t.poke8=(c,h)=>t.poke(c,h,"i8"),t.peek16=(...c)=>t.peek(c.length===1?c[0]:c,"i16"),t.poke16=(c,h)=>t.poke(c,h,"i16"),t.peek32=(...c)=>t.peek(c.length===1?c[0]:c,"i32"),t.poke32=(c,h)=>t.poke(c,h,"i32"),t.peek64=(...c)=>t.peek(c.length===1?c[0]:c,"i64"),t.poke64=(c,h)=>t.poke(c,h,"i64"),t.peek32f=(...c)=>t.peek(c.length===1?c[0]:c,"f32"),t.poke32f=(c,h)=>t.poke(c,h,"f32"),t.peek64f=(...c)=>t.peek(c.length===1?c[0]:c,"f64"),t.poke64f=(c,h)=>t.poke(c,h,"f64"),t.getMemValue=t.peek,t.getPtrValue=t.peekPtr,t.setMemValue=t.poke,t.setPtrValue=t.pokePtr,t.isPtr32=c=>typeof c=="number"&&c===(c|0)&&c>=0,t.isPtr=t.isPtr32,t.cstrlen=function(c){if(!c||!t.isPtr(c))return null;const h=d().HEAP8U;let w=c;for(;h[w]!==0;++w);return w-c};const D=typeof SharedArrayBuffer>"u"?function(){}:SharedArrayBuffer,M=function(c,h,w){return o.utf8Decoder.decode(c.buffer instanceof D?c.slice(h,w):c.subarray(h,w))};t.cstrToJs=function(c){const h=t.cstrlen(c);return h?M(d().HEAP8U,c,c+h):h===null?h:""},t.jstrlen=function(c){if(typeof c!="string")return null;const h=c.length;let w=0;for(let H=0;H<h;++H){let f=c.charCodeAt(H);f>=55296&&f<=57343&&(f=65536+((f&1023)<<10)|c.charCodeAt(++H)&1023),f<=127?++w:f<=2047?w+=2:f<=65535?w+=3:w+=4}return w},t.jstrcpy=function(c,h,w=0,H=-1,f=!0){if((!h||!(h instanceof Int8Array)&&!(h instanceof Uint8Array))&&n("jstrcpy() target must be an Int8Array or Uint8Array."),H<0&&(H=h.length-w),!(H>0)||!(w>=0))return 0;let g=0,a=c.length;const _=w,b=w+H-(f?1:0);for(;g<a&&w<b;++g){let y=c.charCodeAt(g);if(y>=55296&&y<=57343&&(y=65536+((y&1023)<<10)|c.charCodeAt(++g)&1023),y<=127){if(w>=b)break;h[w++]=y}else if(y<=2047){if(w+1>=b)break;h[w++]=192|y>>6,h[w++]=128|y&63}else if(y<=65535){if(w+2>=b)break;h[w++]=224|y>>12,h[w++]=128|y>>6&63,h[w++]=128|y&63}else{if(w+3>=b)break;h[w++]=240|y>>18,h[w++]=128|y>>12&63,h[w++]=128|y>>6&63,h[w++]=128|y&63}}return f&&(h[w++]=0),w-_},t.cstrncpy=function(c,h,w){if((!c||!h)&&n("cstrncpy() does not accept NULL strings."),w<0)w=t.cstrlen(strPtr)+1;else if(!(w>0))return 0;const H=t.heap8u();let f=0,g;for(;f<w&&(g=H[h+f]);++f)H[c+f]=g;return f<w&&(H[c+f++]=0),f},t.jstrToUintArray=(c,h=!1)=>o.utf8Encoder.encode(h?c+"\0":c);const $=(c,h)=>{(!(c.alloc instanceof Function)||!(c.dealloc instanceof Function))&&n("Object is missing alloc() and/or dealloc() function(s)","required by",h+"().")},J=function(c,h,w,H){if($(t,H),typeof c!="string")return null;{const f=o.utf8Encoder.encode(c),g=w(f.length+1),a=d().HEAP8U;return a.set(f,g),a[g+f.length]=0,h?[g,f.length]:g}};t.allocCString=(c,h=!1)=>J(c,h,t.alloc,"allocCString()"),t.scopedAllocPush=function(){$(t,"scopedAllocPush");const c=[];return o.scopedAlloc.push(c),c},t.scopedAllocPop=function(c){$(t,"scopedAllocPop");const h=arguments.length?o.scopedAlloc.indexOf(c):o.scopedAlloc.length-1;h<0&&n("Invalid state object for scopedAllocPop()."),arguments.length===0&&(c=o.scopedAlloc[h]),o.scopedAlloc.splice(h,1);for(let w;w=c.pop();)t.functionEntry(w)?t.uninstallFunction(w):t.dealloc(w)},t.scopedAlloc=function(c){o.scopedAlloc.length||n("No scopedAllocPush() scope is active.");const h=t.alloc(c);return o.scopedAlloc[o.scopedAlloc.length-1].push(h),h},Object.defineProperty(t.scopedAlloc,"level",{configurable:!1,enumerable:!1,get:()=>o.scopedAlloc.length,set:()=>n("The 'active' property is read-only.")}),t.scopedAllocCString=(c,h=!1)=>J(c,h,t.scopedAlloc,"scopedAllocCString()");const C=function(c,h){const w=t[c?"scopedAlloc":"alloc"]((h.length+1)*t.ptrSizeof);let H=0;return h.forEach(f=>{t.pokePtr(w+t.ptrSizeof*H++,t[c?"scopedAllocCString":"allocCString"](""+f))}),t.pokePtr(w+t.ptrSizeof*H,0),w};t.scopedAllocMainArgv=c=>C(!0,c),t.allocMainArgv=c=>C(!1,c),t.cArgvToJs=(c,h)=>{const w=[];for(let H=0;H<c;++H){const f=t.peekPtr(h+t.ptrSizeof*H);w.push(f?t.cstrToJs(f):null)}return w},t.scopedAllocCall=function(c){t.scopedAllocPush();try{return c()}finally{t.scopedAllocPop()}};const I=function(c,h,w){$(t,w);const H=h?"i64":r;let f=t[w](c*(h?8:s));if(t.poke(f,0,H),c===1)return f;const g=[f];for(let a=1;a<c;++a)f+=h?8:s,g[a]=f,t.poke(f,0,H);return g};t.allocPtr=(c=1,h=!0)=>I(c,h,"alloc"),t.scopedAllocPtr=(c=1,h=!0)=>I(c,h,"scopedAlloc"),t.xGet=function(c){return t.exports[c]||n("Cannot find exported symbol:",c)};const j=(c,h)=>n(c+"() requires",h,"argument(s).");t.xCall=function(c,...h){const w=c instanceof Function?c:t.xGet(c);return w instanceof Function||n("Exported symbol",c,"is not a function."),w.length!==h.length&&j(w===c?w.name:c,w.length),arguments.length===2&&Array.isArray(arguments[1])?w.apply(null,arguments[1]):w.apply(null,h)},o.xWrap=Object.create(null),o.xWrap.convert=Object.create(null),o.xWrap.convert.arg=new Map,o.xWrap.convert.result=new Map;const q=o.xWrap.convert.arg,E=o.xWrap.convert.result;t.bigIntEnabled&&q.set("i64",c=>BigInt(c));const F=r==="i32"?c=>c|0:c=>BigInt(c)|BigInt(0);q.set("i32",F).set("i16",c=>(c|0)&65535).set("i8",c=>(c|0)&255).set("f32",c=>Number(c).valueOf()).set("float",q.get("f32")).set("f64",q.get("f32")).set("double",q.get("f64")).set("int",q.get("i32")).set("null",c=>c).set(null,q.get("null")).set("**",F).set("*",F),E.set("*",F).set("pointer",F).set("number",c=>Number(c)).set("void",c=>{}).set("null",c=>c).set(null,E.get("null"));{const c=["i8","i16","i32","int","f32","float","f64","double"];t.bigIntEnabled&&c.push("i64");const h=q.get(r);for(const w of c)q.set(w+"*",h),E.set(w+"*",h),E.set(w,q.get(w)||n("Missing arg converter:",w))}const L=function(c){return typeof c=="string"?t.scopedAllocCString(c):c?F(c):null};q.set("string",L).set("utf8",L).set("pointer",L),E.set("string",c=>t.cstrToJs(c)).set("utf8",E.get("string")).set("string:dealloc",c=>{try{return c?t.cstrToJs(c):null}finally{t.dealloc(c)}}).set("utf8:dealloc",E.get("string:dealloc")).set("json",c=>JSON.parse(t.cstrToJs(c))).set("json:dealloc",c=>{try{return c?JSON.parse(t.cstrToJs(c)):null}finally{t.dealloc(c)}});const N=class{constructor(c){this.name=c.name||"unnamed adapter"}convertArg(c,h,w){n("AbstractArgAdapter must be subclassed.")}};q.FuncPtrAdapter=class kt extends N{constructor(h){super(h),q.FuncPtrAdapter.warnOnUse&&console.warn("xArg.FuncPtrAdapter is an internal-only API","and is not intended to be invoked from","client-level code. Invoked with:",h),this.name=h.name||"unnamed",this.signature=h.signature,h.contextKey instanceof Function&&(this.contextKey=h.contextKey,h.bindScope||(h.bindScope="context")),this.bindScope=h.bindScope||n("FuncPtrAdapter options requires a bindScope (explicit or implied)."),kt.bindScopes.indexOf(h.bindScope)<0&&n("Invalid options.bindScope ("+h.bindMod+") for FuncPtrAdapter. Expecting one of: ("+kt.bindScopes.join(", ")+")"),this.isTransient=this.bindScope==="transient",this.isContext=this.bindScope==="context",this.isPermanent=this.bindScope==="permanent",this.singleton=this.bindScope==="singleton"?[]:void 0,this.callProxy=h.callProxy instanceof Function?h.callProxy:void 0}contextKey(h,w){return this}contextMap(h){const w=this.__cmap||(this.__cmap=new Map);let H=w.get(h);return H===void 0&&w.set(h,H=[]),H}convertArg(h,w,H){let f=this.singleton;if(!f&&this.isContext&&(f=this.contextMap(this.contextKey(w,H))),f&&f[0]===h)return f[1];if(h instanceof Function){this.callProxy&&(h=this.callProxy(h));const g=m(h,this.signature,this.isTransient);if(kt.debugFuncInstall&&kt.debugOut("FuncPtrAdapter installed",this,this.contextKey(w,H),"@"+g,h),f){if(f[1]){kt.debugFuncInstall&&kt.debugOut("FuncPtrAdapter uninstalling",this,this.contextKey(w,H),"@"+f[1],h);try{o.scopedAlloc[o.scopedAlloc.length-1].push(f[1])}catch{}}f[0]=h,f[1]=g}return g}else if(t.isPtr(h)||h===null||h===void 0){if(f&&f[1]&&f[1]!==h){kt.debugFuncInstall&&kt.debugOut("FuncPtrAdapter uninstalling",this,this.contextKey(w,H),"@"+f[1],h);try{o.scopedAlloc[o.scopedAlloc.length-1].push(f[1])}catch{}f[0]=f[1]=h|0}return h||0}else throw new TypeError("Invalid FuncPtrAdapter argument type. Expecting a function pointer or a "+(this.name?this.name+" ":"")+"function matching signature "+this.signature+".")}},q.FuncPtrAdapter.warnOnUse=!1,q.FuncPtrAdapter.debugFuncInstall=!1,q.FuncPtrAdapter.debugOut=console.debug.bind(console),q.FuncPtrAdapter.bindScopes=["transient","context","singleton","permanent"];const A=c=>q.get(c)||n("Argument adapter not found:",c),U=c=>E.get(c)||n("Result adapter not found:",c);o.xWrap.convertArg=(c,...h)=>A(c)(...h),o.xWrap.convertArgNoCheck=(c,...h)=>q.get(c)(...h),o.xWrap.convertResult=(c,h)=>c===null?h:c?U(c)(h):void 0,o.xWrap.convertResultNoCheck=(c,h)=>c===null?h:c?E.get(c)(h):void 0,t.xWrap=function(c,h,...w){arguments.length===3&&Array.isArray(arguments[2])&&(w=arguments[2]),t.isPtr(c)&&(c=t.functionEntry(c)||n("Function pointer not found in WASM function table."));const H=c instanceof Function,f=H?c:t.xGet(c);if(H&&(c=f.name||"unnamed function"),w.length!==f.length&&j(c,f.length),h===null&&f.length===0)return f;h!=null&&U(h);for(const a of w)a instanceof N?q.set(a,(..._)=>a.convertArg(..._)):A(a);const g=o.xWrap;return f.length===0?(...a)=>a.length?j(c,f.length):g.convertResult(h,f.call(null)):function(...a){a.length!==f.length&&j(c,f.length);const _=t.scopedAllocPush();try{let b=0;for(;b<a.length;++b)a[b]=g.convertArgNoCheck(w[b],a[b],a,b);return g.convertResultNoCheck(h,f.apply(null,a))}finally{t.scopedAllocPop(_)}}};const V=function(c,h,w,H,f,g){if(typeof w=="string"){if(h===1)return g.get(w);if(h===2){if(H)H instanceof Function||n(f,"requires a function argument.");else return g.delete(w),c;return g.set(w,H),c}}n("Invalid arguments to",f)};return t.xWrap.resultAdapter=function c(h,w){return V(c,arguments.length,h,w,"resultAdapter()",E)},t.xWrap.argAdapter=function c(h,w){return V(c,arguments.length,h,w,"argAdapter()",q)},t.xWrap.FuncPtrAdapter=q.FuncPtrAdapter,t.xCallWrapped=function(c,h,w,...H){return Array.isArray(arguments[3])&&(H=arguments[3]),t.xWrap(c,h,w||[]).apply(null,H||[])},t.xWrap.testConvertArg=o.xWrap.convertArg,t.xWrap.testConvertResult=o.xWrap.convertResult,t},globalThis.WhWasmUtilInstaller.yawl=(function(t){const n=()=>fetch(t.uri,{credentials:"same-origin"}),r=this,s=function(d){if(t.wasmUtilTarget){const m=(...M)=>{throw new Error(M.join(" "))},D=t.wasmUtilTarget;if(D.module=d.module,D.instance=d.instance,D.instance.exports.memory||(D.memory=t.imports&&t.imports.env&&t.imports.env.memory||m("Missing 'memory' object!")),!D.alloc&&d.instance.exports.malloc){const M=d.instance.exports;D.alloc=function($){return M.malloc($)||m("Allocation of",$,"bytes failed.")},D.dealloc=function($){M.free($)}}r(D)}return t.onload&&t.onload(d,t),d};return WebAssembly.instantiateStreaming?function(){return WebAssembly.instantiateStreaming(n(),t.imports||{}).then(s)}:function(){return n().then(m=>m.arrayBuffer()).then(m=>WebAssembly.instantiate(m,t.imports||{})).then(s)}}).bind(globalThis.WhWasmUtilInstaller),globalThis.Jaccwabyt=function t(n){const r=(...u)=>{throw new Error(u.join(" "))};!(n.heap instanceof WebAssembly.Memory)&&!(n.heap instanceof Function)&&r("config.heap must be WebAssembly.Memory instance or a function."),["alloc","dealloc"].forEach(function(u){n[u]instanceof Function||r("Config option '"+u+"' must be a function.")});const s=t,o=n.heap instanceof Function?n.heap:()=>new Uint8Array(n.heap.buffer),d=n.alloc,m=n.dealloc,D=n.log||console.log.bind(console),M=n.memberPrefix||"",$=n.memberSuffix||"",J=n.bigIntEnabled===void 0?!!globalThis.BigInt64Array:!!n.bigIntEnabled,C=globalThis.BigInt,I=globalThis.BigInt64Array,j=n.ptrSizeof||4,q=n.ptrIR||"i32";s.debugFlags||(s.__makeDebugFlags=function(u=null){u&&u.__flags&&(u=u.__flags);const x=function k(P){return arguments.length===0?k.__flags:(P<0?(delete k.__flags.getter,delete k.__flags.setter,delete k.__flags.alloc,delete k.__flags.dealloc):(k.__flags.getter=(1&P)!==0,k.__flags.setter=(2&P)!==0,k.__flags.alloc=(4&P)!==0,k.__flags.dealloc=(8&P)!==0),k._flags)};return Object.defineProperty(x,"__flags",{iterable:!1,writable:!1,value:Object.create(u)}),u||x(0),x},s.debugFlags=s.__makeDebugFlags());const E=function(){const u=new ArrayBuffer(2);return new DataView(u).setInt16(0,256,!0),new Int16Array(u)[0]===256}(),F=u=>u[1]==="(",L=u=>u==="P",N=u=>F(u)?"p":u[0],A=function(u){switch(N(u)){case"c":case"C":return"i8";case"i":return"i32";case"p":case"P":case"s":return q;case"j":return"i64";case"f":return"float";case"d":return"double"}r("Unhandled signature IR:",u)},U=I?()=>!0:()=>r("BigInt64Array is not available."),V=function(u){switch(N(u)){case"p":case"P":case"s":{switch(j){case 4:return"getInt32";case 8:return U()&&"getBigInt64"}break}case"i":return"getInt32";case"c":return"getInt8";case"C":return"getUint8";case"j":return U()&&"getBigInt64";case"f":return"getFloat32";case"d":return"getFloat64"}r("Unhandled DataView getter for signature:",u)},c=function(u){switch(N(u)){case"p":case"P":case"s":{switch(j){case 4:return"setInt32";case 8:return U()&&"setBigInt64"}break}case"i":return"setInt32";case"c":return"setInt8";case"C":return"setUint8";case"j":return U()&&"setBigInt64";case"f":return"setFloat32";case"d":return"setFloat64"}r("Unhandled DataView setter for signature:",u)},h=function(u){switch(N(u)){case"i":case"f":case"c":case"C":case"d":return Number;case"j":return U()&&C;case"p":case"P":case"s":switch(j){case 4:return Number;case 8:return U()&&C}break}r("Unhandled DataView set wrapper for signature:",u)},w=(u,x)=>u+"::"+x,H=function(u,x){return()=>r(w(u,x),"is read-only.")},f=new WeakMap,g="(pointer-is-external)",a=function(u,x,k){if(k||(k=f.get(x)),k){if(f.delete(x),Array.isArray(x.ondispose)){let P;for(;P=x.ondispose.shift();)try{P instanceof Function?P.call(x):P instanceof K?P.dispose():typeof P=="number"&&m(P)}catch(G){console.warn("ondispose() for",u.structName,"@",k,"threw. NOT propagating it.",G)}}else if(x.ondispose instanceof Function)try{x.ondispose()}catch(P){console.warn("ondispose() for",u.structName,"@",k,"threw. NOT propagating it.",P)}delete x.ondispose,u.debugFlags.__flags.dealloc&&D("debug.dealloc:",x[g]?"EXTERNAL":"",u.structName,"instance:",u.structInfo.sizeof,"bytes @"+k),x[g]||m(k)}},_=u=>({configurable:!1,writable:!1,iterable:!1,value:u}),b=function(u,x,k){let P=!k;k?Object.defineProperty(x,g,_(k)):(k=d(u.structInfo.sizeof),k||r("Allocation of",u.structName,"structure failed."));try{u.debugFlags.__flags.alloc&&D("debug.alloc:",P?"":"EXTERNAL",u.structName,"instance:",u.structInfo.sizeof,"bytes @"+k),P&&o().fill(0,k,k+u.structInfo.sizeof),f.set(x,k)}catch(G){throw a(u,x,k),G}},y=function(){const u=this.pointer;return u?new Uint8Array(o().slice(u,u+this.structInfo.sizeof)):null},Z=_(u=>M+u+$),ie=function(u,x,k=!0){let P=u.members[x];if(!P&&(M||$)){for(const G of Object.values(u.members))if(G.key===x){P=G;break}!P&&k&&r(w(u.name,x),"is not a mapped struct member.")}return P},be=function u(x,k,P=!1){u._||(u._=ee=>ee.replace(/[^vipPsjrdcC]/g,"").replace(/[pPscC]/g,"i"));const G=ie(x.structInfo,k,!0);return P?u._(G.signature):G.signature},me={configurable:!1,enumerable:!1,get:function(){return f.get(this)},set:()=>r("Cannot assign the 'pointer' property of a struct.")},de=_(function(){const u=[];for(const x of Object.keys(this.structInfo.members))u.push(this.memberKey(x));return u}),ye=new TextDecoder("utf-8"),Fe=new TextEncoder,Re=typeof SharedArrayBuffer>"u"?function(){}:SharedArrayBuffer,Te=function(u,x,k){return ye.decode(u.buffer instanceof Re?u.slice(x,k):u.subarray(x,k))},$e=function(u,x,k=!1){const P=ie(u.structInfo,x,k);return P&&P.signature.length===1&&P.signature[0]==="s"?P:!1},nt=function(u){u.signature!=="s"&&r("Invalid member type signature for C-string value:",JSON.stringify(u))},O=function(x,k){const P=ie(x.structInfo,k,!0);nt(P);const G=x[P.key];if(!G)return null;let ee=G;const le=o();for(;le[ee]!==0;++ee);return G===ee?"":Te(le,G,ee)},Q=function(u,...x){u.ondispose?Array.isArray(u.ondispose)||(u.ondispose=[u.ondispose]):u.ondispose=[],u.ondispose.push(...x)},z=function(u){const x=Fe.encode(u),k=d(x.length+1);k||r("Allocation error while duplicating string:",u);const P=o();return P.set(x,k),P[k+x.length]=0,k},Y=function(u,x,k){const P=ie(u.structInfo,x,!0);nt(P);const G=z(k);return u[P.key]=G,Q(u,G),u},K=function(x,k){arguments[2]!==_&&r("Do not call the StructType constructor","from client-level code."),Object.defineProperties(this,{structName:_(x),structInfo:_(k)})};K.prototype=Object.create(null,{dispose:_(function(){a(this.constructor,this)}),lookupMember:_(function(u,x=!0){return ie(this.structInfo,u,x)}),memberToJsString:_(function(u){return O(this,u)}),memberIsString:_(function(u,x=!0){return $e(this,u,x)}),memberKey:Z,memberKeys:de,memberSignature:_(function(u,x=!1){return be(this,u,x)}),memoryDump:_(y),pointer:me,setMemberCString:_(function(u,x){return Y(this,u,x)})}),Object.assign(K.prototype,{addOnDispose:function(...u){return Q(this,...u),this}}),Object.defineProperties(K,{allocCString:_(z),isA:_(u=>u instanceof K),hasExternalPointer:_(u=>u instanceof K&&!!u[g]),memberKey:Z});const ae=u=>Number.isFinite(u)||u instanceof(C||Number),re=function u(x,k,P){if(!u._){u._={getters:{},setters:{},sw:{}};const tt=["i","c","C","p","P","s","f","d","v()"];J&&tt.push("j"),tt.forEach(function(St){u._.getters[St]=V(St),u._.setters[St]=c(St),u._.sw[St]=h(St)});const or=/^[ipPsjfdcC]$/,ar=/^[vipPsjfdcC]\([ipPsjfdcC]*\)$/;u.sigCheck=function(St,lr,tn,$t){Object.prototype.hasOwnProperty.call(St,tn)&&r(St.structName,"already has a property named",tn+"."),or.test($t)||ar.test($t)||r("Malformed signature for",w(St.structName,lr)+":",$t)}}const G=x.memberKey(k);u.sigCheck(x.prototype,k,G,P.signature),P.key=G,P.name=k;const ee=N(P.signature),le=w(x.prototype.structName,G),Se=x.prototype.debugFlags.__flags,st=Object.create(null);st.configurable=!1,st.enumerable=!1,st.get=function(){Se.getter&&D("debug.getter:",u._.getters[ee],"for",A(ee),le,"@",this.pointer,"+",P.offset,"sz",P.sizeof);let tt=new DataView(o().buffer,this.pointer+P.offset,P.sizeof)[u._.getters[ee]](0,E);return Se.getter&&D("debug.getter:",le,"result =",tt),tt},P.readOnly?st.set=H(x.prototype.structName,G):st.set=function(tt){if(Se.setter&&D("debug.setter:",u._.setters[ee],"for",A(ee),le,"@",this.pointer,"+",P.offset,"sz",P.sizeof,tt),this.pointer||r("Cannot set struct property on disposed instance."),tt===null)tt=0;else for(;!ae(tt);){if(L(P.signature)&&tt instanceof K){tt=tt.pointer||0,Se.setter&&D("debug.setter:",le,"resolved to",tt);break}r("Invalid value for pointer-type",le+".")}new DataView(o().buffer,this.pointer+P.offset,P.sizeof)[u._.setters[ee]](0,u._.sw[ee](tt),E)},Object.defineProperty(x.prototype,G,st)},R=function u(x,k){arguments.length===1?(k=x,x=k.name):k.name||(k.name=x),x||r("Struct name is required.");let P=!1;Object.keys(k.members).forEach(le=>{const Se=k.members[le];Se.sizeof?Se.sizeof===1?Se.signature==="c"||Se.signature==="C"||r("Unexpected sizeof==1 member",w(k.name,le),"with signature",Se.signature):(Se.sizeof%4!==0&&(console.warn("Invalid struct member description =",Se,"from",k),r(x,"member",le,"sizeof is not aligned. sizeof="+Se.sizeof)),Se.offset%4!==0&&(console.warn("Invalid struct member description =",Se,"from",k),r(x,"member",le,"offset is not aligned. offset="+Se.offset))):r(x,"member",le,"is missing sizeof."),(!P||P.offset<Se.offset)&&(P=Se)}),P?k.sizeof<P.offset+P.sizeof&&r("Invalid struct config:",x,"max member offset ("+P.offset+") ","extends past end of struct (sizeof="+k.sizeof+")."):r("No member property descriptions found.");const G=_(s.__makeDebugFlags(u.debugFlags)),ee=function le(Se){this instanceof le?arguments.length?((Se!==(Se|0)||Se<=0)&&r("Invalid pointer value for",x,"constructor."),b(le,this,Se)):b(le,this):r("The",x,"constructor may only be called via 'new'.")};return Object.defineProperties(ee,{debugFlags:G,isA:_(le=>le instanceof ee),memberKey:Z,memberKeys:de,methodInfoForKey:_(function(le){}),structInfo:_(k),structName:_(x)}),ee.prototype=new K(x,k,_),Object.defineProperties(ee.prototype,{debugFlags:G,constructor:_(ee)}),Object.keys(k.members).forEach(le=>re(ee,le,k.members[le])),ee};return R.StructType=K,R.config=n,R.allocCString=z,R.debugFlags||(R.debugFlags=s.__makeDebugFlags(s.debugFlags)),R},globalThis.sqlite3ApiBootstrap.initializers.push(function(t){const n=(...q)=>{throw new Error(q.join(" "))};t.SQLite3Error.toss;const r=t.capi,s=t.wasm,o=t.util;if(globalThis.WhWasmUtilInstaller(s),delete globalThis.WhWasmUtilInstaller,s.bindingSignatures=[["sqlite3_aggregate_context","void*","sqlite3_context*","int"],["sqlite3_bind_double","int","sqlite3_stmt*","int","f64"],["sqlite3_bind_int","int","sqlite3_stmt*","int","int"],["sqlite3_bind_null",void 0,"sqlite3_stmt*","int"],["sqlite3_bind_parameter_count","int","sqlite3_stmt*"],["sqlite3_bind_parameter_index","int","sqlite3_stmt*","string"],["sqlite3_bind_parameter_name","string","sqlite3_stmt*","int"],["sqlite3_bind_pointer","int","sqlite3_stmt*","int","*","string:static","*"],["sqlite3_busy_handler","int",["sqlite3*",new s.xWrap.FuncPtrAdapter({signature:"i(pi)",contextKey:(q,E)=>q[0]}),"*"]],["sqlite3_busy_timeout","int","sqlite3*","int"],["sqlite3_changes","int","sqlite3*"],["sqlite3_clear_bindings","int","sqlite3_stmt*"],["sqlite3_collation_needed","int","sqlite3*","*","*"],["sqlite3_column_blob","*","sqlite3_stmt*","int"],["sqlite3_column_bytes","int","sqlite3_stmt*","int"],["sqlite3_column_count","int","sqlite3_stmt*"],["sqlite3_column_decltype","string","sqlite3_stmt*","int"],["sqlite3_column_double","f64","sqlite3_stmt*","int"],["sqlite3_column_int","int","sqlite3_stmt*","int"],["sqlite3_column_name","string","sqlite3_stmt*","int"],["sqlite3_column_text","string","sqlite3_stmt*","int"],["sqlite3_column_type","int","sqlite3_stmt*","int"],["sqlite3_column_value","sqlite3_value*","sqlite3_stmt*","int"],["sqlite3_commit_hook","void*",["sqlite3*",new s.xWrap.FuncPtrAdapter({name:"sqlite3_commit_hook",signature:"i(p)",contextKey:q=>q[0]}),"*"]],["sqlite3_compileoption_get","string","int"],["sqlite3_compileoption_used","int","string"],["sqlite3_complete","int","string:flexible"],["sqlite3_context_db_handle","sqlite3*","sqlite3_context*"],["sqlite3_data_count","int","sqlite3_stmt*"],["sqlite3_db_filename","string","sqlite3*","string"],["sqlite3_db_handle","sqlite3*","sqlite3_stmt*"],["sqlite3_db_name","string","sqlite3*","int"],["sqlite3_db_readonly","int","sqlite3*","string"],["sqlite3_db_status","int","sqlite3*","int","*","*","int"],["sqlite3_errcode","int","sqlite3*"],["sqlite3_errmsg","string","sqlite3*"],["sqlite3_error_offset","int","sqlite3*"],["sqlite3_errstr","string","int"],["sqlite3_exec","int",["sqlite3*","string:flexible",new s.xWrap.FuncPtrAdapter({signature:"i(pipp)",bindScope:"transient",callProxy:q=>{let E;return(F,L,N,A)=>{try{const U=s.cArgvToJs(L,N);return E||(E=s.cArgvToJs(L,A)),q(U,E)|0}catch(U){return U.resultCode||r.SQLITE_ERROR}}}}),"*","**"]],["sqlite3_expanded_sql","string","sqlite3_stmt*"],["sqlite3_extended_errcode","int","sqlite3*"],["sqlite3_extended_result_codes","int","sqlite3*","int"],["sqlite3_file_control","int","sqlite3*","string","int","*"],["sqlite3_finalize","int","sqlite3_stmt*"],["sqlite3_free",void 0,"*"],["sqlite3_get_autocommit","int","sqlite3*"],["sqlite3_get_auxdata","*","sqlite3_context*","int"],["sqlite3_initialize",void 0],["sqlite3_interrupt",void 0,"sqlite3*"],["sqlite3_is_interrupted","int","sqlite3*"],["sqlite3_keyword_count","int"],["sqlite3_keyword_name","int",["int","**","*"]],["sqlite3_keyword_check","int",["string","int"]],["sqlite3_libversion","string"],["sqlite3_libversion_number","int"],["sqlite3_limit","int",["sqlite3*","int","int"]],["sqlite3_malloc","*","int"],["sqlite3_open","int","string","*"],["sqlite3_open_v2","int","string","*","int","string"],["sqlite3_realloc","*","*","int"],["sqlite3_reset","int","sqlite3_stmt*"],["sqlite3_result_blob",void 0,"sqlite3_context*","*","int","*"],["sqlite3_result_double",void 0,"sqlite3_context*","f64"],["sqlite3_result_error",void 0,"sqlite3_context*","string","int"],["sqlite3_result_error_code",void 0,"sqlite3_context*","int"],["sqlite3_result_error_nomem",void 0,"sqlite3_context*"],["sqlite3_result_error_toobig",void 0,"sqlite3_context*"],["sqlite3_result_int",void 0,"sqlite3_context*","int"],["sqlite3_result_null",void 0,"sqlite3_context*"],["sqlite3_result_pointer",void 0,"sqlite3_context*","*","string:static","*"],["sqlite3_result_subtype",void 0,"sqlite3_value*","int"],["sqlite3_result_text",void 0,"sqlite3_context*","string","int","*"],["sqlite3_result_zeroblob",void 0,"sqlite3_context*","int"],["sqlite3_rollback_hook","void*",["sqlite3*",new s.xWrap.FuncPtrAdapter({name:"sqlite3_rollback_hook",signature:"v(p)",contextKey:q=>q[0]}),"*"]],["sqlite3_set_auxdata",void 0,["sqlite3_context*","int","*","*"]],["sqlite3_shutdown",void 0],["sqlite3_sourceid","string"],["sqlite3_sql","string","sqlite3_stmt*"],["sqlite3_status","int","int","*","*","int"],["sqlite3_step","int","sqlite3_stmt*"],["sqlite3_stmt_busy","int","sqlite3_stmt*"],["sqlite3_stmt_readonly","int","sqlite3_stmt*"],["sqlite3_stmt_status","int","sqlite3_stmt*","int","int"],["sqlite3_strglob","int","string","string"],["sqlite3_stricmp","int","string","string"],["sqlite3_strlike","int","string","string","int"],["sqlite3_strnicmp","int","string","string","int"],["sqlite3_table_column_metadata","int","sqlite3*","string","string","string","**","**","*","*","*"],["sqlite3_total_changes","int","sqlite3*"],["sqlite3_trace_v2","int",["sqlite3*","int",new s.xWrap.FuncPtrAdapter({name:"sqlite3_trace_v2::callback",signature:"i(ippp)",contextKey:(q,E)=>q[0]}),"*"]],["sqlite3_txn_state","int",["sqlite3*","string"]],["sqlite3_uri_boolean","int","sqlite3_filename","string","int"],["sqlite3_uri_key","string","sqlite3_filename","int"],["sqlite3_uri_parameter","string","sqlite3_filename","string"],["sqlite3_user_data","void*","sqlite3_context*"],["sqlite3_value_blob","*","sqlite3_value*"],["sqlite3_value_bytes","int","sqlite3_value*"],["sqlite3_value_double","f64","sqlite3_value*"],["sqlite3_value_dup","sqlite3_value*","sqlite3_value*"],["sqlite3_value_free",void 0,"sqlite3_value*"],["sqlite3_value_frombind","int","sqlite3_value*"],["sqlite3_value_int","int","sqlite3_value*"],["sqlite3_value_nochange","int","sqlite3_value*"],["sqlite3_value_numeric_type","int","sqlite3_value*"],["sqlite3_value_pointer","*","sqlite3_value*","string:static"],["sqlite3_value_subtype","int","sqlite3_value*"],["sqlite3_value_text","string","sqlite3_value*"],["sqlite3_value_type","int","sqlite3_value*"],["sqlite3_vfs_find","*","string"],["sqlite3_vfs_register","int","sqlite3_vfs*","int"],["sqlite3_vfs_unregister","int","sqlite3_vfs*"]],s.exports.sqlite3_progress_handler&&s.bindingSignatures.push(["sqlite3_progress_handler",void 0,["sqlite3*","int",new s.xWrap.FuncPtrAdapter({name:"xProgressHandler",signature:"i(p)",bindScope:"context",contextKey:(q,E)=>q[0]}),"*"]]),s.exports.sqlite3_stmt_explain&&s.bindingSignatures.push(["sqlite3_stmt_explain","int","sqlite3_stmt*","int"],["sqlite3_stmt_isexplain","int","sqlite3_stmt*"]),s.exports.sqlite3_set_authorizer&&s.bindingSignatures.push(["sqlite3_set_authorizer","int",["sqlite3*",new s.xWrap.FuncPtrAdapter({name:"sqlite3_set_authorizer::xAuth",signature:"i(pissss)",contextKey:(q,E)=>q[0],callProxy:q=>(E,F,L,N,A,U)=>{try{return L=L&&s.cstrToJs(L),N=N&&s.cstrToJs(N),A=A&&s.cstrToJs(A),U=U&&s.cstrToJs(U),q(E,F,L,N,A,U)||0}catch(V){return V.resultCode||r.SQLITE_ERROR}}}),"*"]]),s.bindingSignatures.int64=[["sqlite3_bind_int64","int",["sqlite3_stmt*","int","i64"]],["sqlite3_changes64","i64",["sqlite3*"]],["sqlite3_column_int64","i64",["sqlite3_stmt*","int"]],["sqlite3_deserialize","int","sqlite3*","string","*","i64","i64","int"],["sqlite3_last_insert_rowid","i64",["sqlite3*"]],["sqlite3_malloc64","*","i64"],["sqlite3_msize","i64","*"],["sqlite3_overload_function","int",["sqlite3*","string","int"]],["sqlite3_realloc64","*","*","i64"],["sqlite3_result_int64",void 0,"*","i64"],["sqlite3_result_zeroblob64","int","*","i64"],["sqlite3_serialize","*","sqlite3*","string","*","int"],["sqlite3_set_last_insert_rowid",void 0,["sqlite3*","i64"]],["sqlite3_status64","int","int","*","*","int"],["sqlite3_total_changes64","i64",["sqlite3*"]],["sqlite3_update_hook","*",["sqlite3*",new s.xWrap.FuncPtrAdapter({name:"sqlite3_update_hook",signature:"v(iippj)",contextKey:q=>q[0],callProxy:q=>(E,F,L,N,A)=>{q(E,F,s.cstrToJs(L),s.cstrToJs(N),A)}}),"*"]],["sqlite3_uri_int64","i64",["sqlite3_filename","string","i64"]],["sqlite3_value_int64","i64","sqlite3_value*"]],s.bigIntEnabled&&s.exports.sqlite3_declare_vtab&&s.bindingSignatures.int64.push(["sqlite3_create_module","int",["sqlite3*","string","sqlite3_module*","*"]],["sqlite3_create_module_v2","int",["sqlite3*","string","sqlite3_module*","*","*"]],["sqlite3_declare_vtab","int",["sqlite3*","string:flexible"]],["sqlite3_drop_modules","int",["sqlite3*","**"]],["sqlite3_vtab_collation","string","sqlite3_index_info*","int"],["sqlite3_vtab_distinct","int","sqlite3_index_info*"],["sqlite3_vtab_in","int","sqlite3_index_info*","int","int"],["sqlite3_vtab_in_first","int","sqlite3_value*","**"],["sqlite3_vtab_in_next","int","sqlite3_value*","**"],["sqlite3_vtab_nochange","int","sqlite3_context*"],["sqlite3_vtab_on_conflict","int","sqlite3*"],["sqlite3_vtab_rhs_value","int","sqlite3_index_info*","int","**"]),s.bigIntEnabled&&s.exports.sqlite3_preupdate_hook&&s.bindingSignatures.int64.push(["sqlite3_preupdate_blobwrite","int","sqlite3*"],["sqlite3_preupdate_count","int","sqlite3*"],["sqlite3_preupdate_depth","int","sqlite3*"],["sqlite3_preupdate_hook","*",["sqlite3*",new s.xWrap.FuncPtrAdapter({name:"sqlite3_preupdate_hook",signature:"v(ppippjj)",contextKey:q=>q[0],callProxy:q=>(E,F,L,N,A,U,V)=>{q(E,F,L,s.cstrToJs(N),s.cstrToJs(A),U,V)}}),"*"]],["sqlite3_preupdate_new","int",["sqlite3*","int","**"]],["sqlite3_preupdate_old","int",["sqlite3*","int","**"]]),s.bigIntEnabled&&s.exports.sqlite3changegroup_add&&s.exports.sqlite3session_create&&s.exports.sqlite3_preupdate_hook){const q={signature:"i(ps)",callProxy:E=>(F,L)=>{try{return E(F,s.cstrToJs(L))|0}catch(N){return N.resultCode||r.SQLITE_ERROR}}};s.bindingSignatures.int64.push(["sqlite3changegroup_add","int",["sqlite3_changegroup*","int","void*"]],["sqlite3changegroup_add_strm","int",["sqlite3_changegroup*",new s.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*"]],["sqlite3changegroup_delete",void 0,["sqlite3_changegroup*"]],["sqlite3changegroup_new","int",["**"]],["sqlite3changegroup_output","int",["sqlite3_changegroup*","int*","**"]],["sqlite3changegroup_output_strm","int",["sqlite3_changegroup*",new s.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppi)",bindScope:"transient"}),"void*"]],["sqlite3changeset_apply","int",["sqlite3*","int","void*",new s.xWrap.FuncPtrAdapter({name:"xFilter",bindScope:"transient",...q}),new s.xWrap.FuncPtrAdapter({name:"xConflict",signature:"i(pip)",bindScope:"transient"}),"void*"]],["sqlite3changeset_apply_strm","int",["sqlite3*",new s.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*",new s.xWrap.FuncPtrAdapter({name:"xFilter",bindScope:"transient",...q}),new s.xWrap.FuncPtrAdapter({name:"xConflict",signature:"i(pip)",bindScope:"transient"}),"void*"]],["sqlite3changeset_apply_v2","int",["sqlite3*","int","void*",new s.xWrap.FuncPtrAdapter({name:"xFilter",bindScope:"transient",...q}),new s.xWrap.FuncPtrAdapter({name:"xConflict",signature:"i(pip)",bindScope:"transient"}),"void*","**","int*","int"]],["sqlite3changeset_apply_v2_strm","int",["sqlite3*",new s.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*",new s.xWrap.FuncPtrAdapter({name:"xFilter",bindScope:"transient",...q}),new s.xWrap.FuncPtrAdapter({name:"xConflict",signature:"i(pip)",bindScope:"transient"}),"void*","**","int*","int"]],["sqlite3changeset_concat","int",["int","void*","int","void*","int*","**"]],["sqlite3changeset_concat_strm","int",[new s.xWrap.FuncPtrAdapter({name:"xInputA",signature:"i(ppp)",bindScope:"transient"}),"void*",new s.xWrap.FuncPtrAdapter({name:"xInputB",signature:"i(ppp)",bindScope:"transient"}),"void*",new s.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppi)",bindScope:"transient"}),"void*"]],["sqlite3changeset_conflict","int",["sqlite3_changeset_iter*","int","**"]],["sqlite3changeset_finalize","int",["sqlite3_changeset_iter*"]],["sqlite3changeset_fk_conflicts","int",["sqlite3_changeset_iter*","int*"]],["sqlite3changeset_invert","int",["int","void*","int*","**"]],["sqlite3changeset_invert_strm","int",[new s.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*",new s.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppi)",bindScope:"transient"}),"void*"]],["sqlite3changeset_new","int",["sqlite3_changeset_iter*","int","**"]],["sqlite3changeset_next","int",["sqlite3_changeset_iter*"]],["sqlite3changeset_old","int",["sqlite3_changeset_iter*","int","**"]],["sqlite3changeset_op","int",["sqlite3_changeset_iter*","**","int*","int*","int*"]],["sqlite3changeset_pk","int",["sqlite3_changeset_iter*","**","int*"]],["sqlite3changeset_start","int",["**","int","*"]],["sqlite3changeset_start_strm","int",["**",new s.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*"]],["sqlite3changeset_start_v2","int",["**","int","*","int"]],["sqlite3changeset_start_v2_strm","int",["**",new s.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*","int"]],["sqlite3session_attach","int",["sqlite3_session*","string"]],["sqlite3session_changeset","int",["sqlite3_session*","int*","**"]],["sqlite3session_changeset_size","i64",["sqlite3_session*"]],["sqlite3session_changeset_strm","int",["sqlite3_session*",new s.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppp)",bindScope:"transient"}),"void*"]],["sqlite3session_config","int",["int","void*"]],["sqlite3session_create","int",["sqlite3*","string","**"]],["sqlite3session_diff","int",["sqlite3_session*","string","string","**"]],["sqlite3session_enable","int",["sqlite3_session*","int"]],["sqlite3session_indirect","int",["sqlite3_session*","int"]],["sqlite3session_isempty","int",["sqlite3_session*"]],["sqlite3session_memory_used","i64",["sqlite3_session*"]],["sqlite3session_object_config","int",["sqlite3_session*","int","void*"]],["sqlite3session_patchset","int",["sqlite3_session*","*","**"]],["sqlite3session_patchset_strm","int",["sqlite3_session*",new s.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppp)",bindScope:"transient"}),"void*"]],["sqlite3session_table_filter",void 0,["sqlite3_session*",new s.xWrap.FuncPtrAdapter({name:"xFilter",...q,contextKey:(E,F)=>E[0]}),"*"]])}s.bindingSignatures.wasmInternal=[["sqlite3__wasm_db_reset","int","sqlite3*"],["sqlite3__wasm_db_vfs","sqlite3_vfs*","sqlite3*","string"],["sqlite3__wasm_vfs_create_file","int","sqlite3_vfs*","string","*","int"],["sqlite3__wasm_posix_create_file","int","string","*","int"],["sqlite3__wasm_vfs_unlink","int","sqlite3_vfs*","string"],["sqlite3__wasm_qfmt_token","string:dealloc","string","int"]],t.StructBinder=globalThis.Jaccwabyt({heap:s.heap8u,alloc:s.alloc,dealloc:s.dealloc,bigIntEnabled:s.bigIntEnabled,memberPrefix:"$"}),delete globalThis.Jaccwabyt;{const q=s.xWrap.argAdapter("string");s.xWrap.argAdapter("string:flexible",A=>q(o.flexibleString(A))),s.xWrap.argAdapter("string:static",(function(A){return s.isPtr(A)?A:(A=""+A,this[A]||(this[A]=s.allocCString(A)))}).bind(Object.create(null)));const E=s.xWrap.argAdapter("*"),F=function(){};s.xWrap.argAdapter("sqlite3_filename",E)("sqlite3_context*",E)("sqlite3_value*",E)("void*",E)("sqlite3_changegroup*",E)("sqlite3_changeset_iter*",E)("sqlite3_session*",E)("sqlite3_stmt*",A=>{var U;return E(A instanceof(((U=t==null?void 0:t.oo1)==null?void 0:U.Stmt)||F)?A.pointer:A)})("sqlite3*",A=>{var U;return E(A instanceof(((U=t==null?void 0:t.oo1)==null?void 0:U.DB)||F)?A.pointer:A)})("sqlite3_vfs*",A=>typeof A=="string"?r.sqlite3_vfs_find(A)||t.SQLite3Error.toss(r.SQLITE_NOTFOUND,"Unknown sqlite3_vfs name:",A):E(A instanceof(r.sqlite3_vfs||F)?A.pointer:A)),s.exports.sqlite3_declare_vtab&&s.xWrap.argAdapter("sqlite3_index_info*",A=>E(A instanceof(r.sqlite3_index_info||F)?A.pointer:A))("sqlite3_module*",A=>E(A instanceof(r.sqlite3_module||F)?A.pointer:A));const L=s.xWrap.resultAdapter("*");s.xWrap.resultAdapter("sqlite3*",L)("sqlite3_context*",L)("sqlite3_stmt*",L)("sqlite3_value*",L)("sqlite3_vfs*",L)("void*",L),s.exports.sqlite3_step.length===0&&(s.xWrap.doArgcCheck=!1,t.config.warn("Disabling sqlite3.wasm.xWrap.doArgcCheck due to environmental quirks."));for(const A of s.bindingSignatures)r[A[0]]=s.xWrap.apply(null,A);for(const A of s.bindingSignatures.wasmInternal)o[A[0]]=s.xWrap.apply(null,A);const N=function(A){return()=>n(A+"() is unavailable due to lack","of BigInt support in this build.")};for(const A of s.bindingSignatures.int64)r[A[0]]=s.bigIntEnabled?s.xWrap.apply(null,A):N(A[0]);if(delete s.bindingSignatures,s.exports.sqlite3__wasm_db_error){const A=s.xWrap("sqlite3__wasm_db_error","int","sqlite3*","int","string");o.sqlite3__wasm_db_error=function(U,V,c){return V instanceof t.WasmAllocError?(V=r.SQLITE_NOMEM,c=0):V instanceof Error&&(c=c||""+V,V=V.resultCode||r.SQLITE_ERROR),U?A(U,V,c):V}}else o.sqlite3__wasm_db_error=function(A,U,V){return console.warn("sqlite3__wasm_db_error() is not exported.",arguments),U}}{const q=s.xCall("sqlite3__wasm_enum_json");q||n("Maintenance required: increase sqlite3__wasm_enum_json()'s","static buffer size!"),s.ctype=JSON.parse(s.cstrToJs(q));const E=["access","authorizer","blobFinalizers","changeset","config","dataTypes","dbConfig","dbStatus","encodings","fcntl","flock","ioCap","limits","openFlags","prepareFlags","resultCodes","sqlite3Status","stmtStatus","syncFlags","trace","txnState","udfFlags","version"];s.bigIntEnabled&&E.push("serialize","session","vtab");for(const N of E)for(const A of Object.entries(s.ctype[N]))r[A[0]]=A[1];s.functionEntry(r.SQLITE_WASM_DEALLOC)||n("Internal error: cannot resolve exported function","entry SQLITE_WASM_DEALLOC (=="+r.SQLITE_WASM_DEALLOC+").");const F=Object.create(null);for(const N of["resultCodes"])for(const A of Object.entries(s.ctype[N]))F[A[1]]=A[0];r.sqlite3_js_rc_str=N=>F[N];const L=Object.assign(Object.create(null),{WasmTestStruct:!0,sqlite3_kvvfs_methods:!o.isUIThread(),sqlite3_index_info:!s.bigIntEnabled,sqlite3_index_constraint:!s.bigIntEnabled,sqlite3_index_orderby:!s.bigIntEnabled,sqlite3_index_constraint_usage:!s.bigIntEnabled});for(const N of s.ctype.structs)L[N.name]||(r[N.name]=t.StructBinder(N));if(r.sqlite3_index_info){for(const N of["sqlite3_index_constraint","sqlite3_index_orderby","sqlite3_index_constraint_usage"])r.sqlite3_index_info[N]=r[N],delete r[N];r.sqlite3_vtab_config=s.xWrap("sqlite3__wasm_vtab_config","int",["sqlite3*","int","int"])}}const d=(q,E,F)=>o.sqlite3__wasm_db_error(q,r.SQLITE_MISUSE,E+"() requires "+F+" argument"+(F===1?"":"s")+"."),m=q=>o.sqlite3__wasm_db_error(q,r.SQLITE_FORMAT,"SQLITE_UTF8 is the only supported encoding."),D=q=>s.xWrap.argAdapter("sqlite3*")(q),M=q=>s.isPtr(q)?s.cstrToJs(q):q,$=(function(q,E){q=D(q);let F=this.dbMap.get(q);if(E)!F&&E>0&&this.dbMap.set(q,F=Object.create(null));else return this.dbMap.delete(q),F;return F}).bind(Object.assign(Object.create(null),{dbMap:new Map}));$.addCollation=function(q,E){const F=$(q,1);F.collation||(F.collation=new Set),F.collation.add(M(E).toLowerCase())},$._addUDF=function(q,E,F,L){E=M(E).toLowerCase();let N=L.get(E);N||L.set(E,N=new Set),N.add(F<0?-1:F)},$.addFunction=function(q,E,F){const L=$(q,1);L.udf||(L.udf=new Map),this._addUDF(q,E,F,L.udf)},s.exports.sqlite3_create_window_function&&($.addWindowFunc=function(q,E,F){const L=$(q,1);L.wudf||(L.wudf=new Map),this._addUDF(q,E,F,L.wudf)}),$.cleanup=function(q){q=D(q);const E=[q];for(const N of["sqlite3_busy_handler","sqlite3_commit_hook","sqlite3_preupdate_hook","sqlite3_progress_handler","sqlite3_rollback_hook","sqlite3_set_authorizer","sqlite3_trace_v2","sqlite3_update_hook"]){const A=s.exports[N];if(A){E.length=A.length;try{r[N](...E)}catch(U){t.config.warn("close-time call of",N+"(",E,") threw:",U)}}}const F=$(q,0);if(!F)return;if(F.collation){for(const N of F.collation)try{r.sqlite3_create_collation_v2(q,N,r.SQLITE_UTF8,0,0,0)}catch{}delete F.collation}let L;for(L=0;L<2;++L){const N=L?F.wudf:F.udf;if(!N)continue;const A=L?r.sqlite3_create_window_function:r.sqlite3_create_function_v2;for(const U of N){const V=U[0],c=U[1],h=[q,V,0,r.SQLITE_UTF8,0,0,0,0,0];L&&h.push(0);for(const w of c)try{h[2]=w,A.apply(null,h)}catch{}c.clear()}N.clear()}delete F.udf,delete F.wudf};{const q=s.xWrap("sqlite3_close_v2","int","sqlite3*");r.sqlite3_close_v2=function(E){if(arguments.length!==1)return d(E,"sqlite3_close_v2",1);if(E)try{$.cleanup(E)}catch{}return q(E)}}if(r.sqlite3session_create){const q=s.xWrap("sqlite3session_delete",void 0,["sqlite3_session*"]);r.sqlite3session_delete=function(E){if(arguments.length!==1)return d(pDb,"sqlite3session_delete",1);E&&r.sqlite3session_table_filter(E,0,0),q(E)}}{const q=(F,L)=>"argv["+L+"]:"+F[0]+":"+s.cstrToJs(F[1]).toLowerCase(),E=s.xWrap("sqlite3_create_collation_v2","int",["sqlite3*","string","int","*",new s.xWrap.FuncPtrAdapter({name:"xCompare",signature:"i(pipip)",contextKey:q}),new s.xWrap.FuncPtrAdapter({name:"xDestroy",signature:"v(p)",contextKey:q})]);r.sqlite3_create_collation_v2=function(F,L,N,A,U,V){if(arguments.length!==6)return d(F,"sqlite3_create_collation_v2",6);if(!(N&15))N|=r.SQLITE_UTF8;else if(r.SQLITE_UTF8!==(N&15))return m(F);try{const c=E(F,L,N,A,U,V);return c===0&&U instanceof Function&&$.addCollation(F,L),c}catch(c){return o.sqlite3__wasm_db_error(F,c)}},r.sqlite3_create_collation=(F,L,N,A,U)=>arguments.length===5?r.sqlite3_create_collation_v2(F,L,N,A,U,0):d(F,"sqlite3_create_collation",5)}{const q=function(N,A){return N[0]+":"+(N[2]<0?-1:N[2])+":"+A+":"+s.cstrToJs(N[1]).toLowerCase()},E=Object.assign(Object.create(null),{xInverseAndStep:{signature:"v(pip)",contextKey:q,callProxy:N=>(A,U,V)=>{try{N(A,...r.sqlite3_values_to_js(U,V))}catch(c){r.sqlite3_result_error_js(A,c)}}},xFinalAndValue:{signature:"v(p)",contextKey:q,callProxy:N=>A=>{try{r.sqlite3_result_js(A,N(A))}catch(U){r.sqlite3_result_error_js(A,U)}}},xFunc:{signature:"v(pip)",contextKey:q,callProxy:N=>(A,U,V)=>{try{r.sqlite3_result_js(A,N(A,...r.sqlite3_values_to_js(U,V)))}catch(c){r.sqlite3_result_error_js(A,c)}}},xDestroy:{signature:"v(p)",contextKey:q,callProxy:N=>A=>{try{N(A)}catch(U){console.error("UDF xDestroy method threw:",U)}}}}),F=s.xWrap("sqlite3_create_function_v2","int",["sqlite3*","string","int","int","*",new s.xWrap.FuncPtrAdapter({name:"xFunc",...E.xFunc}),new s.xWrap.FuncPtrAdapter({name:"xStep",...E.xInverseAndStep}),new s.xWrap.FuncPtrAdapter({name:"xFinal",...E.xFinalAndValue}),new s.xWrap.FuncPtrAdapter({name:"xDestroy",...E.xDestroy})]),L=s.exports.sqlite3_create_window_function?s.xWrap("sqlite3_create_window_function","int",["sqlite3*","string","int","int","*",new s.xWrap.FuncPtrAdapter({name:"xStep",...E.xInverseAndStep}),new s.xWrap.FuncPtrAdapter({name:"xFinal",...E.xFinalAndValue}),new s.xWrap.FuncPtrAdapter({name:"xValue",...E.xFinalAndValue}),new s.xWrap.FuncPtrAdapter({name:"xInverse",...E.xInverseAndStep}),new s.xWrap.FuncPtrAdapter({name:"xDestroy",...E.xDestroy})]):void 0;r.sqlite3_create_function_v2=function N(A,U,V,c,h,w,H,f,g){if(N.length!==arguments.length)return d(A,"sqlite3_create_function_v2",N.length);if(!(c&15))c|=r.SQLITE_UTF8;else if(r.SQLITE_UTF8!==(c&15))return m(A);try{const a=F(A,U,V,c,h,w,H,f,g);return a===0&&(w instanceof Function||H instanceof Function||f instanceof Function||g instanceof Function)&&$.addFunction(A,U,V),a}catch(a){return console.error("sqlite3_create_function_v2() setup threw:",a),o.sqlite3__wasm_db_error(A,a,"Creation of UDF threw: "+a)}},r.sqlite3_create_function=function N(A,U,V,c,h,w,H,f){return N.length===arguments.length?r.sqlite3_create_function_v2(A,U,V,c,h,w,H,f,0):d(A,"sqlite3_create_function",N.length)},L?r.sqlite3_create_window_function=function N(A,U,V,c,h,w,H,f,g,a){if(N.length!==arguments.length)return d(A,"sqlite3_create_window_function",N.length);if(!(c&15))c|=r.SQLITE_UTF8;else if(r.SQLITE_UTF8!==(c&15))return m(A);try{const _=L(A,U,V,c,h,w,H,f,g,a);return _===0&&(w instanceof Function||H instanceof Function||f instanceof Function||g instanceof Function||a instanceof Function)&&$.addWindowFunc(A,U,V),_}catch(_){return console.error("sqlite3_create_window_function() setup threw:",_),o.sqlite3__wasm_db_error(A,_,"Creation of UDF threw: "+_)}}:delete r.sqlite3_create_window_function,r.sqlite3_create_function_v2.udfSetResult=r.sqlite3_create_function.udfSetResult=r.sqlite3_result_js,r.sqlite3_create_window_function&&(r.sqlite3_create_window_function.udfSetResult=r.sqlite3_result_js),r.sqlite3_create_function_v2.udfConvertArgs=r.sqlite3_create_function.udfConvertArgs=r.sqlite3_values_to_js,r.sqlite3_create_window_function&&(r.sqlite3_create_window_function.udfConvertArgs=r.sqlite3_values_to_js),r.sqlite3_create_function_v2.udfSetError=r.sqlite3_create_function.udfSetError=r.sqlite3_result_error_js,r.sqlite3_create_window_function&&(r.sqlite3_create_window_function.udfSetError=r.sqlite3_result_error_js)}{const q=(F,L)=>(typeof F=="string"?L=-1:o.isSQLableTypedArray(F)?(L=F.byteLength,F=o.typedArrayToString(F instanceof ArrayBuffer?new Uint8Array(F):F)):Array.isArray(F)&&(F=F.join(""),L=-1),[F,L]),E={basic:s.xWrap("sqlite3_prepare_v3","int",["sqlite3*","string","int","int","**","**"]),full:s.xWrap("sqlite3_prepare_v3","int",["sqlite3*","*","int","int","**","**"])};r.sqlite3_prepare_v3=function F(L,N,A,U,V,c){if(F.length!==arguments.length)return d(L,"sqlite3_prepare_v3",F.length);const[h,w]=q(N,A);switch(typeof h){case"string":return E.basic(L,h,w,U,V,null);case"number":return E.full(L,h,w,U,V,c);default:return o.sqlite3__wasm_db_error(L,r.SQLITE_MISUSE,"Invalid SQL argument type for sqlite3_prepare_v2/v3().")}},r.sqlite3_prepare_v2=function F(L,N,A,U,V){return F.length===arguments.length?r.sqlite3_prepare_v3(L,N,A,0,U,V):d(L,"sqlite3_prepare_v2",F.length)}}{const q=s.xWrap("sqlite3_bind_text","int",["sqlite3_stmt*","int","string","int","*"]),E=s.xWrap("sqlite3_bind_blob","int",["sqlite3_stmt*","int","*","int","*"]);r.sqlite3_bind_text=function F(L,N,A,U,V){if(F.length!==arguments.length)return d(r.sqlite3_db_handle(L),"sqlite3_bind_text",F.length);if(s.isPtr(A)||A===null)return q(L,N,A,U,V);A instanceof ArrayBuffer?A=new Uint8Array(A):Array.isArray(pMem)&&(A=pMem.join(""));let c,h;try{if(o.isSQLableTypedArray(A))c=s.allocFromTypedArray(A),h=A.byteLength;else if(typeof A=="string")[c,h]=s.allocCString(A);else return o.sqlite3__wasm_db_error(r.sqlite3_db_handle(L),r.SQLITE_MISUSE,"Invalid 3rd argument type for sqlite3_bind_text().");return q(L,N,c,h,r.SQLITE_WASM_DEALLOC)}catch(w){return s.dealloc(c),o.sqlite3__wasm_db_error(r.sqlite3_db_handle(L),w)}},r.sqlite3_bind_blob=function F(L,N,A,U,V){if(F.length!==arguments.length)return d(r.sqlite3_db_handle(L),"sqlite3_bind_blob",F.length);if(s.isPtr(A)||A===null)return E(L,N,A,U,V);A instanceof ArrayBuffer?A=new Uint8Array(A):Array.isArray(A)&&(A=A.join(""));let c,h;try{if(o.isBindableTypedArray(A))c=s.allocFromTypedArray(A),h=U>=0?U:A.byteLength;else if(typeof A=="string")[c,h]=s.allocCString(A);else return o.sqlite3__wasm_db_error(r.sqlite3_db_handle(L),r.SQLITE_MISUSE,"Invalid 3rd argument type for sqlite3_bind_blob().");return E(L,N,c,h,r.SQLITE_WASM_DEALLOC)}catch(w){return s.dealloc(c),o.sqlite3__wasm_db_error(r.sqlite3_db_handle(L),w)}}}r.sqlite3_config=function(q,...E){if(arguments.length<2)return r.SQLITE_MISUSE;switch(q){case r.SQLITE_CONFIG_COVERING_INDEX_SCAN:case r.SQLITE_CONFIG_MEMSTATUS:case r.SQLITE_CONFIG_SMALL_MALLOC:case r.SQLITE_CONFIG_SORTERREF_SIZE:case r.SQLITE_CONFIG_STMTJRNL_SPILL:case r.SQLITE_CONFIG_URI:return s.exports.sqlite3__wasm_config_i(q,E[0]);case r.SQLITE_CONFIG_LOOKASIDE:return s.exports.sqlite3__wasm_config_ii(q,E[0],E[1]);case r.SQLITE_CONFIG_MEMDB_MAXSIZE:return s.exports.sqlite3__wasm_config_j(q,E[0]);case r.SQLITE_CONFIG_GETMALLOC:case r.SQLITE_CONFIG_GETMUTEX:case r.SQLITE_CONFIG_GETPCACHE2:case r.SQLITE_CONFIG_GETPCACHE:case r.SQLITE_CONFIG_HEAP:case r.SQLITE_CONFIG_LOG:case r.SQLITE_CONFIG_MALLOC:case r.SQLITE_CONFIG_MMAP_SIZE:case r.SQLITE_CONFIG_MULTITHREAD:case r.SQLITE_CONFIG_MUTEX:case r.SQLITE_CONFIG_PAGECACHE:case r.SQLITE_CONFIG_PCACHE2:case r.SQLITE_CONFIG_PCACHE:case r.SQLITE_CONFIG_PCACHE_HDRSZ:case r.SQLITE_CONFIG_PMASZ:case r.SQLITE_CONFIG_SERIALIZED:case r.SQLITE_CONFIG_SINGLETHREAD:case r.SQLITE_CONFIG_SQLLOG:case r.SQLITE_CONFIG_WIN32_HEAPSIZE:default:return r.SQLITE_NOTFOUND}};{const q=new Set;r.sqlite3_auto_extension=function(E){if(E instanceof Function)E=s.installFunction("i(ppp)",E);else if(arguments.length!==1||!s.isPtr(E))return r.SQLITE_MISUSE;const F=s.exports.sqlite3_auto_extension(E);return E!==arguments[0]&&(F===0?q.add(E):s.uninstallFunction(E)),F},r.sqlite3_cancel_auto_extension=function(E){return!E||arguments.length!==1||!s.isPtr(E)?0:s.exports.sqlite3_cancel_auto_extension(E)},r.sqlite3_reset_auto_extension=function(){s.exports.sqlite3_reset_auto_extension();for(const E of q)s.uninstallFunction(E);q.clear()}}const J=r.sqlite3_vfs_find("kvvfs");if(J)if(o.isUIThread()){const q=new r.sqlite3_kvvfs_methods(s.exports.sqlite3__wasm_kvvfs_methods());delete r.sqlite3_kvvfs_methods;const E=s.exports.sqlite3__wasm_kvvfsMakeKeyOnPstack,F=s.pstack,L=A=>s.peek(A)===115?sessionStorage:localStorage,N={xRead:(A,U,V,c)=>{const h=F.pointer,w=s.scopedAllocPush();try{const H=E(A,U);if(!H)return-3;const f=s.cstrToJs(H),g=L(A).getItem(f);if(!g)return-1;const a=g.length;if(c<=0)return a;if(c===1)return s.poke(V,0),a;const _=s.scopedAllocCString(g);return c>a+1&&(c=a+1),s.heap8u().copyWithin(V,_,_+c-1),s.poke(V+c-1,0),c-1}catch(H){return console.error("kvstorageRead()",H),-2}finally{F.restore(h),s.scopedAllocPop(w)}},xWrite:(A,U,V)=>{const c=F.pointer;try{const h=E(A,U);if(!h)return 1;const w=s.cstrToJs(h);return L(A).setItem(w,s.cstrToJs(V)),0}catch(h){return console.error("kvstorageWrite()",h),r.SQLITE_IOERR}finally{F.restore(c)}},xDelete:(A,U)=>{const V=F.pointer;try{const c=E(A,U);return c?(L(A).removeItem(s.cstrToJs(c)),0):1}catch(c){return console.error("kvstorageDelete()",c),r.SQLITE_IOERR}finally{F.restore(V)}}};for(const A of Object.keys(N))q[q.memberKey(A)]=s.installFunction(q.memberSignature(A),N[A])}else r.sqlite3_vfs_unregister(J);s.xWrap.FuncPtrAdapter.warnOnUse=!0;const C=t.StructBinder,I=function q(E,F,L,N=q.installMethodArgcCheck){if(E instanceof C.StructType?!(L instanceof Function)&&!s.isPtr(L)&&n("Usage error: expecting a Function or WASM pointer to one."):n("Usage error: target object is-not-a StructType."),arguments.length===1)return(c,h)=>q(E,c,h,N);q.argcProxy||(q.argcProxy=function(c,h,w,H){return function(...f){return w.length!==arguments.length&&n("Argument mismatch for",c.structInfo.name+"::"+h+": Native signature is:",H),w.apply(this,f)}},q.removeFuncList=function(){this.ondispose.__removeFuncList&&(this.ondispose.__removeFuncList.forEach((c,h)=>{if(typeof c=="number")try{s.uninstallFunction(c)}catch{}}),delete this.ondispose.__removeFuncList)});const A=E.memberSignature(F);A.length<2&&n("Member",F,"does not have a function pointer signature:",A);const U=E.memberKey(F),V=N&&!s.isPtr(L)?q.argcProxy(E,U,L,A):L;if(s.isPtr(V))V&&!s.functionEntry(V)&&n("Pointer",V,"is not a WASM function table entry."),E[U]=V;else{const c=s.installFunction(V,E.memberSignature(F,!0));E[U]=c,(!E.ondispose||!E.ondispose.__removeFuncList)&&(E.addOnDispose("ondispose.__removeFuncList handler",q.removeFuncList),E.ondispose.__removeFuncList=[]),E.ondispose.__removeFuncList.push(U,c)}return(c,h)=>q(E,c,h,N)};I.installMethodArgcCheck=!1;const j=function(q,E,F=I.installMethodArgcCheck){const L=new Map;for(const N of Object.keys(E)){const A=E[N],U=L.get(A);if(U){const V=q.memberKey(N);q[V]=q[q.memberKey(U)]}else I(q,N,A,F),L.set(A,N)}return q};C.StructType.prototype.installMethod=function(E,F,L=I.installMethodArgcCheck){return arguments.length<3&&E&&typeof E=="object"?j(this,...arguments):I(this,...arguments)},C.StructType.prototype.installMethods=function(q,E=I.installMethodArgcCheck){return j(this,q,E)}}),globalThis.sqlite3ApiBootstrap.initializers.push(function(t){t.version={libVersion:"3.50.1",libVersionNumber:3050001,sourceId:"2025-06-06 14:52:32 b77dc5e0f596d2140d9ac682b2893ff65d3a4140aa86067a3efebe29dc914c95",downloadVersion:3500100}}),globalThis.sqlite3ApiBootstrap.initializers.push(function(t){const n=(...f)=>{throw new t.SQLite3Error(...f)},r=t.capi,s=t.wasm,o=t.util,d=new WeakMap,m=new WeakMap,D=(f,g,a)=>{const _=Object.getOwnPropertyDescriptor(f,g);return _?_.value:a},M=function(f,g){return g&&(f instanceof I&&(f=f.pointer),n(g,"sqlite3 result code",g+":",f?r.sqlite3_errmsg(f):r.sqlite3_errstr(g))),arguments[0]},$=s.installFunction("i(ippp)",(function(f,g,a,_){r.SQLITE_TRACE_STMT===f&&console.log("SQL TRACE #"+ ++this.counter+" via sqlite3@"+g+":",s.cstrToJs(_))}).bind({counter:0})),J=Object.create(null),C=function f(...g){if(!f._name2vfs){f._name2vfs=Object.create(null);const de=typeof importScripts=="function"?ye=>n("The VFS for",ye,"is only available in the main window thread."):!1;f._name2vfs[":localStorage:"]={vfs:"kvvfs",filename:de||(()=>"local")},f._name2vfs[":sessionStorage:"]={vfs:"kvvfs",filename:de||(()=>"session")}}const a=f.normalizeArgs(...g);let _=a.filename,b=a.vfs,y=a.flags;(typeof _!="string"&&typeof _!="number"||typeof y!="string"||b&&typeof b!="string"&&typeof b!="number")&&(t.config.error("Invalid DB ctor args",a,arguments),n("Invalid arguments for DB constructor."));let B=typeof _=="number"?s.cstrToJs(_):_;const Z=f._name2vfs[B];Z&&(b=Z.vfs,_=B=Z.filename(B));let ie,be=0;y.indexOf("c")>=0&&(be|=r.SQLITE_OPEN_CREATE|r.SQLITE_OPEN_READWRITE),y.indexOf("w")>=0&&(be|=r.SQLITE_OPEN_READWRITE),be===0&&(be|=r.SQLITE_OPEN_READONLY),be|=r.SQLITE_OPEN_EXRESCODE;const me=s.pstack.pointer;try{const de=s.pstack.allocPtr();let ye=r.sqlite3_open_v2(_,de,be,b||0);ie=s.peekPtr(de),M(ie,ye),r.sqlite3_extended_result_codes(ie,1),y.indexOf("t")>=0&&r.sqlite3_trace_v2(ie,r.SQLITE_TRACE_STMT,$,ie)}catch(de){throw ie&&r.sqlite3_close_v2(ie),de}finally{s.pstack.restore(me)}this.filename=B,d.set(this,ie),m.set(this,Object.create(null));try{const de=r.sqlite3_js_db_vfs(ie)||n("Internal error: cannot get VFS for new db handle."),ye=J[de];ye&&(ye instanceof Function?ye(this,t):M(ie,r.sqlite3_exec(ie,ye,0,0,0)))}catch(de){throw this.close(),de}};C.setVfsPostOpenCallback=function(f,g){g instanceof Function||n("dbCtorHelper.setVfsPostOpenCallback() should not be used with a non-function argument.",arguments),J[f]=g},C.normalizeArgs=function(f=":memory:",g="c",a=null){const _={};return arguments.length===1&&arguments[0]&&typeof arguments[0]=="object"?(Object.assign(_,arguments[0]),_.flags===void 0&&(_.flags="c"),_.vfs===void 0&&(_.vfs=null),_.filename===void 0&&(_.filename=":memory:")):(_.filename=f,_.flags=g,_.vfs=a),_};const I=function(...f){C.apply(this,f)};I.dbCtorHelper=C;const j={null:1,number:2,string:3,boolean:4,blob:5};j.undefined==j.null,s.bigIntEnabled&&(j.bigint=j.number);const q=function(){j!==arguments[2]&&n(r.SQLITE_MISUSE,"Do not call the Stmt constructor directly. Use DB.prepare()."),this.db=arguments[0],d.set(this,arguments[1]),this.parameterCount=r.sqlite3_bind_parameter_count(this.pointer)},E=function(f){return f.pointer||n("DB has been closed."),f},F=function(f,g){return(g!==(g|0)||g<0||g>=f.columnCount)&&n("Column index",g,"is out of range."),f},L=function(f,g){const a=Object.create(null);switch(a.opt=Object.create(null),g.length){case 1:typeof g[0]=="string"||o.isSQLableTypedArray(g[0])||Array.isArray(g[0])?a.sql=g[0]:g[0]&&typeof g[0]=="object"&&(a.opt=g[0],a.sql=a.opt.sql);break;case 2:a.sql=g[0],a.opt=g[1];break;default:n("Invalid argument count for exec().")}a.sql=o.flexibleString(a.sql),typeof a.sql!="string"&&n("Missing SQL argument or unsupported SQL value type.");const _=a.opt;switch(_.returnValue){case"resultRows":_.resultRows||(_.resultRows=[]),a.returnVal=()=>_.resultRows;break;case"saveSql":_.saveSql||(_.saveSql=[]),a.returnVal=()=>_.saveSql;break;case void 0:case"this":a.returnVal=()=>f;break;default:n("Invalid returnValue value:",_.returnValue)}if(!_.callback&&!_.returnValue&&_.rowMode!==void 0&&(_.resultRows||(_.resultRows=[]),a.returnVal=()=>_.resultRows),_.callback||_.resultRows)switch(_.rowMode===void 0?"array":_.rowMode){case"object":a.cbArg=(b,y)=>{y.columnNames||(y.columnNames=b.getColumnNames([]));const B=b.get([]),Z=Object.create(null);for(const ie in y.columnNames)Z[y.columnNames[ie]]=B[ie];return Z};break;case"array":a.cbArg=b=>b.get([]);break;case"stmt":Array.isArray(_.resultRows)&&n("exec(): invalid rowMode for a resultRows array: must","be one of 'array', 'object',","a result column number, or column name reference."),a.cbArg=b=>b;break;default:if(o.isInt32(_.rowMode)){a.cbArg=b=>b.get(_.rowMode);break}else if(typeof _.rowMode=="string"&&_.rowMode.length>1&&_.rowMode[0]==="$"){const b=_.rowMode.substr(1);a.cbArg=y=>{const B=y.get(Object.create(null))[b];return B===void 0?n(r.SQLITE_NOTFOUND,"exec(): unknown result column:",b):B};break}n("Invalid rowMode:",_.rowMode)}return a},N=(f,g,a,..._)=>{const b=f.prepare(g);try{const y=b.bind(a).step()?b.get(..._):void 0;return b.reset(),y}finally{b.finalize()}},A=(f,g,a,_)=>f.exec({sql:g,bind:a,rowMode:_,returnValue:"resultRows"});I.checkRc=(f,g)=>M(f,g),I.prototype={isOpen:function(){return!!this.pointer},affirmOpen:function(){return E(this)},close:function(){if(this.pointer){if(this.onclose&&this.onclose.before instanceof Function)try{this.onclose.before(this)}catch{}const f=this.pointer;if(Object.keys(m.get(this)).forEach((g,a)=>{if(a&&a.pointer)try{a.finalize()}catch{}}),d.delete(this),m.delete(this),r.sqlite3_close_v2(f),this.onclose&&this.onclose.after instanceof Function)try{this.onclose.after(this)}catch{}delete this.filename}},changes:function(f=!1,g=!1){const a=E(this).pointer;return f?g?r.sqlite3_total_changes64(a):r.sqlite3_total_changes(a):g?r.sqlite3_changes64(a):r.sqlite3_changes(a)},dbFilename:function(f="main"){return r.sqlite3_db_filename(E(this).pointer,f)},dbName:function(f=0){return r.sqlite3_db_name(E(this).pointer,f)},dbVfsName:function(f=0){let g;const a=r.sqlite3_js_db_vfs(E(this).pointer,f);if(a){const _=new r.sqlite3_vfs(a);try{g=s.cstrToJs(_.$zName)}finally{_.dispose()}}return g},prepare:function(f){E(this);const g=s.pstack.pointer;let a,_;try{a=s.pstack.alloc(8),I.checkRc(this,r.sqlite3_prepare_v2(this.pointer,f,-1,a,null)),_=s.peekPtr(a)}finally{s.pstack.restore(g)}_||n("Cannot prepare empty SQL.");const b=new q(this,_,j);return m.get(this)[_]=b,b},exec:function(){E(this);const f=L(this,arguments);if(!f.sql)return n("exec() requires an SQL string.");const g=f.opt,a=g.callback,_=Array.isArray(g.resultRows)?g.resultRows:void 0;let b,y=g.bind,B=!!(f.cbArg||g.columnNames||_);const Z=s.scopedAllocPush(),ie=Array.isArray(g.saveSql)?g.saveSql:void 0;try{const be=o.isSQLableTypedArray(f.sql);let me=be?f.sql.byteLength:s.jstrlen(f.sql);const de=s.scopedAlloc(2*s.ptrSizeof+(me+1)),ye=de+s.ptrSizeof;let Fe=ye+s.ptrSizeof;const Re=Fe+me;for(be?s.heap8().set(f.sql,Fe):s.jstrcpy(f.sql,s.heap8(),Fe,me,!1),s.poke(Fe+me,0);Fe&&s.peek(Fe,"i8");){s.pokePtr([de,ye],0),I.checkRc(this,r.sqlite3_prepare_v3(this.pointer,Fe,me,0,de,ye));const Te=s.peekPtr(de);if(Fe=s.peekPtr(ye),me=Re-Fe,!!Te){if(ie&&ie.push(r.sqlite3_sql(Te).trim()),b=new q(this,Te,j),y&&b.parameterCount&&(b.bind(y),y=null),B&&b.columnCount){let $e=Array.isArray(g.columnNames)?0:1;if(B=!1,f.cbArg||_){const nt=Object.create(null);for(;b.step();b._lockedByExec=!1){$e++===0&&b.getColumnNames(nt.columnNames=g.columnNames||[]),b._lockedByExec=!0;const O=f.cbArg(b,nt);if(_&&_.push(O),a&&a.call(g,O,b)===!1)break}b._lockedByExec=!1}$e===0&&b.getColumnNames(g.columnNames)}else b.step();b.reset().finalize(),b=null}}}finally{s.scopedAllocPop(Z),b&&(delete b._lockedByExec,b.finalize())}return f.returnVal()},createFunction:function(g,a,_){const b=nt=>nt instanceof Function;switch(arguments.length){case 1:_=g,g=_.name,a=_.xFunc||0;break;case 2:b(a)||(_=a,a=_.xFunc||0);break}_||(_={}),typeof g!="string"&&n("Invalid arguments: missing function name.");let y=_.xStep||0,B=_.xFinal||0;const Z=_.xValue||0,ie=_.xInverse||0;let be;b(a)?(be=!1,(b(y)||b(B))&&n("Ambiguous arguments: scalar or aggregate?"),y=B=null):b(y)?(b(B)||n("Missing xFinal() callback for aggregate or window UDF."),a=null):b(B)?n("Missing xStep() callback for aggregate or window UDF."):n("Missing function-type properties."),be===!1?(b(Z)||b(ie))&&n("xValue and xInverse are not permitted for non-window UDFs."):b(Z)?(b(ie)||n("xInverse must be provided if xValue is."),be=!0):b(ie)&&n("xValue must be provided if xInverse is.");const me=_.pApp;me!=null&&(typeof me!="number"||!o.isInt32(me))&&n("Invalid value for pApp property. Must be a legal WASM pointer value.");const de=_.xDestroy||0;de&&!b(de)&&n("xDestroy property must be a function.");let ye=0;D(_,"deterministic")&&(ye|=r.SQLITE_DETERMINISTIC),D(_,"directOnly")&&(ye|=r.SQLITE_DIRECTONLY),D(_,"innocuous")&&(ye|=r.SQLITE_INNOCUOUS),g=g.toLowerCase();const Fe=a||y,Re=D(_,"arity"),Te=typeof Re=="number"?Re:Fe.length?Fe.length-1:0;let $e;return be?$e=r.sqlite3_create_window_function(this.pointer,g,Te,r.SQLITE_UTF8|ye,me||0,y,B,Z,ie,de):$e=r.sqlite3_create_function_v2(this.pointer,g,Te,r.SQLITE_UTF8|ye,me||0,a,y,B,de),I.checkRc(this,$e),this},selectValue:function(f,g,a){return N(this,f,g,0,a)},selectValues:function(f,g,a){const _=this.prepare(f),b=[];try{for(_.bind(g);_.step();)b.push(_.get(0,a));_.reset()}finally{_.finalize()}return b},selectArray:function(f,g){return N(this,f,g,[])},selectObject:function(f,g){return N(this,f,g,{})},selectArrays:function(f,g){return A(this,f,g,"array")},selectObjects:function(f,g){return A(this,f,g,"object")},openStatementCount:function(){return this.pointer?Object.keys(m.get(this)).length:0},transaction:function(f){let g="BEGIN";arguments.length>1&&(/[^a-zA-Z]/.test(arguments[0])&&n(r.SQLITE_MISUSE,"Invalid argument for BEGIN qualifier."),g+=" "+arguments[0],f=arguments[1]),E(this).exec(g);try{const a=f(this);return this.exec("COMMIT"),a}catch(a){throw this.exec("ROLLBACK"),a}},savepoint:function(f){E(this).exec("SAVEPOINT oo1");try{const g=f(this);return this.exec("RELEASE oo1"),g}catch(g){throw this.exec("ROLLBACK to SAVEPOINT oo1; RELEASE SAVEPOINT oo1"),g}},checkRc:function(f){return M(this,f)}};const U=function(f){return f.pointer||n("Stmt has been closed."),f},V=function(f){let g=j[f==null?"null":typeof f];switch(g){case j.boolean:case j.null:case j.number:case j.string:return g;case j.bigint:if(s.bigIntEnabled)return g;default:return o.isBindableTypedArray(f)?j.blob:void 0}},c=function(f){return V(f)||n("Unsupported bind() argument type:",typeof f)},h=function(f,g){const a=typeof g=="number"?g:r.sqlite3_bind_parameter_index(f.pointer,g);return a===0||!o.isInt32(a)?n("Invalid bind() parameter name: "+g):(a<1||a>f.parameterCount)&&n("Bind index",g,"is out of range."),a},w=function(f,g){return f._lockedByExec&&n("Operation is illegal when statement is locked:",g),f},H=function f(g,a,_,b){w(U(g),"bind()"),f._||(f._tooBigInt=B=>n("BigInt value is too big to store without precision loss:",B),f._={string:function(B,Z,ie,be){const[me,de]=s.allocCString(ie,!0);return(be?r.sqlite3_bind_blob:r.sqlite3_bind_text)(B.pointer,Z,me,de,r.SQLITE_WASM_DEALLOC)}}),c(b),a=h(g,a);let y=0;switch(b==null?j.null:_){case j.null:y=r.sqlite3_bind_null(g.pointer,a);break;case j.string:y=f._.string(g,a,b,!1);break;case j.number:{let B;o.isInt32(b)?B=r.sqlite3_bind_int:typeof b=="bigint"?o.bigIntFits64(b)?s.bigIntEnabled?B=r.sqlite3_bind_int64:o.bigIntFitsDouble(b)?(b=Number(b),B=r.sqlite3_bind_double):f._tooBigInt(b):f._tooBigInt(b):(b=Number(b),s.bigIntEnabled&&Number.isInteger(b)?B=r.sqlite3_bind_int64:B=r.sqlite3_bind_double),y=B(g.pointer,a,b);break}case j.boolean:y=r.sqlite3_bind_int(g.pointer,a,b?1:0);break;case j.blob:{if(typeof b=="string"){y=f._.string(g,a,b,!0);break}else b instanceof ArrayBuffer?b=new Uint8Array(b):o.isBindableTypedArray(b)||n("Binding a value as a blob requires","that it be a string, Uint8Array, Int8Array, or ArrayBuffer.");const B=s.alloc(b.byteLength||1);s.heap8().set(b.byteLength?b:[0],B),y=r.sqlite3_bind_blob(g.pointer,a,B,b.byteLength,r.SQLITE_WASM_DEALLOC);break}default:t.config.warn("Unsupported bind() argument type:",b),n("Unsupported bind() argument type: "+typeof b)}return y&&I.checkRc(g.db.pointer,y),g._mayGet=!1,g};q.prototype={finalize:function(){if(this.pointer){w(this,"finalize()");const f=r.sqlite3_finalize(this.pointer);return delete m.get(this.db)[this.pointer],d.delete(this),delete this._mayGet,delete this.parameterCount,delete this._lockedByExec,delete this.db,f}},clearBindings:function(){return w(U(this),"clearBindings()"),r.sqlite3_clear_bindings(this.pointer),this._mayGet=!1,this},reset:function(f){w(this,"reset()"),f&&this.clearBindings();const g=r.sqlite3_reset(U(this).pointer);return this._mayGet=!1,M(this.db,g),this},bind:function(){U(this);let f,g;switch(arguments.length){case 1:f=1,g=arguments[0];break;case 2:f=arguments[0],g=arguments[1];break;default:n("Invalid bind() arguments.")}return g===void 0?this:(this.parameterCount||n("This statement has no bindable parameters."),this._mayGet=!1,g===null?H(this,f,j.null,g):Array.isArray(g)?(arguments.length!==1&&n("When binding an array, an index argument is not permitted."),g.forEach((a,_)=>H(this,_+1,c(a),a)),this):(g instanceof ArrayBuffer&&(g=new Uint8Array(g)),typeof g=="object"&&!o.isBindableTypedArray(g)?(arguments.length!==1&&n("When binding an object, an index argument is not permitted."),Object.keys(g).forEach(a=>H(this,a,c(g[a]),g[a])),this):H(this,f,c(g),g)))},bindAsBlob:function(f,g){U(this),arguments.length===1&&(g=f,f=1);const a=c(g);return j.string!==a&&j.blob!==a&&j.null!==a&&n("Invalid value type for bindAsBlob()"),H(this,f,j.blob,g)},step:function(){w(this,"step()");const f=r.sqlite3_step(U(this).pointer);switch(f){case r.SQLITE_DONE:return this._mayGet=!1;case r.SQLITE_ROW:return this._mayGet=!0;default:this._mayGet=!1,t.config.warn("sqlite3_step() rc=",f,r.sqlite3_js_rc_str(f),"SQL =",r.sqlite3_sql(this.pointer)),I.checkRc(this.db.pointer,f)}},stepReset:function(){return this.step(),this.reset()},stepFinalize:function(){try{const f=this.step();return this.reset(),f}finally{try{this.finalize()}catch{}}},get:function(f,g){if(U(this)._mayGet||n("Stmt.step() has not (recently) returned true."),Array.isArray(f)){let a=0;const _=this.columnCount;for(;a<_;)f[a]=this.get(a++);return f}else if(f&&typeof f=="object"){let a=0;const _=this.columnCount;for(;a<_;)f[r.sqlite3_column_name(this.pointer,a)]=this.get(a++);return f}switch(F(this,f),g===void 0?r.sqlite3_column_type(this.pointer,f):g){case r.SQLITE_NULL:return null;case r.SQLITE_INTEGER:if(s.bigIntEnabled){const a=r.sqlite3_column_int64(this.pointer,f);return a>=Number.MIN_SAFE_INTEGER&&a<=Number.MAX_SAFE_INTEGER?Number(a).valueOf():a}else{const a=r.sqlite3_column_double(this.pointer,f);return(a>Number.MAX_SAFE_INTEGER||a<Number.MIN_SAFE_INTEGER)&&n("Integer is out of range for JS integer range: "+a),o.isInt32(a)?a|0:a}case r.SQLITE_FLOAT:return r.sqlite3_column_double(this.pointer,f);case r.SQLITE_TEXT:return r.sqlite3_column_text(this.pointer,f);case r.SQLITE_BLOB:{const a=r.sqlite3_column_bytes(this.pointer,f),_=r.sqlite3_column_blob(this.pointer,f),b=new Uint8Array(a);return a&&b.set(s.heap8u().slice(_,_+a),0),a&&this.db._blobXfer instanceof Array&&this.db._blobXfer.push(b.buffer),b}default:n("Don't know how to translate","type of result column #"+f+".")}n("Not reached.")},getInt:function(f){return this.get(f,r.SQLITE_INTEGER)},getFloat:function(f){return this.get(f,r.SQLITE_FLOAT)},getString:function(f){return this.get(f,r.SQLITE_TEXT)},getBlob:function(f){return this.get(f,r.SQLITE_BLOB)},getJSON:function(f){const g=this.get(f,r.SQLITE_STRING);return g===null?g:JSON.parse(g)},getColumnName:function(f){return r.sqlite3_column_name(F(U(this),f).pointer,f)},getColumnNames:function(f=[]){F(U(this),0);const g=this.columnCount;for(let a=0;a<g;++a)f.push(r.sqlite3_column_name(this.pointer,a));return f},getParamIndex:function(f){return U(this).parameterCount?r.sqlite3_bind_parameter_index(this.pointer,f):void 0},getParamName:function(f){return U(this).parameterCount?r.sqlite3_bind_parameter_name(this.pointer,f):void 0},isBusy:function(){return r.sqlite3_stmt_busy(U(this))!==0},isReadOnly:function(){return r.sqlite3_stmt_readonly(U(this))!==0}};{const f={enumerable:!0,get:function(){return d.get(this)},set:()=>n("The pointer property is read-only.")};Object.defineProperty(q.prototype,"pointer",f),Object.defineProperty(I.prototype,"pointer",f)}if(Object.defineProperty(q.prototype,"columnCount",{enumerable:!1,get:function(){return r.sqlite3_column_count(this.pointer)},set:()=>n("The columnCount property is read-only.")}),t.oo1={DB:I,Stmt:q},o.isUIThread()){t.oo1.JsStorageDb=function(g="session"){const a=C.normalizeArgs(...arguments);g=a.filename,g!=="session"&&g!=="local"&&n("JsStorageDb db name must be one of 'session' or 'local'."),a.vfs="kvvfs",C.call(this,a)};const f=t.oo1.JsStorageDb;f.prototype=Object.create(I.prototype),f.clearStorage=r.sqlite3_js_kvvfs_clear,f.prototype.clearStorage=function(){return f.clearStorage(E(this).filename)},f.storageSize=r.sqlite3_js_kvvfs_size,f.prototype.storageSize=function(){return f.storageSize(E(this).filename)}}}),globalThis.sqlite3ApiBootstrap.initializers.push(function(t){const n=t.util;t.initWorker1API=(function(){const r=(...C)=>{throw new Error(C.join(" "))};globalThis.WorkerGlobalScope instanceof Function||r("initWorker1API() must be run from a Worker thread.");const s=this.sqlite3||r("Missing this.sqlite3 object."),o=s.oo1.DB,d=function(C){let I=m.idMap.get(C);return I||(I="db#"+ ++m.idSeq+"@"+C.pointer,m.idMap.set(C,I),I)},m={dbList:[],idSeq:0,idMap:new WeakMap,xfer:[],open:function(C){const I=new o(C);return this.dbs[d(I)]=I,this.dbList.indexOf(I)<0&&this.dbList.push(I),I},close:function(C,I){if(C){delete this.dbs[d(C)];const j=C.filename,q=n.sqlite3__wasm_db_vfs(C.pointer,0);C.close();const E=this.dbList.indexOf(C);E>=0&&this.dbList.splice(E,1),I&&j&&q&&n.sqlite3__wasm_vfs_unlink(q,j)}},post:function(C,I){I&&I.length?(globalThis.postMessage(C,Array.from(I)),I.length=0):globalThis.postMessage(C)},dbs:Object.create(null),getDb:function(C,I=!0){return this.dbs[C]||(I?r("Unknown (or closed) DB ID:",C):void 0)}},D=function(C=m.dbList[0]){return C&&C.pointer?C:r("DB is not opened.")},M=function(C,I=!0){const j=m.getDb(C.dbId,!1)||m.dbList[0];return I?D(j):j},$=function(){return m.dbList[0]&&d(m.dbList[0])},J={open:function(C){const I=Object.create(null),j=C.args||Object.create(null);j.simulateError&&r("Throwing because of simulateError flag.");const q=Object.create(null);I.vfs=j.vfs,I.filename=j.filename||"";const E=m.open(I);return q.filename=E.filename,q.persistent=!!s.capi.sqlite3_js_db_uses_vfs(E.pointer,"opfs"),q.dbId=d(E),q.vfs=E.dbVfsName(),q},close:function(C){const I=M(C,!1),j={filename:I&&I.filename};if(I){const q=C.args&&typeof C.args=="object"?!!C.args.unlink:!1;m.close(I,q)}return j},exec:function(C){const I=typeof C.args=="string"?{sql:C.args}:C.args||Object.create(null);I.rowMode==="stmt"?r("Invalid rowMode for 'exec': stmt mode","does not work in the Worker API."):I.sql||r("'exec' requires input SQL.");const j=M(C);(I.callback||Array.isArray(I.resultRows))&&(j._blobXfer=m.xfer);const q=I.callback;let E=0;const F=!!I.columnNames;typeof q=="string"&&(F||(I.columnNames=[]),I.callback=function(L,N){m.post({type:q,columnNames:I.columnNames,rowNumber:++E,row:L},m.xfer)});try{const L=I.countChanges?j.changes(!0,I.countChanges===64):void 0;j.exec(I),L!==void 0&&(I.changeCount=j.changes(!0,I.countChanges===64)-L);const N=I.lastInsertRowId?s.capi.sqlite3_last_insert_rowid(j):void 0;N!==void 0&&(I.lastInsertRowId=N),I.callback instanceof Function&&(I.callback=q,m.post({type:q,columnNames:I.columnNames,rowNumber:null,row:void 0}))}finally{delete j._blobXfer,I.callback&&(I.callback=q)}return I},"config-get":function(){const C=Object.create(null),I=s.config;return["bigIntEnabled"].forEach(function(j){Object.getOwnPropertyDescriptor(I,j)&&(C[j]=I[j])}),C.version=s.version,C.vfsList=s.capi.sqlite3_js_vfs_list(),C},export:function(C){const I=M(C),j={byteArray:s.capi.sqlite3_js_db_export(I.pointer),filename:I.filename,mimetype:"application/x-sqlite3"};return m.xfer.push(j.byteArray.buffer),j},toss:function(C){r("Testing worker exception")}};globalThis.onmessage=async function(C){C=C.data;let I,j=C.dbId,q=C.type;const E=performance.now();try{J.hasOwnProperty(q)&&J[q]instanceof Function?I=await J[q](C):r("Unknown db worker message type:",C.type)}catch(F){q="error",I={operation:C.type,message:F.message,errorClass:F.name,input:C},F.stack&&(I.stack=typeof F.stack=="string"?F.stack.split(/\n\s*/):F.stack)}j||(j=I.dbId||$()),m.post({type:q,dbId:j,messageId:C.messageId,workerReceivedTime:E,workerRespondTime:performance.now(),departureTime:C.departureTime,result:I},m.xfer)},globalThis.postMessage({type:"sqlite3-api",result:"worker1-ready"})}).bind({sqlite3:t})}),globalThis.sqlite3ApiBootstrap.initializers.push(function(t){const n=t.wasm,r=t.capi,s=t.util.toss3,o=Object.create(null);t.vfs=o,r.sqlite3_vfs.prototype.registerVfs=function(d=!1){this instanceof t.capi.sqlite3_vfs||s("Expecting a sqlite3_vfs-type argument.");const m=r.sqlite3_vfs_register(this,d?1:0);return m&&s("sqlite3_vfs_register(",this,") failed with rc",m),this.pointer!==r.sqlite3_vfs_find(this.$zName)&&s("BUG: sqlite3_vfs_find(vfs.$zName) failed for just-installed VFS",this),this},o.installVfs=function(d){let m=0;const D=["io","vfs"];for(const M of D){const $=d[M];$&&(++m,$.struct.installMethods($.methods,!!$.applyArgcCheck),M==="vfs"&&(!$.struct.$zName&&typeof $.name=="string"&&$.struct.addOnDispose($.struct.$zName=n.allocCString($.name)),$.struct.registerVfs(!!$.asDefault)))}return m||s("Misuse: installVfs() options object requires at least","one of:",D),this}}),globalThis.sqlite3ApiBootstrap.initializers.push(function(t){if(!t.wasm.exports.sqlite3_declare_vtab)return;const n=t.wasm,r=t.capi,s=t.util.toss3,o=Object.create(null);t.vtab=o;const d=r.sqlite3_index_info;d.prototype.nthConstraint=function(M,$=!1){if(M<0||M>=this.$nConstraint)return!1;const J=this.$aConstraint+d.sqlite3_index_constraint.structInfo.sizeof*M;return $?J:new d.sqlite3_index_constraint(J)},d.prototype.nthConstraintUsage=function(M,$=!1){if(M<0||M>=this.$nConstraint)return!1;const J=this.$aConstraintUsage+d.sqlite3_index_constraint_usage.structInfo.sizeof*M;return $?J:new d.sqlite3_index_constraint_usage(J)},d.prototype.nthOrderBy=function(M,$=!1){if(M<0||M>=this.$nOrderBy)return!1;const J=this.$aOrderBy+d.sqlite3_index_orderby.structInfo.sizeof*M;return $?J:new d.sqlite3_index_orderby(J)};const m=function(M,$){return(function(J,C=!1){if(arguments.length===0&&(J=new $),J instanceof $)return this.set(J.pointer,J),J;n.isPtr(J)||t.SQLite3Error.toss("Invalid argument to",M+"()");let I=this.get(J);return C&&this.delete(J),I}).bind(new Map)},D=function(M,$){const J=m(M,$);return Object.assign(Object.create(null),{StructType:$,create:C=>{const I=J();return n.pokePtr(C,I.pointer),I},get:C=>J(C),unget:C=>J(C,!0),dispose:C=>{const I=J(C,!0);I&&I.dispose()}})};o.xVtab=D("xVtab",r.sqlite3_vtab),o.xCursor=D("xCursor",r.sqlite3_vtab_cursor),o.xIndexInfo=M=>new r.sqlite3_index_info(M),o.xError=function M($,J,C){if(M.errorReporter instanceof Function)try{M.errorReporter("sqlite3_module::"+$+"(): "+J.message)}catch{}let I;return J instanceof t.WasmAllocError?I=r.SQLITE_NOMEM:arguments.length>2?I=C:J instanceof t.SQLite3Error&&(I=J.resultCode),I||r.SQLITE_ERROR},o.xError.errorReporter=console.error.bind(console),o.xRowid=(M,$)=>n.poke(M,$,"i64"),o.setupModule=function(M){let $=!1;const J=this instanceof r.sqlite3_module?this:M.struct||($=new r.sqlite3_module);try{const C=M.methods||s("Missing 'methods' object.");for(const I of Object.entries({xConnect:"xCreate",xDisconnect:"xDestroy"})){const j=I[0],q=I[1];C[j]===!0?C[j]=C[q]:C[q]===!0&&(C[q]=C[j])}if(M.catchExceptions){const I=function(E,F){return["xConnect","xCreate"].indexOf(E)>=0?function(L,N,A,U,V,c){try{return F(...arguments)||0}catch(h){return h instanceof t.WasmAllocError||(n.dealloc(n.peekPtr(c)),n.pokePtr(c,n.allocCString(h.message))),o.xError(E,h)}}:function(...L){try{return F(...L)||0}catch(N){return o.xError(E,N)}}},j=["xCreate","xConnect","xBestIndex","xDisconnect","xDestroy","xOpen","xClose","xFilter","xNext","xEof","xColumn","xRowid","xUpdate","xBegin","xSync","xCommit","xRollback","xFindFunction","xRename","xSavepoint","xRelease","xRollbackTo","xShadowName"],q=Object.create(null);for(const E of j){const F=C[E];if(F instanceof Function)E==="xConnect"&&C.xCreate===F?q[E]=C.xCreate:E==="xCreate"&&C.xConnect===F?q[E]=C.xConnect:q[E]=I(E,F);else continue}J.installMethods(q,!1)}else J.installMethods(C,!!M.applyArgcCheck);if(J.$iVersion===0){let I;typeof M.iVersion=="number"?I=M.iVersion:J.$xShadowName?I=3:J.$xSavePoint||J.$xRelease||J.$xRollbackTo?I=2:I=1,J.$iVersion=I}}catch(C){throw $&&$.dispose(),C}return J},r.sqlite3_module.prototype.setupModule=function(M){return o.setupModule.call(this,M)}}),globalThis.sqlite3ApiBootstrap.initializers.push(function(t){const n=function r(s){var m;if(!globalThis.SharedArrayBuffer||!globalThis.Atomics)return Promise.reject(new Error("Cannot install OPFS: Missing SharedArrayBuffer and/or Atomics. The server must emit the COOP/COEP response headers to enable those. See https://sqlite.org/wasm/doc/trunk/persistence.md#coop-coep"));if(typeof WorkerGlobalScope>"u")return Promise.reject(new Error("The OPFS sqlite3_vfs cannot run in the main thread because it requires Atomics.wait()."));if(!globalThis.FileSystemHandle||!globalThis.FileSystemDirectoryHandle||!globalThis.FileSystemFileHandle||!globalThis.FileSystemFileHandle.prototype.createSyncAccessHandle||!((m=navigator==null?void 0:navigator.storage)!=null&&m.getDirectory))return Promise.reject(new Error("Missing required OPFS APIs."));(!s||typeof s!="object")&&(s=Object.create(null));const o=new URL(globalThis.location.href).searchParams;return o.has("opfs-disable")?Promise.resolve(t):(s.verbose===void 0&&(s.verbose=o.has("opfs-verbose")?+o.get("opfs-verbose")||2:1),s.sanityChecks===void 0&&(s.sanityChecks=o.has("opfs-sanity-check")),s.proxyUri===void 0&&(s.proxyUri=r.defaultProxyUri),typeof s.proxyUri=="function"&&(s.proxyUri=s.proxyUri()),new Promise(function(D,M){const $=[t.config.error,t.config.warn,t.config.log],J=(O,...Q)=>{s.verbose>O&&$[O]("OPFS syncer:",...Q)},C=(...O)=>J(2,...O),I=(...O)=>J(1,...O),j=(...O)=>J(0,...O),q=t.util.toss,E=t.capi,F=t.util,L=t.wasm,N=E.sqlite3_vfs,A=E.sqlite3_file,U=E.sqlite3_io_methods,V=Object.create(null),c=()=>{var O;return globalThis.FileSystemHandle&&globalThis.FileSystemDirectoryHandle&&globalThis.FileSystemFileHandle&&globalThis.FileSystemFileHandle.prototype.createSyncAccessHandle&&((O=navigator==null?void 0:navigator.storage)==null?void 0:O.getDirectory)};V.metrics={dump:function(){let O,Q=0,z=0,Y=0;for(O in y.opIds){const K=B[O];Q+=K.count,z+=K.time,Y+=K.wait,K.avgTime=K.count&&K.time?K.time/K.count:0,K.avgWait=K.count&&K.wait?K.wait/K.count:0}t.config.log(globalThis.location.href,"metrics for",globalThis.location.href,":",B,`
Total of`,Q,"op(s) for",z,"ms (incl. "+Y+" ms of waiting on the async side)"),t.config.log("Serialization metrics:",B.s11n),a.postMessage({type:"opfs-async-metrics"})},reset:function(){let O;const Q=Y=>Y.count=Y.time=Y.wait=0;for(O in y.opIds)Q(B[O]=Object.create(null));let z=B.s11n=Object.create(null);z=z.serialize=Object.create(null),z.count=z.time=0,z=B.s11n.deserialize=Object.create(null),z.count=z.time=0}};const h=new U,w=new N().addOnDispose(()=>h.dispose());let H;const f=O=>(H=!0,w.dispose(),M(O)),g=()=>(H=!1,D(t)),a=new Worker(new URL(s.proxyUri,import.meta.url));setTimeout(()=>{H===void 0&&f(new Error("Timeout while waiting for OPFS async proxy worker."))},4e3),a._originalOnError=a.onerror,a.onerror=function(O){j("Error initializing OPFS asyncer:",O),f(new Error("Loading OPFS async Worker failed for unknown reasons."))};const _=E.sqlite3_vfs_find(null),b=_?new N(_):null;h.$iVersion=1,w.$iVersion=2,w.$szOsFile=E.sqlite3_file.structInfo.sizeof,w.$mxPathname=1024,w.$zName=L.allocCString("opfs"),w.$xDlOpen=w.$xDlError=w.$xDlSym=w.$xDlClose=null,w.addOnDispose("$zName",w.$zName,"cleanup default VFS wrapper",()=>b?b.dispose():null);const y=Object.create(null);y.verbose=s.verbose,y.littleEndian=(()=>{const O=new ArrayBuffer(2);return new DataView(O).setInt16(0,256,!0),new Int16Array(O)[0]===256})(),y.asyncIdleWaitTime=150,y.asyncS11nExceptions=1,y.fileBufferSize=1024*64,y.sabS11nOffset=y.fileBufferSize,y.sabS11nSize=w.$mxPathname*2,y.sabIO=new SharedArrayBuffer(y.fileBufferSize+y.sabS11nSize),y.opIds=Object.create(null);const B=Object.create(null);{let O=0;y.opIds.whichOp=O++,y.opIds.rc=O++,y.opIds.xAccess=O++,y.opIds.xClose=O++,y.opIds.xDelete=O++,y.opIds.xDeleteNoWait=O++,y.opIds.xFileSize=O++,y.opIds.xLock=O++,y.opIds.xOpen=O++,y.opIds.xRead=O++,y.opIds.xSleep=O++,y.opIds.xSync=O++,y.opIds.xTruncate=O++,y.opIds.xUnlock=O++,y.opIds.xWrite=O++,y.opIds.mkdir=O++,y.opIds["opfs-async-metrics"]=O++,y.opIds["opfs-async-shutdown"]=O++,y.opIds.retry=O++,y.sabOP=new SharedArrayBuffer(O*4),V.metrics.reset()}y.sq3Codes=Object.create(null),["SQLITE_ACCESS_EXISTS","SQLITE_ACCESS_READWRITE","SQLITE_BUSY","SQLITE_CANTOPEN","SQLITE_ERROR","SQLITE_IOERR","SQLITE_IOERR_ACCESS","SQLITE_IOERR_CLOSE","SQLITE_IOERR_DELETE","SQLITE_IOERR_FSYNC","SQLITE_IOERR_LOCK","SQLITE_IOERR_READ","SQLITE_IOERR_SHORT_READ","SQLITE_IOERR_TRUNCATE","SQLITE_IOERR_UNLOCK","SQLITE_IOERR_WRITE","SQLITE_LOCK_EXCLUSIVE","SQLITE_LOCK_NONE","SQLITE_LOCK_PENDING","SQLITE_LOCK_RESERVED","SQLITE_LOCK_SHARED","SQLITE_LOCKED","SQLITE_MISUSE","SQLITE_NOTFOUND","SQLITE_OPEN_CREATE","SQLITE_OPEN_DELETEONCLOSE","SQLITE_OPEN_MAIN_DB","SQLITE_OPEN_READONLY"].forEach(O=>{(y.sq3Codes[O]=E[O])===void 0&&q("Maintenance required: not found:",O)}),y.opfsFlags=Object.assign(Object.create(null),{OPFS_UNLOCK_ASAP:1,OPFS_UNLINK_BEFORE_OPEN:2,defaultUnlockAsap:!1});const Z=(O,...Q)=>{const z=y.opIds[O]||q("Invalid op ID:",O);y.s11n.serialize(...Q),Atomics.store(y.sabOPView,y.opIds.rc,-1),Atomics.store(y.sabOPView,y.opIds.whichOp,z),Atomics.notify(y.sabOPView,y.opIds.whichOp);const Y=performance.now();for(;Atomics.wait(y.sabOPView,y.opIds.rc,-1)!=="not-equal";);const K=Atomics.load(y.sabOPView,y.opIds.rc);if(B[O].wait+=performance.now()-Y,K&&y.asyncS11nExceptions){const ae=y.s11n.deserialize();ae&&j(O+"() async error:",...ae)}return K};V.debug={asyncShutdown:()=>{I("Shutting down OPFS async listener. The OPFS VFS will no longer work."),Z("opfs-async-shutdown")},asyncRestart:()=>{I("Attempting to restart OPFS VFS async listener. Might work, might not."),a.postMessage({type:"opfs-async-restart"})}};const ie=()=>{if(y.s11n)return y.s11n;const O=new TextDecoder,Q=new TextEncoder("utf-8"),z=new Uint8Array(y.sabIO,y.sabS11nOffset,y.sabS11nSize),Y=new DataView(y.sabIO,y.sabS11nOffset,y.sabS11nSize);y.s11n=Object.create(null);const K=Object.create(null);K.number={id:1,size:8,getter:"getFloat64",setter:"setFloat64"},K.bigint={id:2,size:8,getter:"getBigInt64",setter:"setBigInt64"},K.boolean={id:3,size:4,getter:"getInt32",setter:"setInt32"},K.string={id:4};const ae=R=>K[typeof R]||q("Maintenance required: this value type cannot be serialized.",R),re=R=>{switch(R){case K.number.id:return K.number;case K.bigint.id:return K.bigint;case K.boolean.id:return K.boolean;case K.string.id:return K.string;default:q("Invalid type ID:",R)}};return y.s11n.deserialize=function(R=!1){++B.s11n.deserialize.count;const u=performance.now(),x=z[0],k=x?[]:null;if(x){const P=[];let G=1,ee,le,Se;for(ee=0;ee<x;++ee,++G)P.push(re(z[G]));for(ee=0;ee<x;++ee){const st=P[ee];st.getter?(Se=Y[st.getter](G,y.littleEndian),G+=st.size):(le=Y.getInt32(G,y.littleEndian),G+=4,Se=O.decode(z.slice(G,G+le)),G+=le),k.push(Se)}}return R&&(z[0]=0),B.s11n.deserialize.time+=performance.now()-u,k},y.s11n.serialize=function(...R){const u=performance.now();if(++B.s11n.serialize.count,R.length){const x=[];let k=0,P=1;for(z[0]=R.length&255;k<R.length;++k,++P)x.push(ae(R[k])),z[P]=x[k].id;for(k=0;k<R.length;++k){const G=x[k];if(G.setter)Y[G.setter](P,R[k],y.littleEndian),P+=G.size;else{const ee=Q.encode(R[k]);Y.setInt32(P,ee.byteLength,y.littleEndian),P+=4,z.set(ee,P),P+=ee.byteLength}}}else z[0]=0;B.s11n.serialize.time+=performance.now()-u},y.s11n},be=function O(Q=16){O._chars||(O._chars="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ012346789",O._n=O._chars.length);const z=[];let Y=0;for(;Y<Q;++Y){const K=Math.random()*(O._n*64)%O._n|0;z[Y]=O._chars[K]}return z.join("")},me=Object.create(null),de=Object.create(null);de.op=void 0,de.start=void 0;const ye=O=>{de.start=performance.now(),de.op=O,++B[O].count},Fe=()=>B[de.op].time+=performance.now()-de.start,Re={xCheckReservedLock:function(O,Q){return L.poke(Q,0,"i32"),0},xClose:function(O){ye("xClose");let Q=0;const z=me[O];return z&&(delete me[O],Q=Z("xClose",O),z.sq3File&&z.sq3File.dispose()),Fe(),Q},xDeviceCharacteristics:function(O){return E.SQLITE_IOCAP_UNDELETABLE_WHEN_OPEN},xFileControl:function(O,Q,z){return E.SQLITE_NOTFOUND},xFileSize:function(O,Q){ye("xFileSize");let z=Z("xFileSize",O);if(z==0)try{const Y=y.s11n.deserialize()[0];L.poke(Q,Y,"i64")}catch(Y){j("Unexpected error reading xFileSize() result:",Y),z=y.sq3Codes.SQLITE_IOERR}return Fe(),z},xLock:function(O,Q){ye("xLock");const z=me[O];let Y=0;return z.lockType?z.lockType=Q:(Y=Z("xLock",O,Q),Y===0&&(z.lockType=Q)),Fe(),Y},xRead:function(O,Q,z,Y){ye("xRead");const K=me[O];let ae;try{ae=Z("xRead",O,z,Number(Y)),(ae===0||E.SQLITE_IOERR_SHORT_READ===ae)&&L.heap8u().set(K.sabView.subarray(0,z),Q)}catch(re){j("xRead(",arguments,") failed:",re,K),ae=E.SQLITE_IOERR_READ}return Fe(),ae},xSync:function(O,Q){ye("xSync"),++B.xSync.count;const z=Z("xSync",O,Q);return Fe(),z},xTruncate:function(O,Q){ye("xTruncate");const z=Z("xTruncate",O,Number(Q));return Fe(),z},xUnlock:function(O,Q){ye("xUnlock");const z=me[O];let Y=0;return E.SQLITE_LOCK_NONE===Q&&z.lockType&&(Y=Z("xUnlock",O,Q)),Y===0&&(z.lockType=Q),Fe(),Y},xWrite:function(O,Q,z,Y){ye("xWrite");const K=me[O];let ae;try{K.sabView.set(L.heap8u().subarray(Q,Q+z)),ae=Z("xWrite",O,z,Number(Y))}catch(re){j("xWrite(",arguments,") failed:",re,K),ae=E.SQLITE_IOERR_WRITE}return Fe(),ae}},Te={xAccess:function(O,Q,z,Y){ye("xAccess");const K=Z("xAccess",L.cstrToJs(Q));return L.poke(Y,K?0:1,"i32"),Fe(),0},xCurrentTime:function(O,Q){return L.poke(Q,24405875e-1+new Date().getTime()/864e5,"double"),0},xCurrentTimeInt64:function(O,Q){return L.poke(Q,24405875e-1*864e5+new Date().getTime(),"i64"),0},xDelete:function(O,Q,z){ye("xDelete");const Y=Z("xDelete",L.cstrToJs(Q),z,!1);return Fe(),Y},xFullPathname:function(O,Q,z,Y){return L.cstrncpy(Y,Q,z)<z?0:E.SQLITE_CANTOPEN},xGetLastError:function(O,Q,z){return I("OPFS xGetLastError() has nothing sensible to return."),0},xOpen:function(Q,z,Y,K,ae){ye("xOpen");let re=0;z===0?z=be():L.isPtr(z)&&(E.sqlite3_uri_boolean(z,"opfs-unlock-asap",0)&&(re|=y.opfsFlags.OPFS_UNLOCK_ASAP),E.sqlite3_uri_boolean(z,"delete-before-open",0)&&(re|=y.opfsFlags.OPFS_UNLINK_BEFORE_OPEN),z=L.cstrToJs(z));const R=Object.create(null);R.fid=Y,R.filename=z,R.sab=new SharedArrayBuffer(y.fileBufferSize),R.flags=K,R.readOnly=!(t.SQLITE_OPEN_CREATE&K)&&!!(K&E.SQLITE_OPEN_READONLY);const u=Z("xOpen",Y,z,K,re);return u||(R.readOnly&&L.poke(ae,E.SQLITE_OPEN_READONLY,"i32"),me[Y]=R,R.sabView=y.sabFileBufView,R.sq3File=new A(Y),R.sq3File.$pMethods=h.pointer,R.lockType=E.SQLITE_LOCK_NONE),Fe(),u}};b&&(w.$xRandomness=b.$xRandomness,w.$xSleep=b.$xSleep),w.$xRandomness||(Te.xRandomness=function(O,Q,z){const Y=L.heap8u();let K=0;for(;K<Q;++K)Y[z+K]=Math.random()*255e3&255;return K}),w.$xSleep||(Te.xSleep=function(O,Q){return Atomics.wait(y.sabOPView,y.opIds.xSleep,0,Q),0}),V.getResolvedPath=function(O,Q){const z=new URL(O,"file://irrelevant").pathname;return Q?z.split("/").filter(Y=>!!Y):z},V.getDirForFilename=async function(Q,z=!1){const Y=V.getResolvedPath(Q,!0),K=Y.pop();let ae=V.rootDirectory;for(const re of Y)re&&(ae=await ae.getDirectoryHandle(re,{create:!!z}));return[ae,K]},V.mkdir=async function(O){try{return await V.getDirForFilename(O+"/filepart",!0),!0}catch{return!1}},V.entryExists=async function(O){try{const[Q,z]=await V.getDirForFilename(O);return await Q.getFileHandle(z),!0}catch{return!1}},V.randomFilename=be,V.treeList=async function(){const O=async function z(Y,K){K.name=Y.name,K.dirs=[],K.files=[];for await(const ae of Y.values())if(ae.kind==="directory"){const re=Object.create(null);K.dirs.push(re),await z(ae,re)}else K.files.push(ae.name)},Q=Object.create(null);return await O(V.rootDirectory,Q),Q},V.rmfr=async function(){const O=V.rootDirectory,Q={recurse:!0};for await(const z of O.values())O.removeEntry(z.name,Q)},V.unlink=async function(O,Q=!1,z=!1){try{const[Y,K]=await V.getDirForFilename(O,!1);return await Y.removeEntry(K,{recursive:Q}),!0}catch(Y){if(z)throw new Error("unlink(",arguments[0],") failed: "+Y.message,{cause:Y});return!1}},V.traverse=async function(O){const Q={recursive:!0,directory:V.rootDirectory};typeof O=="function"&&(O={callback:O}),O=Object.assign(Q,O||{}),async function Y(K,ae){for await(const re of K.values()){if(O.callback(re,K,ae)===!1)return!1;if(O.recursive&&re.kind==="directory"&&await Y(re,ae+1)===!1)break}}(O.directory,0)};const $e=async function(O,Q){const[z,Y]=await V.getDirForFilename(O,!0);let ae=await(await z.getFileHandle(Y,{create:!0})).createSyncAccessHandle(),re=0,R,u=!1;try{for(ae.truncate(0);(R=await Q())!==void 0;)R instanceof ArrayBuffer&&(R=new Uint8Array(R)),re===0&&R.byteLength>=15&&(F.affirmDbHeader(R),u=!0),ae.write(R,{at:re}),re+=R.byteLength;if((re<512||re%512!==0)&&q("Input size",re,"is not correct for an SQLite database."),!u){const x=new Uint8Array(20);ae.read(x,{at:0}),F.affirmDbHeader(x)}return ae.write(new Uint8Array([1,1]),{at:18}),re}catch(x){throw await ae.close(),ae=void 0,await z.removeEntry(Y).catch(()=>{}),x}finally{ae&&await ae.close()}};if(V.importDb=async function(O,Q){if(Q instanceof Function)return $e(O,Q);Q instanceof ArrayBuffer&&(Q=new Uint8Array(Q)),F.affirmIsDb(Q);const z=Q.byteLength,[Y,K]=await V.getDirForFilename(O,!0);let ae,re=0;try{return ae=await(await Y.getFileHandle(K,{create:!0})).createSyncAccessHandle(),ae.truncate(0),re=ae.write(Q,{at:0}),re!=z&&q("Expected to write "+z+" bytes but wrote "+re+"."),ae.write(new Uint8Array([1,1]),{at:18}),re}catch(R){throw ae&&(await ae.close(),ae=void 0),await Y.removeEntry(K).catch(()=>{}),R}finally{ae&&await ae.close()}},t.oo1){const O=function(...Q){const z=t.oo1.DB.dbCtorHelper.normalizeArgs(...Q);z.vfs=w.$zName,t.oo1.DB.dbCtorHelper.call(this,z)};O.prototype=Object.create(t.oo1.DB.prototype),t.oo1.OpfsDb=O,O.importDb=V.importDb,t.oo1.DB.dbCtorHelper.setVfsPostOpenCallback(w.pointer,function(Q,z){z.capi.sqlite3_busy_timeout(Q,1e4)})}const nt=function(){const O=L.scopedAllocPush(),Q=new A;try{const z=Q.pointer,Y=E.SQLITE_OPEN_CREATE|E.SQLITE_OPEN_READWRITE|E.SQLITE_OPEN_MAIN_DB,K=L.scopedAlloc(8),ae="/sanity/check/file"+be(8),re=L.scopedAllocCString(ae);let R;if(y.s11n.serialize("This is  string."),R=y.s11n.deserialize(),C("deserialize() says:",R),R[0]!=="This is  string."&&q("String d13n error."),Te.xAccess(w.pointer,re,0,K),R=L.peek(K,"i32"),C("xAccess(",ae,") exists ?=",R),R=Te.xOpen(w.pointer,re,z,Y,K),C("open rc =",R,"state.sabOPView[xOpen] =",y.sabOPView[y.opIds.xOpen]),R!==0){j("open failed with code",R);return}Te.xAccess(w.pointer,re,0,K),R=L.peek(K,"i32"),R||q("xAccess() failed to detect file."),R=Re.xSync(Q.pointer,0),R&&q("sync failed w/ rc",R),R=Re.xTruncate(Q.pointer,1024),R&&q("truncate failed w/ rc",R),L.poke(K,0,"i64"),R=Re.xFileSize(Q.pointer,K),R&&q("xFileSize failed w/ rc",R),C("xFileSize says:",L.peek(K,"i64")),R=Re.xWrite(Q.pointer,re,10,1),R&&q("xWrite() failed!");const u=L.scopedAlloc(16);R=Re.xRead(Q.pointer,u,6,2),L.poke(u+6,0);let x=L.cstrToJs(u);C("xRead() got:",x),x!=="sanity"&&q("Unexpected xRead() value."),Te.xSleep&&(C("xSleep()ing before close()ing..."),Te.xSleep(w.pointer,2e3),C("waking up from xSleep()")),R=Re.xClose(z),C("xClose rc =",R,"sabOPView =",y.sabOPView),C("Deleting file:",ae),Te.xDelete(w.pointer,re,4660),Te.xAccess(w.pointer,re,0,K),R=L.peek(K,"i32"),R&&q("Expecting 0 from xAccess(",ae,") after xDelete()."),I("End of OPFS sanity checks.")}finally{Q.dispose(),L.scopedAllocPop(O)}};a.onmessage=function({data:O}){switch(O.type){case"opfs-unavailable":f(new Error(O.payload.join(" ")));break;case"opfs-async-loaded":a.postMessage({type:"opfs-async-init",args:y});break;case"opfs-async-inited":{if(H===!0)break;try{t.vfs.installVfs({io:{struct:h,methods:Re},vfs:{struct:w,methods:Te}}),y.sabOPView=new Int32Array(y.sabOP),y.sabFileBufView=new Uint8Array(y.sabIO,0,y.fileBufferSize),y.sabS11nView=new Uint8Array(y.sabIO,y.sabS11nOffset,y.sabS11nSize),ie(),s.sanityChecks&&(I("Running sanity checks because of opfs-sanity-check URL arg..."),nt()),c()?navigator.storage.getDirectory().then(Q=>{a.onerror=a._originalOnError,delete a._originalOnError,t.opfs=V,V.rootDirectory=Q,C("End of OPFS sqlite3_vfs setup.",w),g()}).catch(f):g()}catch(Q){j(Q),f(Q)}break}default:{const Q="Unexpected message from the OPFS async worker: "+JSON.stringify(O);j(Q),f(new Error(Q));break}}}}))};n.defaultProxyUri="sqlite3-opfs-async-proxy.js",globalThis.sqlite3ApiBootstrap.initializersAsync.push(async r=>{try{let s=n.defaultProxyUri;return r.scriptInfo.sqlite3Dir&&(n.defaultProxyUri=r.scriptInfo.sqlite3Dir+s),n().catch(o=>{r.config.warn("Ignoring inability to install OPFS sqlite3_vfs:",o.message)})}catch(s){return r.config.error("installOpfsVfs() exception:",s),Promise.reject(s)}})}),globalThis.sqlite3ApiBootstrap.initializers.push(function(t){var de,ye,Fe,Re,Te,$e,nt,O,Q,z,Y,K,Qt,re;const n=t.util.toss,r=t.util.toss3,s=Object.create(null),o=t.capi,d=t.util,m=t.wasm,D=4096,M=512,$=4,J=8,C=M+$,I=M,j=C,q=D,E=o.SQLITE_OPEN_MAIN_DB|o.SQLITE_OPEN_MAIN_JOURNAL|o.SQLITE_OPEN_SUPER_JOURNAL|o.SQLITE_OPEN_WAL,F=o.SQLITE_OPEN_MEMORY,L=".opaque",N=()=>Math.random().toString(36).slice(2),A=new TextDecoder,U=new TextEncoder,V=Object.assign(Object.create(null),{name:"opfs-sahpool",directory:void 0,initialCapacity:6,clearOnInit:!1,verbosity:2,forceReinitIfPreviouslyFailed:!1}),c=[t.config.error,t.config.warn,t.config.log];t.config.log;const h=t.config.warn;t.config.error;const w=new Map,H=R=>w.get(R),f=(R,u)=>{u?w.set(R,u):w.delete(R)},g=new Map,a=R=>g.get(R),_=(R,u)=>{u?g.set(R,u):g.delete(R)},b={xCheckReservedLock:function(R,u){const x=a(R);return x.log("xCheckReservedLock"),x.storeErr(),m.poke32(u,1),0},xClose:function(R){const u=a(R);u.storeErr();const x=u.getOFileForS3File(R);if(x)try{u.log(`xClose ${x.path}`),u.mapS3FileToOFile(R,!1),x.sah.flush(),x.flags&o.SQLITE_OPEN_DELETEONCLOSE&&u.deletePath(x.path)}catch(k){return u.storeErr(k,o.SQLITE_IOERR)}return 0},xDeviceCharacteristics:function(R){return o.SQLITE_IOCAP_UNDELETABLE_WHEN_OPEN},xFileControl:function(R,u,x){return o.SQLITE_NOTFOUND},xFileSize:function(R,u){const x=a(R);x.log("xFileSize");const P=x.getOFileForS3File(R).sah.getSize()-q;return m.poke64(u,BigInt(P)),0},xLock:function(R,u){const x=a(R);x.log(`xLock ${u}`),x.storeErr();const k=x.getOFileForS3File(R);return k.lockType=u,0},xRead:function(R,u,x,k){const P=a(R);P.storeErr();const G=P.getOFileForS3File(R);P.log(`xRead ${G.path} ${x} @ ${k}`);try{const ee=G.sah.read(m.heap8u().subarray(u,u+x),{at:q+Number(k)});return ee<x?(m.heap8u().fill(0,u+ee,u+x),o.SQLITE_IOERR_SHORT_READ):0}catch(ee){return P.storeErr(ee,o.SQLITE_IOERR)}},xSectorSize:function(R){return D},xSync:function(R,u){const x=a(R);x.log(`xSync ${u}`),x.storeErr();const k=x.getOFileForS3File(R);try{return k.sah.flush(),0}catch(P){return x.storeErr(P,o.SQLITE_IOERR)}},xTruncate:function(R,u){const x=a(R);x.log(`xTruncate ${u}`),x.storeErr();const k=x.getOFileForS3File(R);try{return k.sah.truncate(q+Number(u)),0}catch(P){return x.storeErr(P,o.SQLITE_IOERR)}},xUnlock:function(R,u){const x=a(R);x.log("xUnlock");const k=x.getOFileForS3File(R);return k.lockType=u,0},xWrite:function(R,u,x,k){const P=a(R);P.storeErr();const G=P.getOFileForS3File(R);P.log(`xWrite ${G.path} ${x} ${k}`);try{const ee=G.sah.write(m.heap8u().subarray(u,u+x),{at:q+Number(k)});return x===ee?0:n("Unknown write() failure.")}catch(ee){return P.storeErr(ee,o.SQLITE_IOERR)}}},y=new o.sqlite3_io_methods;y.$iVersion=1,t.vfs.installVfs({io:{struct:y,methods:b}});const B={xAccess:function(R,u,x,k){const P=H(R);P.storeErr();try{const G=P.getPath(u);m.poke32(k,P.hasFilename(G)?1:0)}catch{m.poke32(k,0)}return 0},xCurrentTime:function(R,u){return m.poke(u,24405875e-1+new Date().getTime()/864e5,"double"),0},xCurrentTimeInt64:function(R,u){return m.poke(u,24405875e-1*864e5+new Date().getTime(),"i64"),0},xDelete:function(R,u,x){const k=H(R);k.log(`xDelete ${m.cstrToJs(u)}`),k.storeErr();try{return k.deletePath(k.getPath(u)),0}catch(P){return k.storeErr(P),o.SQLITE_IOERR_DELETE}},xFullPathname:function(R,u,x,k){return m.cstrncpy(k,u,x)<x?0:o.SQLITE_CANTOPEN},xGetLastError:function(R,u,x){const k=H(R),P=k.popErr();if(k.log(`xGetLastError ${u} e =`,P),P){const G=m.scopedAllocPush();try{const[ee,le]=m.scopedAllocCString(P.message,!0);m.cstrncpy(x,ee,u),le>u&&m.poke8(x+u-1,0)}catch{return o.SQLITE_NOMEM}finally{m.scopedAllocPop(G)}}return P?P.sqlite3Rc||o.SQLITE_IOERR:0},xOpen:function(u,x,k,P,G){const ee=H(u);try{P&=~F,ee.log(`xOpen ${m.cstrToJs(x)} ${P}`);const le=x&&m.peek8(x)?ee.getPath(x):N();let Se=ee.getSAHForPath(le);!Se&&P&o.SQLITE_OPEN_CREATE&&(ee.getFileCount()<ee.getCapacity()?(Se=ee.nextAvailableSAH(),ee.setAssociatedPath(Se,le,P)):n("SAH pool is full. Cannot create file",le)),Se||n("file not found:",le);const st={path:le,flags:P,sah:Se};ee.mapS3FileToOFile(k,st),st.lockType=o.SQLITE_LOCK_NONE;const tt=new o.sqlite3_file(k);return tt.$pMethods=y.pointer,tt.dispose(),m.poke32(G,P),0}catch(le){return ee.storeErr(le),o.SQLITE_CANTOPEN}}},Z=function(R){t.capi.sqlite3_vfs_find(R)&&r("VFS name is already registered:",R);const u=new o.sqlite3_vfs,x=o.sqlite3_vfs_find(null),k=x?new o.sqlite3_vfs(x):null;return u.$iVersion=2,u.$szOsFile=o.sqlite3_file.structInfo.sizeof,u.$mxPathname=M,u.addOnDispose(u.$zName=m.allocCString(R),()=>f(u.pointer,0)),k&&(u.$xRandomness=k.$xRandomness,u.$xSleep=k.$xSleep,k.dispose()),!u.$xRandomness&&!B.xRandomness&&(B.xRandomness=function(P,G,ee){const le=m.heap8u();let Se=0;for(;Se<G;++Se)le[ee+Se]=Math.random()*255e3&255;return Se}),!u.$xSleep&&!B.xSleep&&(B.xSleep=(P,G)=>0),t.vfs.installVfs({vfs:{struct:u,methods:B}}),u};class ie{constructor(u=Object.create(null)){ft(this,K);rn(this,"vfsDir");ft(this,de);ft(this,ye);ft(this,Fe);ft(this,Re,new Map);ft(this,Te,new Map);ft(this,$e,new Set);ft(this,nt,new Map);ft(this,O,new Uint8Array(C));ft(this,Q);ft(this,z);ft(this,Y);bt(this,Y,u.verbosity??V.verbosity),this.vfsName=u.name||V.name,bt(this,z,Z(this.vfsName)),f(X(this,z).pointer,this),this.vfsDir=u.directory||"."+this.vfsName,bt(this,Q,new DataView(X(this,O).buffer,X(this,O).byteOffset)),this.isReady=this.reset(!!(u.clearOnInit??V.clearOnInit)).then(()=>{if(this.$error)throw this.$error;return this.getCapacity()?Promise.resolve(void 0):this.addCapacity(u.initialCapacity||V.initialCapacity)})}log(...u){zt(this,K,Qt).call(this,2,...u)}warn(...u){zt(this,K,Qt).call(this,1,...u)}error(...u){zt(this,K,Qt).call(this,0,...u)}getVfs(){return X(this,z)}getCapacity(){return X(this,Re).size}getFileCount(){return X(this,Te).size}getFileNames(){const u=[];for(const x of X(this,Te).keys())u.push(x);return u}async addCapacity(u){for(let x=0;x<u;++x){const k=N(),G=await(await X(this,ye).getFileHandle(k,{create:!0})).createSyncAccessHandle();X(this,Re).set(G,k),this.setAssociatedPath(G,"",0)}return this.getCapacity()}async reduceCapacity(u){let x=0;for(const k of Array.from(X(this,$e))){if(x===u||this.getFileCount()===this.getCapacity())break;const P=X(this,Re).get(k);k.close(),await X(this,ye).removeEntry(P),X(this,Re).delete(k),X(this,$e).delete(k),++x}return x}releaseAccessHandles(){for(const u of X(this,Re).keys())u.close();X(this,Re).clear(),X(this,Te).clear(),X(this,$e).clear()}async acquireAccessHandles(u=!1){const x=[];for await(const[k,P]of X(this,ye))P.kind==="file"&&x.push([k,P]);return Promise.all(x.map(async([k,P])=>{try{const G=await P.createSyncAccessHandle();if(X(this,Re).set(G,k),u)G.truncate(q),this.setAssociatedPath(G,"",0);else{const ee=this.getAssociatedPath(G);ee?X(this,Te).set(ee,G):X(this,$e).add(G)}}catch(G){throw this.storeErr(G),this.releaseAccessHandles(),G}}))}getAssociatedPath(u){u.read(X(this,O),{at:0});const x=X(this,Q).getUint32(I);if(X(this,O)[0]&&(x&o.SQLITE_OPEN_DELETEONCLOSE||!(x&E)))return h(`Removing file with unexpected flags ${x.toString(16)}`,X(this,O)),this.setAssociatedPath(u,"",0),"";const k=new Uint32Array(J/4);u.read(k,{at:j});const P=this.computeDigest(X(this,O),x);if(k.every((G,ee)=>G===P[ee])){const G=X(this,O).findIndex(ee=>ee===0);return G===0&&u.truncate(q),G?A.decode(X(this,O).subarray(0,G)):""}else return h("Disassociating file with bad digest."),this.setAssociatedPath(u,"",0),""}setAssociatedPath(u,x,k){const P=U.encodeInto(x,X(this,O));M<=P.written+1&&n("Path too long:",x),x&&k&&(k|=F),X(this,O).fill(0,P.written,M),X(this,Q).setUint32(I,k);const G=this.computeDigest(X(this,O),k);u.write(X(this,O),{at:0}),u.write(G,{at:j}),u.flush(),x?(X(this,Te).set(x,u),X(this,$e).delete(u)):(u.truncate(q),X(this,$e).add(u))}computeDigest(u,x){if(x&F){let k=3735928559,P=1103547991;for(const G of u)k=Math.imul(k^G,2654435761),P=Math.imul(P^G,104729);return new Uint32Array([k>>>0,P>>>0])}else return new Uint32Array([0,0])}async reset(u){await this.isReady;let x=await navigator.storage.getDirectory(),k;for(const P of this.vfsDir.split("/"))P&&(k=x,x=await x.getDirectoryHandle(P,{create:!0}));return bt(this,de,x),bt(this,Fe,k),bt(this,ye,await X(this,de).getDirectoryHandle(L,{create:!0})),this.releaseAccessHandles(),this.acquireAccessHandles(u)}getPath(u){return m.isPtr(u)&&(u=m.cstrToJs(u)),(u instanceof URL?u:new URL(u,"file://localhost/")).pathname}deletePath(u){const x=X(this,Te).get(u);return x&&(X(this,Te).delete(u),this.setAssociatedPath(x,"",0)),!!x}storeErr(u,x){return u&&(u.sqlite3Rc=x||o.SQLITE_IOERR,this.error(u)),this.$error=u,x}popErr(){const u=this.$error;return this.$error=void 0,u}nextAvailableSAH(){const[u]=X(this,$e).keys();return u}getOFileForS3File(u){return X(this,nt).get(u)}mapS3FileToOFile(u,x){x?(X(this,nt).set(u,x),_(u,this)):(X(this,nt).delete(u),_(u,!1))}hasFilename(u){return X(this,Te).has(u)}getSAHForPath(u){return X(this,Te).get(u)}async removeVfs(){if(!X(this,z).pointer||!X(this,ye))return!1;o.sqlite3_vfs_unregister(X(this,z).pointer),X(this,z).dispose(),delete s[this.vfsName];try{this.releaseAccessHandles(),await X(this,de).removeEntry(L,{recursive:!0}),bt(this,ye,void 0),await X(this,Fe).removeEntry(X(this,de).name,{recursive:!0}),bt(this,de,bt(this,Fe,void 0))}catch(u){t.config.error(this.vfsName,"removeVfs() failed with no recovery strategy:",u)}return!0}pauseVfs(){return X(this,nt).size>0&&t.SQLite3Error.toss(o.SQLITE_MISUSE,"Cannot pause VFS",this.vfsName,"because it has opened files."),X(this,Re).size>0&&(o.sqlite3_vfs_unregister(this.vfsName),this.releaseAccessHandles()),this}isPaused(){return X(this,Re).size===0}async unpauseVfs(){return X(this,Re).size===0?this.acquireAccessHandles(!1).then(()=>o.sqlite3_vfs_register(X(this,z),0),this):this}exportFile(u){const x=X(this,Te).get(u)||n("File not found:",u),k=x.getSize()-q,P=new Uint8Array(k>0?k:0);if(k>0){const G=x.read(P,{at:q});G!=k&&n("Expected to read "+k+" bytes but read "+G+".")}return P}async importDbChunked(u,x){const k=X(this,Te).get(u)||this.nextAvailableSAH()||n("No available handles to import to.");k.truncate(0);let P=0,G,ee=!1;try{for(;(G=await x())!==void 0;)G instanceof ArrayBuffer&&(G=new Uint8Array(G)),P===0&&G.byteLength>=15&&(d.affirmDbHeader(G),ee=!0),k.write(G,{at:q+P}),P+=G.byteLength;if((P<512||P%512!==0)&&n("Input size",P,"is not correct for an SQLite database."),!ee){const le=new Uint8Array(20);k.read(le,{at:0}),d.affirmDbHeader(le)}k.write(new Uint8Array([1,1]),{at:q+18})}catch(le){throw this.setAssociatedPath(k,"",0),le}return this.setAssociatedPath(k,u,o.SQLITE_OPEN_MAIN_DB),P}importDb(u,x){if(x instanceof ArrayBuffer)x=new Uint8Array(x);else if(x instanceof Function)return this.importDbChunked(u,x);const k=X(this,Te).get(u)||this.nextAvailableSAH()||n("No available handles to import to."),P=x.byteLength;(P<512||P%512!=0)&&n("Byte array size is invalid for an SQLite db.");const G="SQLite format 3";for(let le=0;le<G.length;++le)G.charCodeAt(le)!==x[le]&&n("Input does not contain an SQLite database header.");const ee=k.write(x,{at:q});return ee!=P?(this.setAssociatedPath(k,"",0),n("Expected to write "+P+" bytes but wrote "+ee+".")):(k.write(new Uint8Array([1,1]),{at:q+18}),this.setAssociatedPath(k,u,o.SQLITE_OPEN_MAIN_DB)),ee}}de=new WeakMap,ye=new WeakMap,Fe=new WeakMap,Re=new WeakMap,Te=new WeakMap,$e=new WeakMap,nt=new WeakMap,O=new WeakMap,Q=new WeakMap,z=new WeakMap,Y=new WeakMap,K=new WeakSet,Qt=function(u,...x){X(this,Y)>u&&c[u](this.vfsName+":",...x)};class be{constructor(u){ft(this,re);bt(this,re,u),this.vfsName=u.vfsName}async addCapacity(u){return X(this,re).addCapacity(u)}async reduceCapacity(u){return X(this,re).reduceCapacity(u)}getCapacity(){return X(this,re).getCapacity(X(this,re))}getFileCount(){return X(this,re).getFileCount()}getFileNames(){return X(this,re).getFileNames()}async reserveMinimumCapacity(u){const x=X(this,re).getCapacity();return x<u?X(this,re).addCapacity(u-x):x}exportFile(u){return X(this,re).exportFile(u)}importDb(u,x){return X(this,re).importDb(u,x)}async wipeFiles(){return X(this,re).reset(!0)}unlink(u){return X(this,re).deletePath(u)}async removeVfs(){return X(this,re).removeVfs()}pauseVfs(){return X(this,re).pauseVfs(),this}async unpauseVfs(){return X(this,re).unpauseVfs().then(()=>this)}isPaused(){return X(this,re).isPaused()}}re=new WeakMap;const me=async()=>{const R=await navigator.storage.getDirectory(),u=".opfs-sahpool-sync-check-"+N(),P=(await(await R.getFileHandle(u,{create:!0})).createSyncAccessHandle()).close();return await P,await R.removeEntry(u),P!=null&&P.then&&n("The local OPFS API is too old for opfs-sahpool:","it has an async FileSystemSyncAccessHandle.close() method."),!0};t.installOpfsSAHPoolVfs=async function(R=Object.create(null)){var x;R=Object.assign(Object.create(null),V,R||{});const u=R.name;if(R.$testThrowPhase1)throw R.$testThrowPhase1;if(s[u])try{return await s[u]}catch(k){if(R.forceReinitIfPreviouslyFailed)delete s[u];else throw k}return!globalThis.FileSystemHandle||!globalThis.FileSystemDirectoryHandle||!globalThis.FileSystemFileHandle||!globalThis.FileSystemFileHandle.prototype.createSyncAccessHandle||!((x=navigator==null?void 0:navigator.storage)!=null&&x.getDirectory)?s[u]=Promise.reject(new Error("Missing required OPFS APIs.")):s[u]=me().then(async function(){if(R.$testThrowPhase2)throw R.$testThrowPhase2;const k=new ie(R);return k.isReady.then(async()=>{const P=new be(k);if(t.oo1){const G=t.oo1,ee=k.getVfs(),le=function(...Se){const st=G.DB.dbCtorHelper.normalizeArgs(...Se);st.vfs=ee.$zName,G.DB.dbCtorHelper.call(this,st)};le.prototype=Object.create(G.DB.prototype),P.OpfsSAHPoolDb=le}return k.log("VFS initialized."),P}).catch(async P=>{throw await k.removeVfs().catch(()=>{}),P})}).catch(k=>s[u]=Promise.reject(k))}}),typeof i<"u"){const t=Object.assign(Object.create(null),{exports:typeof p>"u"?i.asm:p,memory:i.wasmMemory},globalThis.sqlite3ApiConfig||{});globalThis.sqlite3ApiConfig=t;let n;try{n=globalThis.sqlite3ApiBootstrap()}catch(r){throw console.error("sqlite3ApiBootstrap() error:",r),r}finally{delete globalThis.sqlite3ApiBootstrap,delete globalThis.sqlite3ApiConfig}i.sqlite3=n}else console.warn("This is not running in an Emscripten module context, so","globalThis.sqlite3ApiBootstrap() is _not_ being called due to lack","of config info for the WASM environment.","It must be called manually.")},Ee=Xe,Ee}})();const ur=function(){var Ee,i;const _e=Kt;if(!_e)throw new Error("Expecting globalThis.sqlite3InitModule to be defined by the Emscripten build.");const oe=globalThis.sqlite3InitModuleState=Object.assign(Object.create(null),{moduleScript:(Ee=globalThis==null?void 0:globalThis.document)==null?void 0:Ee.currentScript,isWorker:typeof WorkerGlobalScope<"u",location:globalThis.location,urlParams:(i=globalThis==null?void 0:globalThis.location)!=null&&i.href?new URL(globalThis.location.href).searchParams:new URLSearchParams});if(oe.debugModule=oe.urlParams.has("sqlite3.debugModule")?(...Be)=>console.warn("sqlite3.debugModule:",...Be):()=>{},oe.urlParams.has("sqlite3.dir"))oe.sqlite3Dir=oe.urlParams.get("sqlite3.dir")+"/";else if(oe.moduleScript){const Be=oe.moduleScript.src.split("/");Be.pop(),oe.sqlite3Dir=Be.join("/")+"/"}if(globalThis.sqlite3InitModule=function Be(...Ne){return _e(...Ne).then(Xe=>{Xe.runSQLite3PostLoadInit(Xe);const it=Xe.sqlite3;it.scriptInfo=oe,Be.__isUnderTest&&(it.__isUnderTest=!0);const dt=it.asyncPostInit;return delete it.asyncPostInit,dt()}).catch(Xe=>{throw console.error("Exception loading sqlite3 module:",Xe),Xe})},globalThis.sqlite3InitModule.ready=_e.ready,globalThis.sqlite3InitModuleState.moduleScript){const Be=globalThis.sqlite3InitModuleState;let Ne=Be.moduleScript.src.split("/");Ne.pop(),Be.scriptDir=Ne.join("/")+"/"}return oe.debugModule("sqlite3InitModuleState =",oe),globalThis.sqlite3InitModule}();Kt=ur;var fr=Kt,dr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function pr(_e){return _e&&_e.__esModule&&Object.prototype.hasOwnProperty.call(_e,"default")?_e.default:_e}var sn={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/(function(_e,oe){((Ee,i)=>{_e.exports=i()})(dr,function Ee(){var i=typeof self<"u"?self:typeof window<"u"?window:i!==void 0?i:{},Be,Ne=!i.document&&!!i.postMessage,Xe=i.IS_PAPA_WORKER||!1,it={},dt=0,ue={};function ot(S){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(T){var W=Ye(T);W.chunkSize=parseInt(W.chunkSize),T.step||T.chunk||(W.chunkSize=null),this._handle=new wt(W),(this._handle.streamer=this)._config=W}).call(this,S),this.parseChunk=function(T,W){var te=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<te){let ve=this._config.newline;ve||(ne=this._config.quoteChar||'"',ve=this._handle.guessLineEndings(T,ne)),T=[...T.split(ve).slice(te)].join(ve)}this.isFirstChunk&&Pe(this._config.beforeFirstChunk)&&(ne=this._config.beforeFirstChunk(T))!==void 0&&(T=ne),this.isFirstChunk=!1,this._halted=!1;var te=this._partialLine+T,ne=(this._partialLine="",this._handle.parse(te,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(T=ne.meta.cursor,te=(this._finished||(this._partialLine=te.substring(T-this._baseIndex),this._baseIndex=T),ne&&ne.data&&(this._rowCount+=ne.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),Xe)i.postMessage({results:ne,workerId:ue.WORKER_ID,finished:te});else if(Pe(this._config.chunk)&&!W){if(this._config.chunk(ne,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=ne=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(ne.data),this._completeResults.errors=this._completeResults.errors.concat(ne.errors),this._completeResults.meta=ne.meta),this._completed||!te||!Pe(this._config.complete)||ne&&ne.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),te||ne&&ne.meta.paused||this._nextChunk(),ne}this._halted=!0},this._sendError=function(T){Pe(this._config.error)?this._config.error(T):Xe&&this._config.error&&i.postMessage({workerId:ue.WORKER_ID,error:T,finished:!1})}}function yt(S){var T;(S=S||{}).chunkSize||(S.chunkSize=ue.RemoteChunkSize),ot.call(this,S),this._nextChunk=Ne?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(W){this._input=W,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(T=new XMLHttpRequest,this._config.withCredentials&&(T.withCredentials=this._config.withCredentials),Ne||(T.onload=at(this._chunkLoaded,this),T.onerror=at(this._chunkError,this)),T.open(this._config.downloadRequestBody?"POST":"GET",this._input,!Ne),this._config.downloadRequestHeaders){var W,te=this._config.downloadRequestHeaders;for(W in te)T.setRequestHeader(W,te[W])}var ne;this._config.chunkSize&&(ne=this._start+this._config.chunkSize-1,T.setRequestHeader("Range","bytes="+this._start+"-"+ne));try{T.send(this._config.downloadRequestBody)}catch(ve){this._chunkError(ve.message)}Ne&&T.status===0&&this._chunkError()}},this._chunkLoaded=function(){T.readyState===4&&(T.status<200||400<=T.status?this._chunkError():(this._start+=this._config.chunkSize||T.responseText.length,this._finished=!this._config.chunkSize||this._start>=(W=>(W=W.getResponseHeader("Content-Range"))!==null?parseInt(W.substring(W.lastIndexOf("/")+1)):-1)(T),this.parseChunk(T.responseText)))},this._chunkError=function(W){W=T.statusText||W,this._sendError(new Error(W))}}function Ge(S){(S=S||{}).chunkSize||(S.chunkSize=ue.LocalChunkSize),ot.call(this,S);var T,W,te=typeof FileReader<"u";this.stream=function(ne){this._input=ne,W=ne.slice||ne.webkitSlice||ne.mozSlice,te?((T=new FileReader).onload=at(this._chunkLoaded,this),T.onerror=at(this._chunkError,this)):T=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var ne=this._input,ve=(this._config.chunkSize&&(ve=Math.min(this._start+this._config.chunkSize,this._input.size),ne=W.call(ne,this._start,ve)),T.readAsText(ne,this._config.encoding));te||this._chunkLoaded({target:{result:ve}})},this._chunkLoaded=function(ne){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(ne.target.result)},this._chunkError=function(){this._sendError(T.error)}}function At(S){var T;ot.call(this,S=S||{}),this.stream=function(W){return T=W,this._nextChunk()},this._nextChunk=function(){var W,te;if(!this._finished)return W=this._config.chunkSize,T=W?(te=T.substring(0,W),T.substring(W)):(te=T,""),this._finished=!T,this.parseChunk(te)}}function qt(S){ot.call(this,S=S||{});var T=[],W=!0,te=!1;this.pause=function(){ot.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){ot.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(ne){this._input=ne,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){te&&T.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),T.length?this.parseChunk(T.shift()):W=!0},this._streamData=at(function(ne){try{T.push(typeof ne=="string"?ne:ne.toString(this._config.encoding)),W&&(W=!1,this._checkIsFinished(),this.parseChunk(T.shift()))}catch(ve){this._streamError(ve)}},this),this._streamError=at(function(ne){this._streamCleanUp(),this._sendError(ne)},this),this._streamEnd=at(function(){this._streamCleanUp(),te=!0,this._streamData("")},this),this._streamCleanUp=at(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function wt(S){var T,W,te,ne,ve=Math.pow(2,53),We=-ve,lt=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,_t=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,Ae=this,Me=0,pe=0,Ze=!1,we=!1,qe=[],se={data:[],errors:[],meta:{}};function Ke(Ie){return S.skipEmptyLines==="greedy"?Ie.join("").trim()==="":Ie.length===1&&Ie[0].length===0}function je(){if(se&&te&&(rt("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+ue.DefaultDelimiter+"'"),te=!1),S.skipEmptyLines&&(se.data=se.data.filter(function(fe){return!Ke(fe)})),He()){let fe=function(De,Ve){Pe(S.transformHeader)&&(De=S.transformHeader(De,Ve)),qe.push(De)};if(se)if(Array.isArray(se.data[0])){for(var Ie=0;He()&&Ie<se.data.length;Ie++)se.data[Ie].forEach(fe);se.data.splice(0,1)}else se.data.forEach(fe)}function Oe(fe,De){for(var Ve=S.header?{}:[],Le=0;Le<fe.length;Le++){var Ce=Le,ke=fe[Le],ke=((ht,ge)=>(ce=>(S.dynamicTypingFunction&&S.dynamicTyping[ce]===void 0&&(S.dynamicTyping[ce]=S.dynamicTypingFunction(ce)),(S.dynamicTyping[ce]||S.dynamicTyping)===!0))(ht)?ge==="true"||ge==="TRUE"||ge!=="false"&&ge!=="FALSE"&&((ce=>{if(lt.test(ce)&&(ce=parseFloat(ce),We<ce&&ce<ve))return 1})(ge)?parseFloat(ge):_t.test(ge)?new Date(ge):ge===""?null:ge):ge)(Ce=S.header?Le>=qe.length?"__parsed_extra":qe[Le]:Ce,ke=S.transform?S.transform(ke,Ce):ke);Ce==="__parsed_extra"?(Ve[Ce]=Ve[Ce]||[],Ve[Ce].push(ke)):Ve[Ce]=ke}return S.header&&(Le>qe.length?rt("FieldMismatch","TooManyFields","Too many fields: expected "+qe.length+" fields but parsed "+Le,pe+De):Le<qe.length&&rt("FieldMismatch","TooFewFields","Too few fields: expected "+qe.length+" fields but parsed "+Le,pe+De)),Ve}var Ue;se&&(S.header||S.dynamicTyping||S.transform)&&(Ue=1,!se.data.length||Array.isArray(se.data[0])?(se.data=se.data.map(Oe),Ue=se.data.length):se.data=Oe(se.data,0),S.header&&se.meta&&(se.meta.fields=qe),pe+=Ue)}function He(){return S.header&&qe.length===0}function rt(Ie,Oe,Ue,fe){Ie={type:Ie,code:Oe,message:Ue},fe!==void 0&&(Ie.row=fe),se.errors.push(Ie)}Pe(S.step)&&(ne=S.step,S.step=function(Ie){se=Ie,He()?je():(je(),se.data.length!==0&&(Me+=Ie.data.length,S.preview&&Me>S.preview?W.abort():(se.data=se.data[0],ne(se,Ae))))}),this.parse=function(Ie,Oe,Ue){var fe=S.quoteChar||'"',fe=(S.newline||(S.newline=this.guessLineEndings(Ie,fe)),te=!1,S.delimiter?Pe(S.delimiter)&&(S.delimiter=S.delimiter(Ie),se.meta.delimiter=S.delimiter):((fe=((De,Ve,Le,Ce,ke)=>{var ht,ge,ce,vt;ke=ke||[",","	","|",";",ue.RECORD_SEP,ue.UNIT_SEP];for(var It=0;It<ke.length;It++){for(var Je,Ot=ke[It],ze=0,ut=0,Qe=0,et=(ce=void 0,new ct({comments:Ce,delimiter:Ot,newline:Ve,preview:10}).parse(De)),gt=0;gt<et.data.length;gt++)Le&&Ke(et.data[gt])?Qe++:(Je=et.data[gt].length,ut+=Je,ce===void 0?ce=Je:0<Je&&(ze+=Math.abs(Je-ce),ce=Je));0<et.data.length&&(ut/=et.data.length-Qe),(ge===void 0||ze<=ge)&&(vt===void 0||vt<ut)&&1.99<ut&&(ge=ze,ht=Ot,vt=ut)}return{successful:!!(S.delimiter=ht),bestDelimiter:ht}})(Ie,S.newline,S.skipEmptyLines,S.comments,S.delimitersToGuess)).successful?S.delimiter=fe.bestDelimiter:(te=!0,S.delimiter=ue.DefaultDelimiter),se.meta.delimiter=S.delimiter),Ye(S));return S.preview&&S.header&&fe.preview++,T=Ie,W=new ct(fe),se=W.parse(T,Oe,Ue),je(),Ze?{meta:{paused:!0}}:se||{meta:{paused:!1}}},this.paused=function(){return Ze},this.pause=function(){Ze=!0,W.abort(),T=Pe(S.chunk)?"":T.substring(W.getCharIndex())},this.resume=function(){Ae.streamer._halted?(Ze=!1,Ae.streamer.parseChunk(T,!0)):setTimeout(Ae.resume,3)},this.aborted=function(){return we},this.abort=function(){we=!0,W.abort(),se.meta.aborted=!0,Pe(S.complete)&&S.complete(se),T=""},this.guessLineEndings=function(De,fe){De=De.substring(0,1048576);var fe=new RegExp(pt(fe)+"([^]*?)"+pt(fe),"gm"),Ue=(De=De.replace(fe,"")).split("\r"),fe=De.split(`
`),De=1<fe.length&&fe[0].length<Ue[0].length;if(Ue.length===1||De)return`
`;for(var Ve=0,Le=0;Le<Ue.length;Le++)Ue[Le][0]===`
`&&Ve++;return Ve>=Ue.length/2?`\r
`:"\r"}}function pt(S){return S.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function ct(S){var T=(S=S||{}).delimiter,W=S.newline,te=S.comments,ne=S.step,ve=S.preview,We=S.fastMode,lt=null,_t=!1,Ae=S.quoteChar==null?'"':S.quoteChar,Me=Ae;if(S.escapeChar!==void 0&&(Me=S.escapeChar),(typeof T!="string"||-1<ue.BAD_DELIMITERS.indexOf(T))&&(T=","),te===T)throw new Error("Comment character same as delimiter");te===!0?te="#":(typeof te!="string"||-1<ue.BAD_DELIMITERS.indexOf(te))&&(te=!1),W!==`
`&&W!=="\r"&&W!==`\r
`&&(W=`
`);var pe=0,Ze=!1;this.parse=function(we,qe,se){if(typeof we!="string")throw new Error("Input must be a string");var Ke=we.length,je=T.length,He=W.length,rt=te.length,Ie=Pe(ne),Oe=[],Ue=[],fe=[],De=pe=0;if(!we)return ze();if(We||We!==!1&&we.indexOf(Ae)===-1){for(var Ve=we.split(W),Le=0;Le<Ve.length;Le++){if(fe=Ve[Le],pe+=fe.length,Le!==Ve.length-1)pe+=W.length;else if(se)return ze();if(!te||fe.substring(0,rt)!==te){if(Ie){if(Oe=[],vt(fe.split(T)),ut(),Ze)return ze()}else vt(fe.split(T));if(ve&&ve<=Le)return Oe=Oe.slice(0,ve),ze(!0)}}return ze()}for(var Ce=we.indexOf(T,pe),ke=we.indexOf(W,pe),ht=new RegExp(pt(Me)+pt(Ae),"g"),ge=we.indexOf(Ae,pe);;)if(we[pe]===Ae)for(ge=pe,pe++;;){if((ge=we.indexOf(Ae,ge+1))===-1)return se||Ue.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:Oe.length,index:pe}),Je();if(ge===Ke-1)return Je(we.substring(pe,ge).replace(ht,Ae));if(Ae===Me&&we[ge+1]===Me)ge++;else if(Ae===Me||ge===0||we[ge-1]!==Me){Ce!==-1&&Ce<ge+1&&(Ce=we.indexOf(T,ge+1));var ce=It((ke=ke!==-1&&ke<ge+1?we.indexOf(W,ge+1):ke)===-1?Ce:Math.min(Ce,ke));if(we.substr(ge+1+ce,je)===T){fe.push(we.substring(pe,ge).replace(ht,Ae)),we[pe=ge+1+ce+je]!==Ae&&(ge=we.indexOf(Ae,pe)),Ce=we.indexOf(T,pe),ke=we.indexOf(W,pe);break}if(ce=It(ke),we.substring(ge+1+ce,ge+1+ce+He)===W){if(fe.push(we.substring(pe,ge).replace(ht,Ae)),Ot(ge+1+ce+He),Ce=we.indexOf(T,pe),ge=we.indexOf(Ae,pe),Ie&&(ut(),Ze))return ze();if(ve&&Oe.length>=ve)return ze(!0);break}Ue.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:Oe.length,index:pe}),ge++}}else if(te&&fe.length===0&&we.substring(pe,pe+rt)===te){if(ke===-1)return ze();pe=ke+He,ke=we.indexOf(W,pe),Ce=we.indexOf(T,pe)}else if(Ce!==-1&&(Ce<ke||ke===-1))fe.push(we.substring(pe,Ce)),pe=Ce+je,Ce=we.indexOf(T,pe);else{if(ke===-1)break;if(fe.push(we.substring(pe,ke)),Ot(ke+He),Ie&&(ut(),Ze))return ze();if(ve&&Oe.length>=ve)return ze(!0)}return Je();function vt(Qe){Oe.push(Qe),De=pe}function It(Qe){var et=0;return et=Qe!==-1&&(Qe=we.substring(ge+1,Qe))&&Qe.trim()===""?Qe.length:et}function Je(Qe){return se||(Qe===void 0&&(Qe=we.substring(pe)),fe.push(Qe),pe=Ke,vt(fe),Ie&&ut()),ze()}function Ot(Qe){pe=Qe,vt(fe),fe=[],ke=we.indexOf(W,pe)}function ze(Qe){if(S.header&&!qe&&Oe.length&&!_t){var et=Oe[0],gt=Object.create(null),Nt=new Set(et);let xt=!1;for(let Ft=0;Ft<et.length;Ft++){let mt=et[Ft];if(gt[mt=Pe(S.transformHeader)?S.transformHeader(mt,Ft):mt]){let Pt,he=gt[mt];for(;Pt=mt+"_"+he,he++,Nt.has(Pt););Nt.add(Pt),et[Ft]=Pt,gt[mt]++,xt=!0,(lt=lt===null?{}:lt)[Pt]=mt}else gt[mt]=1,et[Ft]=mt;Nt.add(mt)}xt&&console.warn("Duplicate headers found and renamed."),_t=!0}return{data:Oe,errors:Ue,meta:{delimiter:T,linebreak:W,aborted:Ze,truncated:!!Qe,cursor:De+(qe||0),renamedHeaders:lt}}}function ut(){ne(ze()),Oe=[],Ue=[]}},this.abort=function(){Ze=!0},this.getCharIndex=function(){return pe}}function Tt(S){var T=S.data,W=it[T.workerId],te=!1;if(T.error)W.userError(T.error,T.file);else if(T.results&&T.results.data){var ne={abort:function(){te=!0,Et(T.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:Dt,resume:Dt};if(Pe(W.userStep)){for(var ve=0;ve<T.results.data.length&&(W.userStep({data:T.results.data[ve],errors:T.results.errors,meta:T.results.meta},ne),!te);ve++);delete T.results}else Pe(W.userChunk)&&(W.userChunk(T.results,ne,T.file),delete T.results)}T.finished&&!te&&Et(T.workerId,T.results)}function Et(S,T){var W=it[S];Pe(W.userComplete)&&W.userComplete(T),W.terminate(),delete it[S]}function Dt(){throw new Error("Not implemented.")}function Ye(S){if(typeof S!="object"||S===null)return S;var T,W=Array.isArray(S)?[]:{};for(T in S)W[T]=Ye(S[T]);return W}function at(S,T){return function(){S.apply(T,arguments)}}function Pe(S){return typeof S=="function"}return ue.parse=function(S,T){var W=(T=T||{}).dynamicTyping||!1;if(Pe(W)&&(T.dynamicTypingFunction=W,W={}),T.dynamicTyping=W,T.transform=!!Pe(T.transform)&&T.transform,!T.worker||!ue.WORKERS_SUPPORTED)return W=null,ue.NODE_STREAM_INPUT,typeof S=="string"?(S=(te=>te.charCodeAt(0)!==65279?te:te.slice(1))(S),W=new(T.download?yt:At)(T)):S.readable===!0&&Pe(S.read)&&Pe(S.on)?W=new qt(T):(i.File&&S instanceof File||S instanceof Object)&&(W=new Ge(T)),W.stream(S);(W=(()=>{var te;return!!ue.WORKERS_SUPPORTED&&(te=(()=>{var ne=i.URL||i.webkitURL||null,ve=Ee.toString();return ue.BLOB_URL||(ue.BLOB_URL=ne.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",ve,")();"],{type:"text/javascript"})))})(),(te=new i.Worker(te)).onmessage=Tt,te.id=dt++,it[te.id]=te)})()).userStep=T.step,W.userChunk=T.chunk,W.userComplete=T.complete,W.userError=T.error,T.step=Pe(T.step),T.chunk=Pe(T.chunk),T.complete=Pe(T.complete),T.error=Pe(T.error),delete T.worker,W.postMessage({input:S,config:T,workerId:W.id})},ue.unparse=function(S,T){var W=!1,te=!0,ne=",",ve=`\r
`,We='"',lt=We+We,_t=!1,Ae=null,Me=!1,pe=((()=>{if(typeof T=="object"){if(typeof T.delimiter!="string"||ue.BAD_DELIMITERS.filter(function(qe){return T.delimiter.indexOf(qe)!==-1}).length||(ne=T.delimiter),typeof T.quotes!="boolean"&&typeof T.quotes!="function"&&!Array.isArray(T.quotes)||(W=T.quotes),typeof T.skipEmptyLines!="boolean"&&typeof T.skipEmptyLines!="string"||(_t=T.skipEmptyLines),typeof T.newline=="string"&&(ve=T.newline),typeof T.quoteChar=="string"&&(We=T.quoteChar),typeof T.header=="boolean"&&(te=T.header),Array.isArray(T.columns)){if(T.columns.length===0)throw new Error("Option columns is empty");Ae=T.columns}T.escapeChar!==void 0&&(lt=T.escapeChar+We),T.escapeFormulae instanceof RegExp?Me=T.escapeFormulae:typeof T.escapeFormulae=="boolean"&&T.escapeFormulae&&(Me=/^[=+\-@\t\r].*$/)}})(),new RegExp(pt(We),"g"));if(typeof S=="string"&&(S=JSON.parse(S)),Array.isArray(S)){if(!S.length||Array.isArray(S[0]))return Ze(null,S,_t);if(typeof S[0]=="object")return Ze(Ae||Object.keys(S[0]),S,_t)}else if(typeof S=="object")return typeof S.data=="string"&&(S.data=JSON.parse(S.data)),Array.isArray(S.data)&&(S.fields||(S.fields=S.meta&&S.meta.fields||Ae),S.fields||(S.fields=Array.isArray(S.data[0])?S.fields:typeof S.data[0]=="object"?Object.keys(S.data[0]):[]),Array.isArray(S.data[0])||typeof S.data[0]=="object"||(S.data=[S.data])),Ze(S.fields||[],S.data||[],_t);throw new Error("Unable to serialize unrecognized input");function Ze(qe,se,Ke){var je="",He=(typeof qe=="string"&&(qe=JSON.parse(qe)),typeof se=="string"&&(se=JSON.parse(se)),Array.isArray(qe)&&0<qe.length),rt=!Array.isArray(se[0]);if(He&&te){for(var Ie=0;Ie<qe.length;Ie++)0<Ie&&(je+=ne),je+=we(qe[Ie],Ie);0<se.length&&(je+=ve)}for(var Oe=0;Oe<se.length;Oe++){var Ue=(He?qe:se[Oe]).length,fe=!1,De=He?Object.keys(se[Oe]).length===0:se[Oe].length===0;if(Ke&&!He&&(fe=Ke==="greedy"?se[Oe].join("").trim()==="":se[Oe].length===1&&se[Oe][0].length===0),Ke==="greedy"&&He){for(var Ve=[],Le=0;Le<Ue;Le++){var Ce=rt?qe[Le]:Le;Ve.push(se[Oe][Ce])}fe=Ve.join("").trim()===""}if(!fe){for(var ke=0;ke<Ue;ke++){0<ke&&!De&&(je+=ne);var ht=He&&rt?qe[ke]:ke;je+=we(se[Oe][ht],ke)}Oe<se.length-1&&(!Ke||0<Ue&&!De)&&(je+=ve)}}return je}function we(qe,se){var Ke,je;return qe==null?"":qe.constructor===Date?JSON.stringify(qe).slice(1,25):(je=!1,Me&&typeof qe=="string"&&Me.test(qe)&&(qe="'"+qe,je=!0),Ke=qe.toString().replace(pe,lt),(je=je||W===!0||typeof W=="function"&&W(qe,se)||Array.isArray(W)&&W[se]||((He,rt)=>{for(var Ie=0;Ie<rt.length;Ie++)if(-1<He.indexOf(rt[Ie]))return!0;return!1})(Ke,ue.BAD_DELIMITERS)||-1<Ke.indexOf(ne)||Ke.charAt(0)===" "||Ke.charAt(Ke.length-1)===" ")?We+Ke+We:Ke)}},ue.RECORD_SEP="",ue.UNIT_SEP="",ue.BYTE_ORDER_MARK="\uFEFF",ue.BAD_DELIMITERS=["\r",`
`,'"',ue.BYTE_ORDER_MARK],ue.WORKERS_SUPPORTED=!Ne&&!!i.Worker,ue.NODE_STREAM_INPUT=1,ue.LocalChunkSize=10485760,ue.RemoteChunkSize=5242880,ue.DefaultDelimiter=",",ue.Parser=ct,ue.ParserHandle=wt,ue.NetworkStreamer=yt,ue.FileStreamer=Ge,ue.StringStreamer=At,ue.ReadableStreamStreamer=qt,i.jQuery&&((Be=i.jQuery).fn.parse=function(S){var T=S.config||{},W=[];return this.each(function(ve){if(!(Be(this).prop("tagName").toUpperCase()==="INPUT"&&Be(this).attr("type").toLowerCase()==="file"&&i.FileReader)||!this.files||this.files.length===0)return!0;for(var We=0;We<this.files.length;We++)W.push({file:this.files[We],inputElem:this,instanceConfig:Be.extend({},T)})}),te(),this;function te(){if(W.length===0)Pe(S.complete)&&S.complete();else{var ve,We,lt,_t,Ae=W[0];if(Pe(S.before)){var Me=S.before(Ae.file,Ae.inputElem);if(typeof Me=="object"){if(Me.action==="abort")return ve="AbortError",We=Ae.file,lt=Ae.inputElem,_t=Me.reason,void(Pe(S.error)&&S.error({name:ve},We,lt,_t));if(Me.action==="skip")return void ne();typeof Me.config=="object"&&(Ae.instanceConfig=Be.extend(Ae.instanceConfig,Me.config))}else if(Me==="skip")return void ne()}var pe=Ae.instanceConfig.complete;Ae.instanceConfig.complete=function(Ze){Pe(pe)&&pe(Ze,Ae.file,Ae.inputElem),ne()},ue.parse(Ae.file,Ae.instanceConfig)}}function ne(){W.splice(0,1),te()}}),Xe&&(i.onmessage=function(S){S=S.data,ue.WORKER_ID===void 0&&S&&(ue.WORKER_ID=S.workerId),typeof S.input=="string"?i.postMessage({workerId:ue.WORKER_ID,results:ue.parse(S.input,S.config),finished:!0}):(i.File&&S.input instanceof File||S.input instanceof Object)&&(S=ue.parse(S.input,S.config))&&i.postMessage({workerId:ue.WORKER_ID,results:S,finished:!0})}),(yt.prototype=Object.create(ot.prototype)).constructor=yt,(Ge.prototype=Object.create(ot.prototype)).constructor=Ge,(At.prototype=Object.create(At.prototype)).constructor=At,(qt.prototype=Object.create(ot.prototype)).constructor=qt,ue})})(sn);var hr=sn.exports,mr=pr(hr);let Lt=null,Wt=null;async function gr(){try{Wt=await fr(),Lt=new Wt.oo1.DB(":memory:","c"),self.postMessage({type:"DB_READY"})}catch(_e){console.error("Error initializing SQLite:",_e),self.postMessage({type:"DB_ERROR",payload:{error:_e.message}})}}gr();self.onmessage=async _e=>{const{type:oe,payload:Ee}=_e.data;switch(oe){case"IMPORT_CSV":br(Ee);break;case"CREATE_TEST_TABLE":yr(Ee);break;case"UPLOAD_TO_SQLITE":qr(Ee);break;case"UPDATE_POSITION":break;case"EXPORT_DATABASE":wr();break;default:console.log("Unknown message type:",oe)}};function br(_e){const{fileBuffer:oe,tableName:Ee,dropPosition:i}=_e,Be=new TextDecoder().decode(oe),Ne=mr.parse(Be,{header:!0,skipEmptyLines:!0}),Xe=Ne.meta.fields,it=Ne.data,dt=`${Ee}_${Date.now()}`,ue={id:dt,title:dt,x:i.x,y:i.y,schema:Xe.map(ot=>({name:ot,type:"TEXT"})),rowCount:it.length,data:it.slice(0,5)};self.postMessage({type:"NODE_CREATED",payload:{node:ue}})}function yr(_e){const{position:oe={x:100,y:100}}=_e,Ee=`test_table_${Date.now()}`,i=[];for(let Ne=0;Ne<5;Ne++)i.push({X:(Math.random()*100).toFixed(2),Y:(Math.random()*100).toFixed(2),Z:(Math.random()*100).toFixed(2)});const Be={id:Ee,title:Ee,x:oe.x,y:oe.y,schema:[{name:"X",type:"TEXT"},{name:"Y",type:"TEXT"},{name:"Z",type:"TEXT"}],rowCount:5,data:i};self.postMessage({type:"NODE_CREATED",payload:{node:Be}})}function qr(_e){var Ne;const{tableName:oe,schema:Ee,data:i,rowCount:Be}=_e;if(!Lt||!Wt){self.postMessage({type:"UPLOAD_STATUS",payload:{success:!1,message:"SQLite database not initialized. Currently using dummy data mode."}});return}try{const Xe=`SELECT name FROM sqlite_master WHERE type='table' AND name='${oe}'`;if(Lt.exec(Xe).length>0){self.postMessage({type:"UPLOAD_STATUS",payload:{success:!1,message:`Table "${oe}" already exists in SQLite database`}});return}const dt=Ee.map(Ge=>`"${Ge.name}" ${Ge.type}`).join(", "),ue=`CREATE TABLE "${oe}" (${dt})`;if(Lt.exec(ue),i&&i.length>0){const Ge=Ee.map(pt=>`"${pt.name}"`).join(", "),At=Ee.map(()=>"?").join(", "),qt=`INSERT INTO "${oe}" (${Ge}) VALUES (${At})`,wt=Lt.prepare(qt);for(const pt of i){const ct=Ee.map(Tt=>pt[Tt.name]||null);wt.run(ct)}wt.finalize()}const yt=((Ne=Lt.exec(`SELECT COUNT(*) as count FROM "${oe}";`,{rowMode:"object"})[0])==null?void 0:Ne.count)||0;self.postMessage({type:"UPLOAD_STATUS",payload:{success:!0,message:`Successfully uploaded "${oe}" to SQLite database with ${yt} rows`,tableName:oe,actualRowCount:yt}})}catch(Xe){console.error("Error uploading to SQLite:",Xe),self.postMessage({type:"UPLOAD_STATUS",payload:{success:!1,message:`Error uploading "${oe}": ${Xe.message}`}})}}function wr(){const _e=Wt.capi.sqlite3_js_db_export(Lt.pointer);self.postMessage({type:"DATABASE_EXPORTED",payload:{dbBytes:_e}})}
